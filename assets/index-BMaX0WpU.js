(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))u(h);new MutationObserver(h=>{for(const m of h)if(m.type==="childList")for(const x of m.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&u(x)}).observe(document,{childList:!0,subtree:!0});function f(h){const m={};return h.integrity&&(m.integrity=h.integrity),h.referrerPolicy&&(m.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?m.credentials="include":h.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function u(h){if(h.ep)return;h.ep=!0;const m=f(h);fetch(h.href,m)}})();function If(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Do={exports:{}},Xn={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bf;function bb(){if(Bf)return Xn;Bf=1;var r=Symbol.for("react.transitional.element"),o=Symbol.for("react.fragment");function f(u,h,m){var x=null;if(m!==void 0&&(x=""+m),h.key!==void 0&&(x=""+h.key),"key"in h){m={};for(var C in h)C!=="key"&&(m[C]=h[C])}else m=h;return h=m.ref,{$$typeof:r,type:u,key:x,ref:h!==void 0?h:null,props:m}}return Xn.Fragment=o,Xn.jsx=f,Xn.jsxs=f,Xn}var Lf;function pb(){return Lf||(Lf=1,Do.exports=bb()),Do.exports}var s=pb(),ko={exports:{}},ue={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uf;function xb(){if(Uf)return ue;Uf=1;var r=Symbol.for("react.transitional.element"),o=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),m=Symbol.for("react.consumer"),x=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),k=Symbol.iterator;function _(p){return p===null||typeof p!="object"?null:(p=k&&p[k]||p["@@iterator"],typeof p=="function"?p:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,y={};function w(p,G,S){this.props=p,this.context=G,this.refs=y,this.updater=S||T}w.prototype.isReactComponent={},w.prototype.setState=function(p,G){if(typeof p!="object"&&typeof p!="function"&&p!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,p,G,"setState")},w.prototype.forceUpdate=function(p){this.updater.enqueueForceUpdate(this,p,"forceUpdate")};function Z(){}Z.prototype=w.prototype;function X(p,G,S){this.props=p,this.context=G,this.refs=y,this.updater=S||T}var K=X.prototype=new Z;K.constructor=X,E(K,w.prototype),K.isPureReactComponent=!0;var J=Array.isArray;function ee(){}var H={H:null,A:null,T:null,S:null},se=Object.prototype.hasOwnProperty;function re(p,G,S){var q=S.ref;return{$$typeof:r,type:p,key:G,ref:q!==void 0?q:null,props:S}}function Ge(p,G){return re(p.type,G,p.props)}function we(p){return typeof p=="object"&&p!==null&&p.$$typeof===r}function Se(p){var G={"=":"=0",":":"=2"};return"$"+p.replace(/[=:]/g,function(S){return G[S]})}var Ve=/\/+/g;function Re(p,G){return typeof p=="object"&&p!==null&&p.key!=null?Se(""+p.key):G.toString(36)}function qe(p){switch(p.status){case"fulfilled":return p.value;case"rejected":throw p.reason;default:switch(typeof p.status=="string"?p.then(ee,ee):(p.status="pending",p.then(function(G){p.status==="pending"&&(p.status="fulfilled",p.value=G)},function(G){p.status==="pending"&&(p.status="rejected",p.reason=G)})),p.status){case"fulfilled":return p.value;case"rejected":throw p.reason}}throw p}function z(p,G,S,q,Q){var I=typeof p;(I==="undefined"||I==="boolean")&&(p=null);var ie=!1;if(p===null)ie=!0;else switch(I){case"bigint":case"string":case"number":ie=!0;break;case"object":switch(p.$$typeof){case r:case o:ie=!0;break;case B:return ie=p._init,z(ie(p._payload),G,S,q,Q)}}if(ie)return Q=Q(p),ie=q===""?"."+Re(p,0):q,J(Q)?(S="",ie!=null&&(S=ie.replace(Ve,"$&/")+"/"),z(Q,G,S,"",function(Qe){return Qe})):Q!=null&&(we(Q)&&(Q=Ge(Q,S+(Q.key==null||p&&p.key===Q.key?"":(""+Q.key).replace(Ve,"$&/")+"/")+ie)),G.push(Q)),1;ie=0;var me=q===""?".":q+":";if(J(p))for(var oe=0;oe<p.length;oe++)q=p[oe],I=me+Re(q,oe),ie+=z(q,G,S,I,Q);else if(oe=_(p),typeof oe=="function")for(p=oe.call(p),oe=0;!(q=p.next()).done;)q=q.value,I=me+Re(q,oe++),ie+=z(q,G,S,I,Q);else if(I==="object"){if(typeof p.then=="function")return z(qe(p),G,S,q,Q);throw G=String(p),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return ie}function $(p,G,S){if(p==null)return p;var q=[],Q=0;return z(p,q,"","",function(I){return G.call(S,I,Q++)}),q}function P(p){if(p._status===-1){var G=p._result;G=G(),G.then(function(S){(p._status===0||p._status===-1)&&(p._status=1,p._result=S)},function(S){(p._status===0||p._status===-1)&&(p._status=2,p._result=S)}),p._status===-1&&(p._status=0,p._result=G)}if(p._status===1)return p._result.default;throw p._result}var be=typeof reportError=="function"?reportError:function(p){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof p=="object"&&p!==null&&typeof p.message=="string"?String(p.message):String(p),error:p});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",p);return}console.error(p)},he={map:$,forEach:function(p,G,S){$(p,function(){G.apply(this,arguments)},S)},count:function(p){var G=0;return $(p,function(){G++}),G},toArray:function(p){return $(p,function(G){return G})||[]},only:function(p){if(!we(p))throw Error("React.Children.only expected to receive a single React element child.");return p}};return ue.Activity=A,ue.Children=he,ue.Component=w,ue.Fragment=f,ue.Profiler=h,ue.PureComponent=X,ue.StrictMode=u,ue.Suspense=j,ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,ue.__COMPILER_RUNTIME={__proto__:null,c:function(p){return H.H.useMemoCache(p)}},ue.cache=function(p){return function(){return p.apply(null,arguments)}},ue.cacheSignal=function(){return null},ue.cloneElement=function(p,G,S){if(p==null)throw Error("The argument must be a React element, but you passed "+p+".");var q=E({},p.props),Q=p.key;if(G!=null)for(I in G.key!==void 0&&(Q=""+G.key),G)!se.call(G,I)||I==="key"||I==="__self"||I==="__source"||I==="ref"&&G.ref===void 0||(q[I]=G[I]);var I=arguments.length-2;if(I===1)q.children=S;else if(1<I){for(var ie=Array(I),me=0;me<I;me++)ie[me]=arguments[me+2];q.children=ie}return re(p.type,Q,q)},ue.createContext=function(p){return p={$$typeof:x,_currentValue:p,_currentValue2:p,_threadCount:0,Provider:null,Consumer:null},p.Provider=p,p.Consumer={$$typeof:m,_context:p},p},ue.createElement=function(p,G,S){var q,Q={},I=null;if(G!=null)for(q in G.key!==void 0&&(I=""+G.key),G)se.call(G,q)&&q!=="key"&&q!=="__self"&&q!=="__source"&&(Q[q]=G[q]);var ie=arguments.length-2;if(ie===1)Q.children=S;else if(1<ie){for(var me=Array(ie),oe=0;oe<ie;oe++)me[oe]=arguments[oe+2];Q.children=me}if(p&&p.defaultProps)for(q in ie=p.defaultProps,ie)Q[q]===void 0&&(Q[q]=ie[q]);return re(p,I,Q)},ue.createRef=function(){return{current:null}},ue.forwardRef=function(p){return{$$typeof:C,render:p}},ue.isValidElement=we,ue.lazy=function(p){return{$$typeof:B,_payload:{_status:-1,_result:p},_init:P}},ue.memo=function(p,G){return{$$typeof:g,type:p,compare:G===void 0?null:G}},ue.startTransition=function(p){var G=H.T,S={};H.T=S;try{var q=p(),Q=H.S;Q!==null&&Q(S,q),typeof q=="object"&&q!==null&&typeof q.then=="function"&&q.then(ee,be)}catch(I){be(I)}finally{G!==null&&S.types!==null&&(G.types=S.types),H.T=G}},ue.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},ue.use=function(p){return H.H.use(p)},ue.useActionState=function(p,G,S){return H.H.useActionState(p,G,S)},ue.useCallback=function(p,G){return H.H.useCallback(p,G)},ue.useContext=function(p){return H.H.useContext(p)},ue.useDebugValue=function(){},ue.useDeferredValue=function(p,G){return H.H.useDeferredValue(p,G)},ue.useEffect=function(p,G){return H.H.useEffect(p,G)},ue.useEffectEvent=function(p){return H.H.useEffectEvent(p)},ue.useId=function(){return H.H.useId()},ue.useImperativeHandle=function(p,G,S){return H.H.useImperativeHandle(p,G,S)},ue.useInsertionEffect=function(p,G){return H.H.useInsertionEffect(p,G)},ue.useLayoutEffect=function(p,G){return H.H.useLayoutEffect(p,G)},ue.useMemo=function(p,G){return H.H.useMemo(p,G)},ue.useOptimistic=function(p,G){return H.H.useOptimistic(p,G)},ue.useReducer=function(p,G,S){return H.H.useReducer(p,G,S)},ue.useRef=function(p){return H.H.useRef(p)},ue.useState=function(p){return H.H.useState(p)},ue.useSyncExternalStore=function(p,G,S){return H.H.useSyncExternalStore(p,G,S)},ue.useTransition=function(){return H.H.useTransition()},ue.version="19.2.3",ue}var Hf;function Ho(){return Hf||(Hf=1,ko.exports=xb()),ko.exports}var L=Ho();const Ce=If(L);var zo={exports:{}},Qn={},Ro={exports:{}},Bo={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gf;function gb(){return Gf||(Gf=1,(function(r){function o(z,$){var P=z.length;z.push($);e:for(;0<P;){var be=P-1>>>1,he=z[be];if(0<h(he,$))z[be]=$,z[P]=he,P=be;else break e}}function f(z){return z.length===0?null:z[0]}function u(z){if(z.length===0)return null;var $=z[0],P=z.pop();if(P!==$){z[0]=P;e:for(var be=0,he=z.length,p=he>>>1;be<p;){var G=2*(be+1)-1,S=z[G],q=G+1,Q=z[q];if(0>h(S,P))q<he&&0>h(Q,S)?(z[be]=Q,z[q]=P,be=q):(z[be]=S,z[G]=P,be=G);else if(q<he&&0>h(Q,P))z[be]=Q,z[q]=P,be=q;else break e}}return $}function h(z,$){var P=z.sortIndex-$.sortIndex;return P!==0?P:z.id-$.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var m=performance;r.unstable_now=function(){return m.now()}}else{var x=Date,C=x.now();r.unstable_now=function(){return x.now()-C}}var j=[],g=[],B=1,A=null,k=3,_=!1,T=!1,E=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function K(z){for(var $=f(g);$!==null;){if($.callback===null)u(g);else if($.startTime<=z)u(g),$.sortIndex=$.expirationTime,o(j,$);else break;$=f(g)}}function J(z){if(E=!1,K(z),!T)if(f(j)!==null)T=!0,ee||(ee=!0,Se());else{var $=f(g);$!==null&&qe(J,$.startTime-z)}}var ee=!1,H=-1,se=5,re=-1;function Ge(){return y?!0:!(r.unstable_now()-re<se)}function we(){if(y=!1,ee){var z=r.unstable_now();re=z;var $=!0;try{e:{T=!1,E&&(E=!1,Z(H),H=-1),_=!0;var P=k;try{t:{for(K(z),A=f(j);A!==null&&!(A.expirationTime>z&&Ge());){var be=A.callback;if(typeof be=="function"){A.callback=null,k=A.priorityLevel;var he=be(A.expirationTime<=z);if(z=r.unstable_now(),typeof he=="function"){A.callback=he,K(z),$=!0;break t}A===f(j)&&u(j),K(z)}else u(j);A=f(j)}if(A!==null)$=!0;else{var p=f(g);p!==null&&qe(J,p.startTime-z),$=!1}}break e}finally{A=null,k=P,_=!1}$=void 0}}finally{$?Se():ee=!1}}}var Se;if(typeof X=="function")Se=function(){X(we)};else if(typeof MessageChannel<"u"){var Ve=new MessageChannel,Re=Ve.port2;Ve.port1.onmessage=we,Se=function(){Re.postMessage(null)}}else Se=function(){w(we,0)};function qe(z,$){H=w(function(){z(r.unstable_now())},$)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(z){z.callback=null},r.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):se=0<z?Math.floor(1e3/z):5},r.unstable_getCurrentPriorityLevel=function(){return k},r.unstable_next=function(z){switch(k){case 1:case 2:case 3:var $=3;break;default:$=k}var P=k;k=$;try{return z()}finally{k=P}},r.unstable_requestPaint=function(){y=!0},r.unstable_runWithPriority=function(z,$){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var P=k;k=z;try{return $()}finally{k=P}},r.unstable_scheduleCallback=function(z,$,P){var be=r.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?be+P:be):P=be,z){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=P+he,z={id:B++,callback:$,priorityLevel:z,startTime:P,expirationTime:he,sortIndex:-1},P>be?(z.sortIndex=P,o(g,z),f(j)===null&&z===f(g)&&(E?(Z(H),H=-1):E=!0,qe(J,P-be))):(z.sortIndex=he,o(j,z),T||_||(T=!0,ee||(ee=!0,Se()))),z},r.unstable_shouldYield=Ge,r.unstable_wrapCallback=function(z){var $=k;return function(){var P=k;k=$;try{return z.apply(this,arguments)}finally{k=P}}}})(Bo)),Bo}var Vf;function vb(){return Vf||(Vf=1,Ro.exports=gb()),Ro.exports}var Lo={exports:{}},ot={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qf;function yb(){if(qf)return ot;qf=1;var r=Ho();function o(j){var g="https://react.dev/errors/"+j;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var B=2;B<arguments.length;B++)g+="&args[]="+encodeURIComponent(arguments[B])}return"Minified React error #"+j+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function f(){}var u={d:{f,r:function(){throw Error(o(522))},D:f,C:f,L:f,m:f,X:f,S:f,M:f},p:0,findDOMNode:null},h=Symbol.for("react.portal");function m(j,g,B){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:h,key:A==null?null:""+A,children:j,containerInfo:g,implementation:B}}var x=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function C(j,g){if(j==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return ot.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=u,ot.createPortal=function(j,g){var B=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(o(299));return m(j,g,null,B)},ot.flushSync=function(j){var g=x.T,B=u.p;try{if(x.T=null,u.p=2,j)return j()}finally{x.T=g,u.p=B,u.d.f()}},ot.preconnect=function(j,g){typeof j=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,u.d.C(j,g))},ot.prefetchDNS=function(j){typeof j=="string"&&u.d.D(j)},ot.preinit=function(j,g){if(typeof j=="string"&&g&&typeof g.as=="string"){var B=g.as,A=C(B,g.crossOrigin),k=typeof g.integrity=="string"?g.integrity:void 0,_=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;B==="style"?u.d.S(j,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:A,integrity:k,fetchPriority:_}):B==="script"&&u.d.X(j,{crossOrigin:A,integrity:k,fetchPriority:_,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},ot.preinitModule=function(j,g){if(typeof j=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var B=C(g.as,g.crossOrigin);u.d.M(j,{crossOrigin:B,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&u.d.M(j)},ot.preload=function(j,g){if(typeof j=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var B=g.as,A=C(B,g.crossOrigin);u.d.L(j,B,{crossOrigin:A,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},ot.preloadModule=function(j,g){if(typeof j=="string")if(g){var B=C(g.as,g.crossOrigin);u.d.m(j,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:B,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else u.d.m(j)},ot.requestFormReset=function(j){u.d.r(j)},ot.unstable_batchedUpdates=function(j,g){return j(g)},ot.useFormState=function(j,g,B){return x.H.useFormState(j,g,B)},ot.useFormStatus=function(){return x.H.useHostTransitionStatus()},ot.version="19.2.3",ot}var Yf;function Sb(){if(Yf)return Lo.exports;Yf=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(o){console.error(o)}}return r(),Lo.exports=yb(),Lo.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xf;function jb(){if(Xf)return Qn;Xf=1;var r=vb(),o=Ho(),f=Sb();function u(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)t+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function h(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function m(e){var t=e,l=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(l=t.return),e=t.return;while(e)}return t.tag===3?l:null}function x(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function C(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function j(e){if(m(e)!==e)throw Error(u(188))}function g(e){var t=e.alternate;if(!t){if(t=m(e),t===null)throw Error(u(188));return t!==e?null:e}for(var l=e,a=t;;){var n=l.return;if(n===null)break;var i=n.alternate;if(i===null){if(a=n.return,a!==null){l=a;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===l)return j(n),e;if(i===a)return j(n),t;i=i.sibling}throw Error(u(188))}if(l.return!==a.return)l=n,a=i;else{for(var c=!1,d=n.child;d;){if(d===l){c=!0,l=n,a=i;break}if(d===a){c=!0,a=n,l=i;break}d=d.sibling}if(!c){for(d=i.child;d;){if(d===l){c=!0,l=i,a=n;break}if(d===a){c=!0,a=i,l=n;break}d=d.sibling}if(!c)throw Error(u(189))}}if(l.alternate!==a)throw Error(u(190))}if(l.tag!==3)throw Error(u(188));return l.stateNode.current===l?e:t}function B(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=B(e),t!==null)return t;e=e.sibling}return null}var A=Object.assign,k=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),Z=Symbol.for("react.consumer"),X=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),se=Symbol.for("react.lazy"),re=Symbol.for("react.activity"),Ge=Symbol.for("react.memo_cache_sentinel"),we=Symbol.iterator;function Se(e){return e===null||typeof e!="object"?null:(e=we&&e[we]||e["@@iterator"],typeof e=="function"?e:null)}var Ve=Symbol.for("react.client.reference");function Re(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ve?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case E:return"Fragment";case w:return"Profiler";case y:return"StrictMode";case J:return"Suspense";case ee:return"SuspenseList";case re:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case T:return"Portal";case X:return e.displayName||"Context";case Z:return(e._context.displayName||"Context")+".Consumer";case K:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case H:return t=e.displayName||null,t!==null?t:Re(e.type)||"Memo";case se:t=e._payload,e=e._init;try{return Re(e(t))}catch{}}return null}var qe=Array.isArray,z=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=f.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P={pending:!1,data:null,method:null,action:null},be=[],he=-1;function p(e){return{current:e}}function G(e){0>he||(e.current=be[he],be[he]=null,he--)}function S(e,t){he++,be[he]=e.current,e.current=t}var q=p(null),Q=p(null),I=p(null),ie=p(null);function me(e,t){switch(S(I,t),S(Q,e),S(q,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?nf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=nf(t),e=sf(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}G(q),S(q,e)}function oe(){G(q),G(Q),G(I)}function Qe(e){e.memoizedState!==null&&S(ie,e);var t=q.current,l=sf(t,e.type);t!==l&&(S(Q,e),S(q,l))}function ze(e){Q.current===e&&(G(q),G(Q)),ie.current===e&&(G(ie),Gn._currentValue=P)}var rt,Be;function St(e){if(rt===void 0)try{throw Error()}catch(l){var t=l.stack.trim().match(/\n( *(at )?)/);rt=t&&t[1]||"",Be=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+rt+e+Be}var jt=!1;function Qa(e,t){if(!e||jt)return"";jt=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(R){var D=R}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(R){D=R}e.call(Y.prototype)}}else{try{throw Error()}catch(R){D=R}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(R){if(R&&D&&typeof R.stack=="string")return[R.stack,D.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=a.DetermineComponentFrameRoot(),c=i[0],d=i[1];if(c&&d){var b=c.split(`
`),M=d.split(`
`);for(n=a=0;a<b.length&&!b[a].includes("DetermineComponentFrameRoot");)a++;for(;n<M.length&&!M[n].includes("DetermineComponentFrameRoot");)n++;if(a===b.length||n===M.length)for(a=b.length-1,n=M.length-1;1<=a&&0<=n&&b[a]!==M[n];)n--;for(;1<=a&&0<=n;a--,n--)if(b[a]!==M[n]){if(a!==1||n!==1)do if(a--,n--,0>n||b[a]!==M[n]){var U=`
`+b[a].replace(" at new "," at ");return e.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",e.displayName)),U}while(1<=a&&0<=n);break}}}finally{jt=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?St(l):""}function mi(e,t){switch(e.tag){case 26:case 27:case 5:return St(e.type);case 16:return St("Lazy");case 13:return e.child!==t&&t!==null?St("Suspense Fallback"):St("Suspense");case 19:return St("SuspenseList");case 0:case 15:return Qa(e.type,!1);case 11:return Qa(e.type.render,!1);case 1:return Qa(e.type,!0);case 31:return St("Activity");default:return""}}function Kn(e){try{var t="",l=null;do t+=mi(e,l),l=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var Za=Object.prototype.hasOwnProperty,Ka=r.unstable_scheduleCallback,Ja=r.unstable_cancelCallback,bi=r.unstable_shouldYield,pi=r.unstable_requestPaint,ut=r.unstable_now,$a=r.unstable_getCurrentPriorityLevel,Wa=r.unstable_ImmediatePriority,na=r.unstable_UserBlockingPriority,sa=r.unstable_NormalPriority,Fa=r.unstable_LowPriority,Jn=r.unstable_IdlePriority,xi=r.log,ia=r.unstable_setDisableYieldValue,hl=null,dt=null;function Yt(e){if(typeof xi=="function"&&ia(e),dt&&typeof dt.setStrictMode=="function")try{dt.setStrictMode(hl,e)}catch{}}var it=Math.clz32?Math.clz32:vi,$n=Math.log,gi=Math.LN2;function vi(e){return e>>>=0,e===0?32:31-($n(e)/gi|0)|0}var ml=256,Hl=262144,Ia=4194304;function W(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ae(e,t,l){var a=e.pendingLanes;if(a===0)return 0;var n=0,i=e.suspendedLanes,c=e.pingedLanes;e=e.warmLanes;var d=a&134217727;return d!==0?(a=d&~i,a!==0?n=W(a):(c&=d,c!==0?n=W(c):l||(l=d&~e,l!==0&&(n=W(l))))):(d=a&~i,d!==0?n=W(d):c!==0?n=W(c):l||(l=a&~e,l!==0&&(n=W(l)))),n===0?0:t!==0&&t!==n&&(t&i)===0&&(i=n&-n,l=t&-t,i>=l||i===32&&(l&4194048)!==0)?t:n}function Te(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function ct(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ft(){var e=Ia;return Ia<<=1,(Ia&62914560)===0&&(Ia=4194304),e}function Pa(e){for(var t=[],l=0;31>l;l++)t.push(e);return t}function Gl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ah(e,t,l,a,n,i){var c=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var d=e.entanglements,b=e.expirationTimes,M=e.hiddenUpdates;for(l=c&~l;0<l;){var U=31-it(l),Y=1<<U;d[U]=0,b[U]=-1;var D=M[U];if(D!==null)for(M[U]=null,U=0;U<D.length;U++){var R=D[U];R!==null&&(R.lane&=-536870913)}l&=~Y}a!==0&&Go(e,a,0),i!==0&&n===0&&e.tag!==0&&(e.suspendedLanes|=i&~(c&~t))}function Go(e,t,l){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-it(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|l&261930}function Vo(e,t){var l=e.entangledLanes|=t;for(e=e.entanglements;l;){var a=31-it(l),n=1<<a;n&t|e[a]&t&&(e[a]|=t),l&=~n}}function qo(e,t){var l=t&-t;return l=(l&42)!==0?1:yi(l),(l&(e.suspendedLanes|t))!==0?0:l}function yi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Si(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Yo(){var e=$.p;return e!==0?e:(e=window.event,e===void 0?32:wf(e.type))}function Xo(e,t){var l=$.p;try{return $.p=e,t()}finally{$.p=l}}var bl=Math.random().toString(36).slice(2),tt="__reactFiber$"+bl,mt="__reactProps$"+bl,ca="__reactContainer$"+bl,ji="__reactEvents$"+bl,nh="__reactListeners$"+bl,sh="__reactHandles$"+bl,Qo="__reactResources$"+bl,en="__reactMarker$"+bl;function Ni(e){delete e[tt],delete e[mt],delete e[ji],delete e[nh],delete e[sh]}function oa(e){var t=e[tt];if(t)return t;for(var l=e.parentNode;l;){if(t=l[ca]||l[tt]){if(l=t.alternate,t.child!==null||l!==null&&l.child!==null)for(e=hf(e);e!==null;){if(l=e[tt])return l;e=hf(e)}return t}e=l,l=e.parentNode}return null}function ra(e){if(e=e[tt]||e[ca]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function tn(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(u(33))}function ua(e){var t=e[Qo];return t||(t=e[Qo]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Pe(e){e[en]=!0}var Zo=new Set,Ko={};function Vl(e,t){da(e,t),da(e+"Capture",t)}function da(e,t){for(Ko[e]=t,e=0;e<t.length;e++)Zo.add(t[e])}var ih=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Jo={},$o={};function ch(e){return Za.call($o,e)?!0:Za.call(Jo,e)?!1:ih.test(e)?$o[e]=!0:(Jo[e]=!0,!1)}function Wn(e,t,l){if(ch(t))if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+l)}}function Fn(e,t,l){if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+l)}}function $t(e,t,l,a){if(a===null)e.removeAttribute(l);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(t,l,""+a)}}function Ot(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Wo(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function oh(e,t,l){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var n=a.get,i=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(c){l=""+c,i.call(this,c)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(c){l=""+c},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ei(e){if(!e._valueTracker){var t=Wo(e)?"checked":"value";e._valueTracker=oh(e,t,""+e[t])}}function Fo(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var l=t.getValue(),a="";return e&&(a=Wo(e)?e.checked?"true":"false":e.value),e=a,e!==l?(t.setValue(e),!0):!1}function In(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var rh=/[\n"\\]/g;function Mt(e){return e.replace(rh,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ti(e,t,l,a,n,i,c,d){e.name="",c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"?e.type=c:e.removeAttribute("type"),t!=null?c==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Ot(t)):e.value!==""+Ot(t)&&(e.value=""+Ot(t)):c!=="submit"&&c!=="reset"||e.removeAttribute("value"),t!=null?Ai(e,c,Ot(t)):l!=null?Ai(e,c,Ot(l)):a!=null&&e.removeAttribute("value"),n==null&&i!=null&&(e.defaultChecked=!!i),n!=null&&(e.checked=n&&typeof n!="function"&&typeof n!="symbol"),d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"?e.name=""+Ot(d):e.removeAttribute("name")}function Io(e,t,l,a,n,i,c,d){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||l!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){Ei(e);return}l=l!=null?""+Ot(l):"",t=t!=null?""+Ot(t):l,d||t===e.value||(e.value=t),e.defaultValue=t}a=a??n,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=d?e.checked:!!a,e.defaultChecked=!!a,c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.name=c),Ei(e)}function Ai(e,t,l){t==="number"&&In(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function fa(e,t,l,a){if(e=e.options,t){t={};for(var n=0;n<l.length;n++)t["$"+l[n]]=!0;for(l=0;l<e.length;l++)n=t.hasOwnProperty("$"+e[l].value),e[l].selected!==n&&(e[l].selected=n),n&&a&&(e[l].defaultSelected=!0)}else{for(l=""+Ot(l),t=null,n=0;n<e.length;n++){if(e[n].value===l){e[n].selected=!0,a&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function Po(e,t,l){if(t!=null&&(t=""+Ot(t),t!==e.value&&(e.value=t),l==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=l!=null?""+Ot(l):""}function er(e,t,l,a){if(t==null){if(a!=null){if(l!=null)throw Error(u(92));if(qe(a)){if(1<a.length)throw Error(u(93));a=a[0]}l=a}l==null&&(l=""),t=l}l=Ot(t),e.defaultValue=l,a=e.textContent,a===l&&a!==""&&a!==null&&(e.value=a),Ei(e)}function ha(e,t){if(t){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=t;return}}e.textContent=t}var uh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tr(e,t,l){var a=t.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,l):typeof l!="number"||l===0||uh.has(t)?t==="float"?e.cssFloat=l:e[t]=(""+l).trim():e[t]=l+"px"}function lr(e,t,l){if(t!=null&&typeof t!="object")throw Error(u(62));if(e=e.style,l!=null){for(var a in l)!l.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var n in t)a=t[n],t.hasOwnProperty(n)&&l[n]!==a&&tr(e,n,a)}else for(var i in t)t.hasOwnProperty(i)&&tr(e,i,t[i])}function _i(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pn(e){return fh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Wt(){}var Ci=null;function wi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ma=null,ba=null;function ar(e){var t=ra(e);if(t&&(e=t.stateNode)){var l=e[mt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Ti(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),t=l.name,l.type==="radio"&&t!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Mt(""+t)+'"][type="radio"]'),t=0;t<l.length;t++){var a=l[t];if(a!==e&&a.form===e.form){var n=a[mt]||null;if(!n)throw Error(u(90));Ti(a,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(t=0;t<l.length;t++)a=l[t],a.form===e.form&&Fo(a)}break e;case"textarea":Po(e,l.value,l.defaultValue);break e;case"select":t=l.value,t!=null&&fa(e,!!l.multiple,t,!1)}}}var Oi=!1;function nr(e,t,l){if(Oi)return e(t,l);Oi=!0;try{var a=e(t);return a}finally{if(Oi=!1,(ma!==null||ba!==null)&&(Gs(),ma&&(t=ma,e=ba,ba=ma=null,ar(t),e)))for(t=0;t<e.length;t++)ar(e[t])}}function ln(e,t){var l=e.stateNode;if(l===null)return null;var a=l[mt]||null;if(a===null)return null;l=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(u(231,t,typeof l));return l}var Ft=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mi=!1;if(Ft)try{var an={};Object.defineProperty(an,"passive",{get:function(){Mi=!0}}),window.addEventListener("test",an,an),window.removeEventListener("test",an,an)}catch{Mi=!1}var pl=null,Di=null,es=null;function sr(){if(es)return es;var e,t=Di,l=t.length,a,n="value"in pl?pl.value:pl.textContent,i=n.length;for(e=0;e<l&&t[e]===n[e];e++);var c=l-e;for(a=1;a<=c&&t[l-a]===n[i-a];a++);return es=n.slice(e,1<a?1-a:void 0)}function ts(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ls(){return!0}function ir(){return!1}function bt(e){function t(l,a,n,i,c){this._reactName=l,this._targetInst=n,this.type=a,this.nativeEvent=i,this.target=c,this.currentTarget=null;for(var d in e)e.hasOwnProperty(d)&&(l=e[d],this[d]=l?l(i):i[d]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ls:ir,this.isPropagationStopped=ir,this}return A(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ls)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ls)},persist:function(){},isPersistent:ls}),t}var ql={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},as=bt(ql),nn=A({},ql,{view:0,detail:0}),hh=bt(nn),ki,zi,sn,ns=A({},nn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&e.type==="mousemove"?(ki=e.screenX-sn.screenX,zi=e.screenY-sn.screenY):zi=ki=0,sn=e),ki)},movementY:function(e){return"movementY"in e?e.movementY:zi}}),cr=bt(ns),mh=A({},ns,{dataTransfer:0}),bh=bt(mh),ph=A({},nn,{relatedTarget:0}),Ri=bt(ph),xh=A({},ql,{animationName:0,elapsedTime:0,pseudoElement:0}),gh=bt(xh),vh=A({},ql,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yh=bt(vh),Sh=A({},ql,{data:0}),or=bt(Sh),jh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Th(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Eh[e])?!!t[e]:!1}function Bi(){return Th}var Ah=A({},nn,{key:function(e){if(e.key){var t=jh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ts(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Nh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bi,charCode:function(e){return e.type==="keypress"?ts(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ts(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_h=bt(Ah),Ch=A({},ns,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rr=bt(Ch),wh=A({},nn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bi}),Oh=bt(wh),Mh=A({},ql,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dh=bt(Mh),kh=A({},ns,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),zh=bt(kh),Rh=A({},ql,{newState:0,oldState:0}),Bh=bt(Rh),Lh=[9,13,27,32],Li=Ft&&"CompositionEvent"in window,cn=null;Ft&&"documentMode"in document&&(cn=document.documentMode);var Uh=Ft&&"TextEvent"in window&&!cn,ur=Ft&&(!Li||cn&&8<cn&&11>=cn),dr=" ",fr=!1;function hr(e,t){switch(e){case"keyup":return Lh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mr(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var pa=!1;function Hh(e,t){switch(e){case"compositionend":return mr(t);case"keypress":return t.which!==32?null:(fr=!0,dr);case"textInput":return e=t.data,e===dr&&fr?null:e;default:return null}}function Gh(e,t){if(pa)return e==="compositionend"||!Li&&hr(e,t)?(e=sr(),es=Di=pl=null,pa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ur&&t.locale!=="ko"?null:t.data;default:return null}}var Vh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function br(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Vh[e.type]:t==="textarea"}function pr(e,t,l,a){ma?ba?ba.push(a):ba=[a]:ma=a,t=Ks(t,"onChange"),0<t.length&&(l=new as("onChange","change",null,l,a),e.push({event:l,listeners:t}))}var on=null,rn=null;function qh(e){Id(e,0)}function ss(e){var t=tn(e);if(Fo(t))return e}function xr(e,t){if(e==="change")return t}var gr=!1;if(Ft){var Ui;if(Ft){var Hi="oninput"in document;if(!Hi){var vr=document.createElement("div");vr.setAttribute("oninput","return;"),Hi=typeof vr.oninput=="function"}Ui=Hi}else Ui=!1;gr=Ui&&(!document.documentMode||9<document.documentMode)}function yr(){on&&(on.detachEvent("onpropertychange",Sr),rn=on=null)}function Sr(e){if(e.propertyName==="value"&&ss(rn)){var t=[];pr(t,rn,e,wi(e)),nr(qh,t)}}function Yh(e,t,l){e==="focusin"?(yr(),on=t,rn=l,on.attachEvent("onpropertychange",Sr)):e==="focusout"&&yr()}function Xh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ss(rn)}function Qh(e,t){if(e==="click")return ss(t)}function Zh(e,t){if(e==="input"||e==="change")return ss(t)}function Kh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Nt=typeof Object.is=="function"?Object.is:Kh;function un(e,t){if(Nt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var l=Object.keys(e),a=Object.keys(t);if(l.length!==a.length)return!1;for(a=0;a<l.length;a++){var n=l[a];if(!Za.call(t,n)||!Nt(e[n],t[n]))return!1}return!0}function jr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Nr(e,t){var l=jr(e);e=0;for(var a;l;){if(l.nodeType===3){if(a=e+l.textContent.length,e<=t&&a>=t)return{node:l,offset:t-e};e=a}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=jr(l)}}function Er(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Er(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Tr(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=In(e.document);t instanceof e.HTMLIFrameElement;){try{var l=typeof t.contentWindow.location.href=="string"}catch{l=!1}if(l)e=t.contentWindow;else break;t=In(e.document)}return t}function Gi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Jh=Ft&&"documentMode"in document&&11>=document.documentMode,xa=null,Vi=null,dn=null,qi=!1;function Ar(e,t,l){var a=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;qi||xa==null||xa!==In(a)||(a=xa,"selectionStart"in a&&Gi(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),dn&&un(dn,a)||(dn=a,a=Ks(Vi,"onSelect"),0<a.length&&(t=new as("onSelect","select",null,t,l),e.push({event:t,listeners:a}),t.target=xa)))}function Yl(e,t){var l={};return l[e.toLowerCase()]=t.toLowerCase(),l["Webkit"+e]="webkit"+t,l["Moz"+e]="moz"+t,l}var ga={animationend:Yl("Animation","AnimationEnd"),animationiteration:Yl("Animation","AnimationIteration"),animationstart:Yl("Animation","AnimationStart"),transitionrun:Yl("Transition","TransitionRun"),transitionstart:Yl("Transition","TransitionStart"),transitioncancel:Yl("Transition","TransitionCancel"),transitionend:Yl("Transition","TransitionEnd")},Yi={},_r={};Ft&&(_r=document.createElement("div").style,"AnimationEvent"in window||(delete ga.animationend.animation,delete ga.animationiteration.animation,delete ga.animationstart.animation),"TransitionEvent"in window||delete ga.transitionend.transition);function Xl(e){if(Yi[e])return Yi[e];if(!ga[e])return e;var t=ga[e],l;for(l in t)if(t.hasOwnProperty(l)&&l in _r)return Yi[e]=t[l];return e}var Cr=Xl("animationend"),wr=Xl("animationiteration"),Or=Xl("animationstart"),$h=Xl("transitionrun"),Wh=Xl("transitionstart"),Fh=Xl("transitioncancel"),Mr=Xl("transitionend"),Dr=new Map,Xi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xi.push("scrollEnd");function Gt(e,t){Dr.set(e,t),Vl(t,[e])}var is=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Dt=[],va=0,Qi=0;function cs(){for(var e=va,t=Qi=va=0;t<e;){var l=Dt[t];Dt[t++]=null;var a=Dt[t];Dt[t++]=null;var n=Dt[t];Dt[t++]=null;var i=Dt[t];if(Dt[t++]=null,a!==null&&n!==null){var c=a.pending;c===null?n.next=n:(n.next=c.next,c.next=n),a.pending=n}i!==0&&kr(l,n,i)}}function os(e,t,l,a){Dt[va++]=e,Dt[va++]=t,Dt[va++]=l,Dt[va++]=a,Qi|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function Zi(e,t,l,a){return os(e,t,l,a),rs(e)}function Ql(e,t){return os(e,null,null,t),rs(e)}function kr(e,t,l){e.lanes|=l;var a=e.alternate;a!==null&&(a.lanes|=l);for(var n=!1,i=e.return;i!==null;)i.childLanes|=l,a=i.alternate,a!==null&&(a.childLanes|=l),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(n=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,n&&t!==null&&(n=31-it(l),e=i.hiddenUpdates,a=e[n],a===null?e[n]=[t]:a.push(t),t.lane=l|536870912),i):null}function rs(e){if(50<kn)throw kn=0,to=null,Error(u(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ya={};function Ih(e,t,l,a){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Et(e,t,l,a){return new Ih(e,t,l,a)}function Ki(e){return e=e.prototype,!(!e||!e.isReactComponent)}function It(e,t){var l=e.alternate;return l===null?(l=Et(e.tag,t,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=t,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,t=e.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function zr(e,t){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,t=l.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function us(e,t,l,a,n,i){var c=0;if(a=e,typeof e=="function")Ki(e)&&(c=1);else if(typeof e=="string")c=ab(e,l,q.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case re:return e=Et(31,l,t,n),e.elementType=re,e.lanes=i,e;case E:return Zl(l.children,n,i,t);case y:c=8,n|=24;break;case w:return e=Et(12,l,t,n|2),e.elementType=w,e.lanes=i,e;case J:return e=Et(13,l,t,n),e.elementType=J,e.lanes=i,e;case ee:return e=Et(19,l,t,n),e.elementType=ee,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case X:c=10;break e;case Z:c=9;break e;case K:c=11;break e;case H:c=14;break e;case se:c=16,a=null;break e}c=29,l=Error(u(130,e===null?"null":typeof e,"")),a=null}return t=Et(c,l,t,n),t.elementType=e,t.type=a,t.lanes=i,t}function Zl(e,t,l,a){return e=Et(7,e,a,t),e.lanes=l,e}function Ji(e,t,l){return e=Et(6,e,null,t),e.lanes=l,e}function Rr(e){var t=Et(18,null,null,0);return t.stateNode=e,t}function $i(e,t,l){return t=Et(4,e.children!==null?e.children:[],e.key,t),t.lanes=l,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Br=new WeakMap;function kt(e,t){if(typeof e=="object"&&e!==null){var l=Br.get(e);return l!==void 0?l:(t={value:e,source:t,stack:Kn(t)},Br.set(e,t),t)}return{value:e,source:t,stack:Kn(t)}}var Sa=[],ja=0,ds=null,fn=0,zt=[],Rt=0,xl=null,Xt=1,Qt="";function Pt(e,t){Sa[ja++]=fn,Sa[ja++]=ds,ds=e,fn=t}function Lr(e,t,l){zt[Rt++]=Xt,zt[Rt++]=Qt,zt[Rt++]=xl,xl=e;var a=Xt;e=Qt;var n=32-it(a)-1;a&=~(1<<n),l+=1;var i=32-it(t)+n;if(30<i){var c=n-n%5;i=(a&(1<<c)-1).toString(32),a>>=c,n-=c,Xt=1<<32-it(t)+n|l<<n|a,Qt=i+e}else Xt=1<<i|l<<n|a,Qt=e}function Wi(e){e.return!==null&&(Pt(e,1),Lr(e,1,0))}function Fi(e){for(;e===ds;)ds=Sa[--ja],Sa[ja]=null,fn=Sa[--ja],Sa[ja]=null;for(;e===xl;)xl=zt[--Rt],zt[Rt]=null,Qt=zt[--Rt],zt[Rt]=null,Xt=zt[--Rt],zt[Rt]=null}function Ur(e,t){zt[Rt++]=Xt,zt[Rt++]=Qt,zt[Rt++]=xl,Xt=t.id,Qt=t.overflow,xl=e}var lt=null,Le=null,ye=!1,gl=null,Bt=!1,Ii=Error(u(519));function vl(e){var t=Error(u(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw hn(kt(t,e)),Ii}function Hr(e){var t=e.stateNode,l=e.type,a=e.memoizedProps;switch(t[tt]=e,t[mt]=a,l){case"dialog":xe("cancel",t),xe("close",t);break;case"iframe":case"object":case"embed":xe("load",t);break;case"video":case"audio":for(l=0;l<Rn.length;l++)xe(Rn[l],t);break;case"source":xe("error",t);break;case"img":case"image":case"link":xe("error",t),xe("load",t);break;case"details":xe("toggle",t);break;case"input":xe("invalid",t),Io(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":xe("invalid",t);break;case"textarea":xe("invalid",t),er(t,a.value,a.defaultValue,a.children)}l=a.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||t.textContent===""+l||a.suppressHydrationWarning===!0||lf(t.textContent,l)?(a.popover!=null&&(xe("beforetoggle",t),xe("toggle",t)),a.onScroll!=null&&xe("scroll",t),a.onScrollEnd!=null&&xe("scrollend",t),a.onClick!=null&&(t.onclick=Wt),t=!0):t=!1,t||vl(e,!0)}function Gr(e){for(lt=e.return;lt;)switch(lt.tag){case 5:case 31:case 13:Bt=!1;return;case 27:case 3:Bt=!0;return;default:lt=lt.return}}function Na(e){if(e!==lt)return!1;if(!ye)return Gr(e),ye=!0,!1;var t=e.tag,l;if((l=t!==3&&t!==27)&&((l=t===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||xo(e.type,e.memoizedProps)),l=!l),l&&Le&&vl(e),Gr(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(u(317));Le=ff(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(u(317));Le=ff(e)}else t===27?(t=Le,kl(e.type)?(e=jo,jo=null,Le=e):Le=t):Le=lt?Ut(e.stateNode.nextSibling):null;return!0}function Kl(){Le=lt=null,ye=!1}function Pi(){var e=gl;return e!==null&&(vt===null?vt=e:vt.push.apply(vt,e),gl=null),e}function hn(e){gl===null?gl=[e]:gl.push(e)}var ec=p(null),Jl=null,el=null;function yl(e,t,l){S(ec,t._currentValue),t._currentValue=l}function tl(e){e._currentValue=ec.current,G(ec)}function tc(e,t,l){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===l)break;e=e.return}}function lc(e,t,l,a){var n=e.child;for(n!==null&&(n.return=e);n!==null;){var i=n.dependencies;if(i!==null){var c=n.child;i=i.firstContext;e:for(;i!==null;){var d=i;i=n;for(var b=0;b<t.length;b++)if(d.context===t[b]){i.lanes|=l,d=i.alternate,d!==null&&(d.lanes|=l),tc(i.return,l,e),a||(c=null);break e}i=d.next}}else if(n.tag===18){if(c=n.return,c===null)throw Error(u(341));c.lanes|=l,i=c.alternate,i!==null&&(i.lanes|=l),tc(c,l,e),c=null}else c=n.child;if(c!==null)c.return=n;else for(c=n;c!==null;){if(c===e){c=null;break}if(n=c.sibling,n!==null){n.return=c.return,c=n;break}c=c.return}n=c}}function Ea(e,t,l,a){e=null;for(var n=t,i=!1;n!==null;){if(!i){if((n.flags&524288)!==0)i=!0;else if((n.flags&262144)!==0)break}if(n.tag===10){var c=n.alternate;if(c===null)throw Error(u(387));if(c=c.memoizedProps,c!==null){var d=n.type;Nt(n.pendingProps.value,c.value)||(e!==null?e.push(d):e=[d])}}else if(n===ie.current){if(c=n.alternate,c===null)throw Error(u(387));c.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(e!==null?e.push(Gn):e=[Gn])}n=n.return}e!==null&&lc(t,e,l,a),t.flags|=262144}function fs(e){for(e=e.firstContext;e!==null;){if(!Nt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function $l(e){Jl=e,el=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function at(e){return Vr(Jl,e)}function hs(e,t){return Jl===null&&$l(e),Vr(e,t)}function Vr(e,t){var l=t._currentValue;if(t={context:t,memoizedValue:l,next:null},el===null){if(e===null)throw Error(u(308));el=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else el=el.next=t;return l}var Ph=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(l,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(l){return l()})}},em=r.unstable_scheduleCallback,tm=r.unstable_NormalPriority,Je={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ac(){return{controller:new Ph,data:new Map,refCount:0}}function mn(e){e.refCount--,e.refCount===0&&em(tm,function(){e.controller.abort()})}var bn=null,nc=0,Ta=0,Aa=null;function lm(e,t){if(bn===null){var l=bn=[];nc=0,Ta=co(),Aa={status:"pending",value:void 0,then:function(a){l.push(a)}}}return nc++,t.then(qr,qr),t}function qr(){if(--nc===0&&bn!==null){Aa!==null&&(Aa.status="fulfilled");var e=bn;bn=null,Ta=0,Aa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function am(e,t){var l=[],a={status:"pending",value:null,reason:null,then:function(n){l.push(n)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var n=0;n<l.length;n++)(0,l[n])(t)},function(n){for(a.status="rejected",a.reason=n,n=0;n<l.length;n++)(0,l[n])(void 0)}),a}var Yr=z.S;z.S=function(e,t){Ad=ut(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&lm(e,t),Yr!==null&&Yr(e,t)};var Wl=p(null);function sc(){var e=Wl.current;return e!==null?e:ke.pooledCache}function ms(e,t){t===null?S(Wl,Wl.current):S(Wl,t.pool)}function Xr(){var e=sc();return e===null?null:{parent:Je._currentValue,pool:e}}var _a=Error(u(460)),ic=Error(u(474)),bs=Error(u(542)),ps={then:function(){}};function Qr(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Zr(e,t,l){switch(l=e[l],l===void 0?e.push(t):l!==t&&(t.then(Wt,Wt),t=l),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Jr(e),e;default:if(typeof t.status=="string")t.then(Wt,Wt);else{if(e=ke,e!==null&&100<e.shellSuspendCounter)throw Error(u(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var n=t;n.status="fulfilled",n.value=a}},function(a){if(t.status==="pending"){var n=t;n.status="rejected",n.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Jr(e),e}throw Il=t,_a}}function Fl(e){try{var t=e._init;return t(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Il=l,_a):l}}var Il=null;function Kr(){if(Il===null)throw Error(u(459));var e=Il;return Il=null,e}function Jr(e){if(e===_a||e===bs)throw Error(u(483))}var Ca=null,pn=0;function xs(e){var t=pn;return pn+=1,Ca===null&&(Ca=[]),Zr(Ca,e,t)}function xn(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function gs(e,t){throw t.$$typeof===k?Error(u(525)):(e=Object.prototype.toString.call(t),Error(u(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function $r(e){function t(N,v){if(e){var O=N.deletions;O===null?(N.deletions=[v],N.flags|=16):O.push(v)}}function l(N,v){if(!e)return null;for(;v!==null;)t(N,v),v=v.sibling;return null}function a(N){for(var v=new Map;N!==null;)N.key!==null?v.set(N.key,N):v.set(N.index,N),N=N.sibling;return v}function n(N,v){return N=It(N,v),N.index=0,N.sibling=null,N}function i(N,v,O){return N.index=O,e?(O=N.alternate,O!==null?(O=O.index,O<v?(N.flags|=67108866,v):O):(N.flags|=67108866,v)):(N.flags|=1048576,v)}function c(N){return e&&N.alternate===null&&(N.flags|=67108866),N}function d(N,v,O,V){return v===null||v.tag!==6?(v=Ji(O,N.mode,V),v.return=N,v):(v=n(v,O),v.return=N,v)}function b(N,v,O,V){var ne=O.type;return ne===E?U(N,v,O.props.children,V,O.key):v!==null&&(v.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===se&&Fl(ne)===v.type)?(v=n(v,O.props),xn(v,O),v.return=N,v):(v=us(O.type,O.key,O.props,null,N.mode,V),xn(v,O),v.return=N,v)}function M(N,v,O,V){return v===null||v.tag!==4||v.stateNode.containerInfo!==O.containerInfo||v.stateNode.implementation!==O.implementation?(v=$i(O,N.mode,V),v.return=N,v):(v=n(v,O.children||[]),v.return=N,v)}function U(N,v,O,V,ne){return v===null||v.tag!==7?(v=Zl(O,N.mode,V,ne),v.return=N,v):(v=n(v,O),v.return=N,v)}function Y(N,v,O){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return v=Ji(""+v,N.mode,O),v.return=N,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case _:return O=us(v.type,v.key,v.props,null,N.mode,O),xn(O,v),O.return=N,O;case T:return v=$i(v,N.mode,O),v.return=N,v;case se:return v=Fl(v),Y(N,v,O)}if(qe(v)||Se(v))return v=Zl(v,N.mode,O,null),v.return=N,v;if(typeof v.then=="function")return Y(N,xs(v),O);if(v.$$typeof===X)return Y(N,hs(N,v),O);gs(N,v)}return null}function D(N,v,O,V){var ne=v!==null?v.key:null;if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return ne!==null?null:d(N,v,""+O,V);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case _:return O.key===ne?b(N,v,O,V):null;case T:return O.key===ne?M(N,v,O,V):null;case se:return O=Fl(O),D(N,v,O,V)}if(qe(O)||Se(O))return ne!==null?null:U(N,v,O,V,null);if(typeof O.then=="function")return D(N,v,xs(O),V);if(O.$$typeof===X)return D(N,v,hs(N,O),V);gs(N,O)}return null}function R(N,v,O,V,ne){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return N=N.get(O)||null,d(v,N,""+V,ne);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case _:return N=N.get(V.key===null?O:V.key)||null,b(v,N,V,ne);case T:return N=N.get(V.key===null?O:V.key)||null,M(v,N,V,ne);case se:return V=Fl(V),R(N,v,O,V,ne)}if(qe(V)||Se(V))return N=N.get(O)||null,U(v,N,V,ne,null);if(typeof V.then=="function")return R(N,v,O,xs(V),ne);if(V.$$typeof===X)return R(N,v,O,hs(v,V),ne);gs(v,V)}return null}function te(N,v,O,V){for(var ne=null,je=null,le=v,fe=v=0,ve=null;le!==null&&fe<O.length;fe++){le.index>fe?(ve=le,le=null):ve=le.sibling;var Ne=D(N,le,O[fe],V);if(Ne===null){le===null&&(le=ve);break}e&&le&&Ne.alternate===null&&t(N,le),v=i(Ne,v,fe),je===null?ne=Ne:je.sibling=Ne,je=Ne,le=ve}if(fe===O.length)return l(N,le),ye&&Pt(N,fe),ne;if(le===null){for(;fe<O.length;fe++)le=Y(N,O[fe],V),le!==null&&(v=i(le,v,fe),je===null?ne=le:je.sibling=le,je=le);return ye&&Pt(N,fe),ne}for(le=a(le);fe<O.length;fe++)ve=R(le,N,fe,O[fe],V),ve!==null&&(e&&ve.alternate!==null&&le.delete(ve.key===null?fe:ve.key),v=i(ve,v,fe),je===null?ne=ve:je.sibling=ve,je=ve);return e&&le.forEach(function(Ul){return t(N,Ul)}),ye&&Pt(N,fe),ne}function ce(N,v,O,V){if(O==null)throw Error(u(151));for(var ne=null,je=null,le=v,fe=v=0,ve=null,Ne=O.next();le!==null&&!Ne.done;fe++,Ne=O.next()){le.index>fe?(ve=le,le=null):ve=le.sibling;var Ul=D(N,le,Ne.value,V);if(Ul===null){le===null&&(le=ve);break}e&&le&&Ul.alternate===null&&t(N,le),v=i(Ul,v,fe),je===null?ne=Ul:je.sibling=Ul,je=Ul,le=ve}if(Ne.done)return l(N,le),ye&&Pt(N,fe),ne;if(le===null){for(;!Ne.done;fe++,Ne=O.next())Ne=Y(N,Ne.value,V),Ne!==null&&(v=i(Ne,v,fe),je===null?ne=Ne:je.sibling=Ne,je=Ne);return ye&&Pt(N,fe),ne}for(le=a(le);!Ne.done;fe++,Ne=O.next())Ne=R(le,N,fe,Ne.value,V),Ne!==null&&(e&&Ne.alternate!==null&&le.delete(Ne.key===null?fe:Ne.key),v=i(Ne,v,fe),je===null?ne=Ne:je.sibling=Ne,je=Ne);return e&&le.forEach(function(mb){return t(N,mb)}),ye&&Pt(N,fe),ne}function De(N,v,O,V){if(typeof O=="object"&&O!==null&&O.type===E&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case _:e:{for(var ne=O.key;v!==null;){if(v.key===ne){if(ne=O.type,ne===E){if(v.tag===7){l(N,v.sibling),V=n(v,O.props.children),V.return=N,N=V;break e}}else if(v.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===se&&Fl(ne)===v.type){l(N,v.sibling),V=n(v,O.props),xn(V,O),V.return=N,N=V;break e}l(N,v);break}else t(N,v);v=v.sibling}O.type===E?(V=Zl(O.props.children,N.mode,V,O.key),V.return=N,N=V):(V=us(O.type,O.key,O.props,null,N.mode,V),xn(V,O),V.return=N,N=V)}return c(N);case T:e:{for(ne=O.key;v!==null;){if(v.key===ne)if(v.tag===4&&v.stateNode.containerInfo===O.containerInfo&&v.stateNode.implementation===O.implementation){l(N,v.sibling),V=n(v,O.children||[]),V.return=N,N=V;break e}else{l(N,v);break}else t(N,v);v=v.sibling}V=$i(O,N.mode,V),V.return=N,N=V}return c(N);case se:return O=Fl(O),De(N,v,O,V)}if(qe(O))return te(N,v,O,V);if(Se(O)){if(ne=Se(O),typeof ne!="function")throw Error(u(150));return O=ne.call(O),ce(N,v,O,V)}if(typeof O.then=="function")return De(N,v,xs(O),V);if(O.$$typeof===X)return De(N,v,hs(N,O),V);gs(N,O)}return typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint"?(O=""+O,v!==null&&v.tag===6?(l(N,v.sibling),V=n(v,O),V.return=N,N=V):(l(N,v),V=Ji(O,N.mode,V),V.return=N,N=V),c(N)):l(N,v)}return function(N,v,O,V){try{pn=0;var ne=De(N,v,O,V);return Ca=null,ne}catch(le){if(le===_a||le===bs)throw le;var je=Et(29,le,null,N.mode);return je.lanes=V,je.return=N,je}finally{}}}var Pl=$r(!0),Wr=$r(!1),Sl=!1;function cc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function oc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function jl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Nl(e,t,l){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(Ee&2)!==0){var n=a.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),a.pending=t,t=rs(e),kr(e,null,l),t}return os(e,a,t,l),rs(e)}function gn(e,t,l){if(t=t.updateQueue,t!==null&&(t=t.shared,(l&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,Vo(e,l)}}function rc(e,t){var l=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,l===a)){var n=null,i=null;if(l=l.firstBaseUpdate,l!==null){do{var c={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};i===null?n=i=c:i=i.next=c,l=l.next}while(l!==null);i===null?n=i=t:i=i.next=t}else n=i=t;l={baseState:a.baseState,firstBaseUpdate:n,lastBaseUpdate:i,shared:a.shared,callbacks:a.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=t:e.next=t,l.lastBaseUpdate=t}var uc=!1;function vn(){if(uc){var e=Aa;if(e!==null)throw e}}function yn(e,t,l,a){uc=!1;var n=e.updateQueue;Sl=!1;var i=n.firstBaseUpdate,c=n.lastBaseUpdate,d=n.shared.pending;if(d!==null){n.shared.pending=null;var b=d,M=b.next;b.next=null,c===null?i=M:c.next=M,c=b;var U=e.alternate;U!==null&&(U=U.updateQueue,d=U.lastBaseUpdate,d!==c&&(d===null?U.firstBaseUpdate=M:d.next=M,U.lastBaseUpdate=b))}if(i!==null){var Y=n.baseState;c=0,U=M=b=null,d=i;do{var D=d.lane&-536870913,R=D!==d.lane;if(R?(ge&D)===D:(a&D)===D){D!==0&&D===Ta&&(uc=!0),U!==null&&(U=U.next={lane:0,tag:d.tag,payload:d.payload,callback:null,next:null});e:{var te=e,ce=d;D=t;var De=l;switch(ce.tag){case 1:if(te=ce.payload,typeof te=="function"){Y=te.call(De,Y,D);break e}Y=te;break e;case 3:te.flags=te.flags&-65537|128;case 0:if(te=ce.payload,D=typeof te=="function"?te.call(De,Y,D):te,D==null)break e;Y=A({},Y,D);break e;case 2:Sl=!0}}D=d.callback,D!==null&&(e.flags|=64,R&&(e.flags|=8192),R=n.callbacks,R===null?n.callbacks=[D]:R.push(D))}else R={lane:D,tag:d.tag,payload:d.payload,callback:d.callback,next:null},U===null?(M=U=R,b=Y):U=U.next=R,c|=D;if(d=d.next,d===null){if(d=n.shared.pending,d===null)break;R=d,d=R.next,R.next=null,n.lastBaseUpdate=R,n.shared.pending=null}}while(!0);U===null&&(b=Y),n.baseState=b,n.firstBaseUpdate=M,n.lastBaseUpdate=U,i===null&&(n.shared.lanes=0),Cl|=c,e.lanes=c,e.memoizedState=Y}}function Fr(e,t){if(typeof e!="function")throw Error(u(191,e));e.call(t)}function Ir(e,t){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)Fr(l[e],t)}var wa=p(null),vs=p(0);function Pr(e,t){e=ul,S(vs,e),S(wa,t),ul=e|t.baseLanes}function dc(){S(vs,ul),S(wa,wa.current)}function fc(){ul=vs.current,G(wa),G(vs)}var Tt=p(null),Lt=null;function El(e){var t=e.alternate;S(Ze,Ze.current&1),S(Tt,e),Lt===null&&(t===null||wa.current!==null||t.memoizedState!==null)&&(Lt=e)}function hc(e){S(Ze,Ze.current),S(Tt,e),Lt===null&&(Lt=e)}function eu(e){e.tag===22?(S(Ze,Ze.current),S(Tt,e),Lt===null&&(Lt=e)):Tl()}function Tl(){S(Ze,Ze.current),S(Tt,Tt.current)}function At(e){G(Tt),Lt===e&&(Lt=null),G(Ze)}var Ze=p(0);function ys(e){for(var t=e;t!==null;){if(t.tag===13){var l=t.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||yo(l)||So(l)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ll=0,de=null,Oe=null,$e=null,Ss=!1,Oa=!1,ea=!1,js=0,Sn=0,Ma=null,nm=0;function Ye(){throw Error(u(321))}function mc(e,t){if(t===null)return!1;for(var l=0;l<t.length&&l<e.length;l++)if(!Nt(e[l],t[l]))return!1;return!0}function bc(e,t,l,a,n,i){return ll=i,de=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,z.H=e===null||e.memoizedState===null?Lu:Oc,ea=!1,i=l(a,n),ea=!1,Oa&&(i=lu(t,l,a,n)),tu(e),i}function tu(e){z.H=En;var t=Oe!==null&&Oe.next!==null;if(ll=0,$e=Oe=de=null,Ss=!1,Sn=0,Ma=null,t)throw Error(u(300));e===null||We||(e=e.dependencies,e!==null&&fs(e)&&(We=!0))}function lu(e,t,l,a){de=e;var n=0;do{if(Oa&&(Ma=null),Sn=0,Oa=!1,25<=n)throw Error(u(301));if(n+=1,$e=Oe=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}z.H=Uu,i=t(l,a)}while(Oa);return i}function sm(){var e=z.H,t=e.useState()[0];return t=typeof t.then=="function"?jn(t):t,e=e.useState()[0],(Oe!==null?Oe.memoizedState:null)!==e&&(de.flags|=1024),t}function pc(){var e=js!==0;return js=0,e}function xc(e,t,l){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l}function gc(e){if(Ss){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Ss=!1}ll=0,$e=Oe=de=null,Oa=!1,Sn=js=0,Ma=null}function ht(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $e===null?de.memoizedState=$e=e:$e=$e.next=e,$e}function Ke(){if(Oe===null){var e=de.alternate;e=e!==null?e.memoizedState:null}else e=Oe.next;var t=$e===null?de.memoizedState:$e.next;if(t!==null)$e=t,Oe=e;else{if(e===null)throw de.alternate===null?Error(u(467)):Error(u(310));Oe=e,e={memoizedState:Oe.memoizedState,baseState:Oe.baseState,baseQueue:Oe.baseQueue,queue:Oe.queue,next:null},$e===null?de.memoizedState=$e=e:$e=$e.next=e}return $e}function Ns(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function jn(e){var t=Sn;return Sn+=1,Ma===null&&(Ma=[]),e=Zr(Ma,e,t),t=de,($e===null?t.memoizedState:$e.next)===null&&(t=t.alternate,z.H=t===null||t.memoizedState===null?Lu:Oc),e}function Es(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return jn(e);if(e.$$typeof===X)return at(e)}throw Error(u(438,String(e)))}function vc(e){var t=null,l=de.updateQueue;if(l!==null&&(t=l.memoCache),t==null){var a=de.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(n){return n.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),l===null&&(l=Ns(),de.updateQueue=l),l.memoCache=t,l=t.data[t.index],l===void 0)for(l=t.data[t.index]=Array(e),a=0;a<e;a++)l[a]=Ge;return t.index++,l}function al(e,t){return typeof t=="function"?t(e):t}function Ts(e){var t=Ke();return yc(t,Oe,e)}function yc(e,t,l){var a=e.queue;if(a===null)throw Error(u(311));a.lastRenderedReducer=l;var n=e.baseQueue,i=a.pending;if(i!==null){if(n!==null){var c=n.next;n.next=i.next,i.next=c}t.baseQueue=n=i,a.pending=null}if(i=e.baseState,n===null)e.memoizedState=i;else{t=n.next;var d=c=null,b=null,M=t,U=!1;do{var Y=M.lane&-536870913;if(Y!==M.lane?(ge&Y)===Y:(ll&Y)===Y){var D=M.revertLane;if(D===0)b!==null&&(b=b.next={lane:0,revertLane:0,gesture:null,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null}),Y===Ta&&(U=!0);else if((ll&D)===D){M=M.next,D===Ta&&(U=!0);continue}else Y={lane:0,revertLane:M.revertLane,gesture:null,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},b===null?(d=b=Y,c=i):b=b.next=Y,de.lanes|=D,Cl|=D;Y=M.action,ea&&l(i,Y),i=M.hasEagerState?M.eagerState:l(i,Y)}else D={lane:Y,revertLane:M.revertLane,gesture:M.gesture,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},b===null?(d=b=D,c=i):b=b.next=D,de.lanes|=Y,Cl|=Y;M=M.next}while(M!==null&&M!==t);if(b===null?c=i:b.next=d,!Nt(i,e.memoizedState)&&(We=!0,U&&(l=Aa,l!==null)))throw l;e.memoizedState=i,e.baseState=c,e.baseQueue=b,a.lastRenderedState=i}return n===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Sc(e){var t=Ke(),l=t.queue;if(l===null)throw Error(u(311));l.lastRenderedReducer=e;var a=l.dispatch,n=l.pending,i=t.memoizedState;if(n!==null){l.pending=null;var c=n=n.next;do i=e(i,c.action),c=c.next;while(c!==n);Nt(i,t.memoizedState)||(We=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),l.lastRenderedState=i}return[i,a]}function au(e,t,l){var a=de,n=Ke(),i=ye;if(i){if(l===void 0)throw Error(u(407));l=l()}else l=t();var c=!Nt((Oe||n).memoizedState,l);if(c&&(n.memoizedState=l,We=!0),n=n.queue,Ec(iu.bind(null,a,n,e),[e]),n.getSnapshot!==t||c||$e!==null&&$e.memoizedState.tag&1){if(a.flags|=2048,Da(9,{destroy:void 0},su.bind(null,a,n,l,t),null),ke===null)throw Error(u(349));i||(ll&127)!==0||nu(a,t,l)}return l}function nu(e,t,l){e.flags|=16384,e={getSnapshot:t,value:l},t=de.updateQueue,t===null?(t=Ns(),de.updateQueue=t,t.stores=[e]):(l=t.stores,l===null?t.stores=[e]:l.push(e))}function su(e,t,l,a){t.value=l,t.getSnapshot=a,cu(t)&&ou(e)}function iu(e,t,l){return l(function(){cu(t)&&ou(e)})}function cu(e){var t=e.getSnapshot;e=e.value;try{var l=t();return!Nt(e,l)}catch{return!0}}function ou(e){var t=Ql(e,2);t!==null&&yt(t,e,2)}function jc(e){var t=ht();if(typeof e=="function"){var l=e;if(e=l(),ea){Yt(!0);try{l()}finally{Yt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:al,lastRenderedState:e},t}function ru(e,t,l,a){return e.baseState=l,yc(e,Oe,typeof a=="function"?a:al)}function im(e,t,l,a,n){if(Cs(e))throw Error(u(485));if(e=t.action,e!==null){var i={payload:n,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(c){i.listeners.push(c)}};z.T!==null?l(!0):i.isTransition=!1,a(i),l=t.pending,l===null?(i.next=t.pending=i,uu(t,i)):(i.next=l.next,t.pending=l.next=i)}}function uu(e,t){var l=t.action,a=t.payload,n=e.state;if(t.isTransition){var i=z.T,c={};z.T=c;try{var d=l(n,a),b=z.S;b!==null&&b(c,d),du(e,t,d)}catch(M){Nc(e,t,M)}finally{i!==null&&c.types!==null&&(i.types=c.types),z.T=i}}else try{i=l(n,a),du(e,t,i)}catch(M){Nc(e,t,M)}}function du(e,t,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(a){fu(e,t,a)},function(a){return Nc(e,t,a)}):fu(e,t,l)}function fu(e,t,l){t.status="fulfilled",t.value=l,hu(t),e.state=l,t=e.pending,t!==null&&(l=t.next,l===t?e.pending=null:(l=l.next,t.next=l,uu(e,l)))}function Nc(e,t,l){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=l,hu(t),t=t.next;while(t!==a)}e.action=null}function hu(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function mu(e,t){return t}function bu(e,t){if(ye){var l=ke.formState;if(l!==null){e:{var a=de;if(ye){if(Le){t:{for(var n=Le,i=Bt;n.nodeType!==8;){if(!i){n=null;break t}if(n=Ut(n.nextSibling),n===null){n=null;break t}}i=n.data,n=i==="F!"||i==="F"?n:null}if(n){Le=Ut(n.nextSibling),a=n.data==="F!";break e}}vl(a)}a=!1}a&&(t=l[0])}}return l=ht(),l.memoizedState=l.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mu,lastRenderedState:t},l.queue=a,l=zu.bind(null,de,a),a.dispatch=l,a=jc(!1),i=wc.bind(null,de,!1,a.queue),a=ht(),n={state:t,dispatch:null,action:e,pending:null},a.queue=n,l=im.bind(null,de,n,i,l),n.dispatch=l,a.memoizedState=e,[t,l,!1]}function pu(e){var t=Ke();return xu(t,Oe,e)}function xu(e,t,l){if(t=yc(e,t,mu)[0],e=Ts(al)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=jn(t)}catch(c){throw c===_a?bs:c}else a=t;t=Ke();var n=t.queue,i=n.dispatch;return l!==t.memoizedState&&(de.flags|=2048,Da(9,{destroy:void 0},cm.bind(null,n,l),null)),[a,i,e]}function cm(e,t){e.action=t}function gu(e){var t=Ke(),l=Oe;if(l!==null)return xu(t,l,e);Ke(),t=t.memoizedState,l=Ke();var a=l.queue.dispatch;return l.memoizedState=e,[t,a,!1]}function Da(e,t,l,a){return e={tag:e,create:l,deps:a,inst:t,next:null},t=de.updateQueue,t===null&&(t=Ns(),de.updateQueue=t),l=t.lastEffect,l===null?t.lastEffect=e.next=e:(a=l.next,l.next=e,e.next=a,t.lastEffect=e),e}function vu(){return Ke().memoizedState}function As(e,t,l,a){var n=ht();de.flags|=e,n.memoizedState=Da(1|t,{destroy:void 0},l,a===void 0?null:a)}function _s(e,t,l,a){var n=Ke();a=a===void 0?null:a;var i=n.memoizedState.inst;Oe!==null&&a!==null&&mc(a,Oe.memoizedState.deps)?n.memoizedState=Da(t,i,l,a):(de.flags|=e,n.memoizedState=Da(1|t,i,l,a))}function yu(e,t){As(8390656,8,e,t)}function Ec(e,t){_s(2048,8,e,t)}function om(e){de.flags|=4;var t=de.updateQueue;if(t===null)t=Ns(),de.updateQueue=t,t.events=[e];else{var l=t.events;l===null?t.events=[e]:l.push(e)}}function Su(e){var t=Ke().memoizedState;return om({ref:t,nextImpl:e}),function(){if((Ee&2)!==0)throw Error(u(440));return t.impl.apply(void 0,arguments)}}function ju(e,t){return _s(4,2,e,t)}function Nu(e,t){return _s(4,4,e,t)}function Eu(e,t){if(typeof t=="function"){e=e();var l=t(e);return function(){typeof l=="function"?l():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Tu(e,t,l){l=l!=null?l.concat([e]):null,_s(4,4,Eu.bind(null,t,e),l)}function Tc(){}function Au(e,t){var l=Ke();t=t===void 0?null:t;var a=l.memoizedState;return t!==null&&mc(t,a[1])?a[0]:(l.memoizedState=[e,t],e)}function _u(e,t){var l=Ke();t=t===void 0?null:t;var a=l.memoizedState;if(t!==null&&mc(t,a[1]))return a[0];if(a=e(),ea){Yt(!0);try{e()}finally{Yt(!1)}}return l.memoizedState=[a,t],a}function Ac(e,t,l){return l===void 0||(ll&1073741824)!==0&&(ge&261930)===0?e.memoizedState=t:(e.memoizedState=l,e=Cd(),de.lanes|=e,Cl|=e,l)}function Cu(e,t,l,a){return Nt(l,t)?l:wa.current!==null?(e=Ac(e,l,a),Nt(e,t)||(We=!0),e):(ll&42)===0||(ll&1073741824)!==0&&(ge&261930)===0?(We=!0,e.memoizedState=l):(e=Cd(),de.lanes|=e,Cl|=e,t)}function wu(e,t,l,a,n){var i=$.p;$.p=i!==0&&8>i?i:8;var c=z.T,d={};z.T=d,wc(e,!1,t,l);try{var b=n(),M=z.S;if(M!==null&&M(d,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var U=am(b,a);Nn(e,t,U,wt(e))}else Nn(e,t,a,wt(e))}catch(Y){Nn(e,t,{then:function(){},status:"rejected",reason:Y},wt())}finally{$.p=i,c!==null&&d.types!==null&&(c.types=d.types),z.T=c}}function rm(){}function _c(e,t,l,a){if(e.tag!==5)throw Error(u(476));var n=Ou(e).queue;wu(e,n,t,P,l===null?rm:function(){return Mu(e),l(a)})}function Ou(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:P,baseState:P,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:al,lastRenderedState:P},next:null};var l={};return t.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:al,lastRenderedState:l},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Mu(e){var t=Ou(e);t.next===null&&(t=e.alternate.memoizedState),Nn(e,t.next.queue,{},wt())}function Cc(){return at(Gn)}function Du(){return Ke().memoizedState}function ku(){return Ke().memoizedState}function um(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var l=wt();e=jl(l);var a=Nl(t,e,l);a!==null&&(yt(a,t,l),gn(a,t,l)),t={cache:ac()},e.payload=t;return}t=t.return}}function dm(e,t,l){var a=wt();l={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Cs(e)?Ru(t,l):(l=Zi(e,t,l,a),l!==null&&(yt(l,e,a),Bu(l,t,a)))}function zu(e,t,l){var a=wt();Nn(e,t,l,a)}function Nn(e,t,l,a){var n={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Cs(e))Ru(t,n);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var c=t.lastRenderedState,d=i(c,l);if(n.hasEagerState=!0,n.eagerState=d,Nt(d,c))return os(e,t,n,0),ke===null&&cs(),!1}catch{}finally{}if(l=Zi(e,t,n,a),l!==null)return yt(l,e,a),Bu(l,t,a),!0}return!1}function wc(e,t,l,a){if(a={lane:2,revertLane:co(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Cs(e)){if(t)throw Error(u(479))}else t=Zi(e,l,a,2),t!==null&&yt(t,e,2)}function Cs(e){var t=e.alternate;return e===de||t!==null&&t===de}function Ru(e,t){Oa=Ss=!0;var l=e.pending;l===null?t.next=t:(t.next=l.next,l.next=t),e.pending=t}function Bu(e,t,l){if((l&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,Vo(e,l)}}var En={readContext:at,use:Es,useCallback:Ye,useContext:Ye,useEffect:Ye,useImperativeHandle:Ye,useLayoutEffect:Ye,useInsertionEffect:Ye,useMemo:Ye,useReducer:Ye,useRef:Ye,useState:Ye,useDebugValue:Ye,useDeferredValue:Ye,useTransition:Ye,useSyncExternalStore:Ye,useId:Ye,useHostTransitionStatus:Ye,useFormState:Ye,useActionState:Ye,useOptimistic:Ye,useMemoCache:Ye,useCacheRefresh:Ye};En.useEffectEvent=Ye;var Lu={readContext:at,use:Es,useCallback:function(e,t){return ht().memoizedState=[e,t===void 0?null:t],e},useContext:at,useEffect:yu,useImperativeHandle:function(e,t,l){l=l!=null?l.concat([e]):null,As(4194308,4,Eu.bind(null,t,e),l)},useLayoutEffect:function(e,t){return As(4194308,4,e,t)},useInsertionEffect:function(e,t){As(4,2,e,t)},useMemo:function(e,t){var l=ht();t=t===void 0?null:t;var a=e();if(ea){Yt(!0);try{e()}finally{Yt(!1)}}return l.memoizedState=[a,t],a},useReducer:function(e,t,l){var a=ht();if(l!==void 0){var n=l(t);if(ea){Yt(!0);try{l(t)}finally{Yt(!1)}}}else n=t;return a.memoizedState=a.baseState=n,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},a.queue=e,e=e.dispatch=dm.bind(null,de,e),[a.memoizedState,e]},useRef:function(e){var t=ht();return e={current:e},t.memoizedState=e},useState:function(e){e=jc(e);var t=e.queue,l=zu.bind(null,de,t);return t.dispatch=l,[e.memoizedState,l]},useDebugValue:Tc,useDeferredValue:function(e,t){var l=ht();return Ac(l,e,t)},useTransition:function(){var e=jc(!1);return e=wu.bind(null,de,e.queue,!0,!1),ht().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,l){var a=de,n=ht();if(ye){if(l===void 0)throw Error(u(407));l=l()}else{if(l=t(),ke===null)throw Error(u(349));(ge&127)!==0||nu(a,t,l)}n.memoizedState=l;var i={value:l,getSnapshot:t};return n.queue=i,yu(iu.bind(null,a,i,e),[e]),a.flags|=2048,Da(9,{destroy:void 0},su.bind(null,a,i,l,t),null),l},useId:function(){var e=ht(),t=ke.identifierPrefix;if(ye){var l=Qt,a=Xt;l=(a&~(1<<32-it(a)-1)).toString(32)+l,t="_"+t+"R_"+l,l=js++,0<l&&(t+="H"+l.toString(32)),t+="_"}else l=nm++,t="_"+t+"r_"+l.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Cc,useFormState:bu,useActionState:bu,useOptimistic:function(e){var t=ht();t.memoizedState=t.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=l,t=wc.bind(null,de,!0,l),l.dispatch=t,[e,t]},useMemoCache:vc,useCacheRefresh:function(){return ht().memoizedState=um.bind(null,de)},useEffectEvent:function(e){var t=ht(),l={impl:e};return t.memoizedState=l,function(){if((Ee&2)!==0)throw Error(u(440));return l.impl.apply(void 0,arguments)}}},Oc={readContext:at,use:Es,useCallback:Au,useContext:at,useEffect:Ec,useImperativeHandle:Tu,useInsertionEffect:ju,useLayoutEffect:Nu,useMemo:_u,useReducer:Ts,useRef:vu,useState:function(){return Ts(al)},useDebugValue:Tc,useDeferredValue:function(e,t){var l=Ke();return Cu(l,Oe.memoizedState,e,t)},useTransition:function(){var e=Ts(al)[0],t=Ke().memoizedState;return[typeof e=="boolean"?e:jn(e),t]},useSyncExternalStore:au,useId:Du,useHostTransitionStatus:Cc,useFormState:pu,useActionState:pu,useOptimistic:function(e,t){var l=Ke();return ru(l,Oe,e,t)},useMemoCache:vc,useCacheRefresh:ku};Oc.useEffectEvent=Su;var Uu={readContext:at,use:Es,useCallback:Au,useContext:at,useEffect:Ec,useImperativeHandle:Tu,useInsertionEffect:ju,useLayoutEffect:Nu,useMemo:_u,useReducer:Sc,useRef:vu,useState:function(){return Sc(al)},useDebugValue:Tc,useDeferredValue:function(e,t){var l=Ke();return Oe===null?Ac(l,e,t):Cu(l,Oe.memoizedState,e,t)},useTransition:function(){var e=Sc(al)[0],t=Ke().memoizedState;return[typeof e=="boolean"?e:jn(e),t]},useSyncExternalStore:au,useId:Du,useHostTransitionStatus:Cc,useFormState:gu,useActionState:gu,useOptimistic:function(e,t){var l=Ke();return Oe!==null?ru(l,Oe,e,t):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:vc,useCacheRefresh:ku};Uu.useEffectEvent=Su;function Mc(e,t,l,a){t=e.memoizedState,l=l(a,t),l=l==null?t:A({},t,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var Dc={enqueueSetState:function(e,t,l){e=e._reactInternals;var a=wt(),n=jl(a);n.payload=t,l!=null&&(n.callback=l),t=Nl(e,n,a),t!==null&&(yt(t,e,a),gn(t,e,a))},enqueueReplaceState:function(e,t,l){e=e._reactInternals;var a=wt(),n=jl(a);n.tag=1,n.payload=t,l!=null&&(n.callback=l),t=Nl(e,n,a),t!==null&&(yt(t,e,a),gn(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var l=wt(),a=jl(l);a.tag=2,t!=null&&(a.callback=t),t=Nl(e,a,l),t!==null&&(yt(t,e,l),gn(t,e,l))}};function Hu(e,t,l,a,n,i,c){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,i,c):t.prototype&&t.prototype.isPureReactComponent?!un(l,a)||!un(n,i):!0}function Gu(e,t,l,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(l,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(l,a),t.state!==e&&Dc.enqueueReplaceState(t,t.state,null)}function ta(e,t){var l=t;if("ref"in t){l={};for(var a in t)a!=="ref"&&(l[a]=t[a])}if(e=e.defaultProps){l===t&&(l=A({},l));for(var n in e)l[n]===void 0&&(l[n]=e[n])}return l}function Vu(e){is(e)}function qu(e){console.error(e)}function Yu(e){is(e)}function ws(e,t){try{var l=e.onUncaughtError;l(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function Xu(e,t,l){try{var a=e.onCaughtError;a(l.value,{componentStack:l.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function kc(e,t,l){return l=jl(l),l.tag=3,l.payload={element:null},l.callback=function(){ws(e,t)},l}function Qu(e){return e=jl(e),e.tag=3,e}function Zu(e,t,l,a){var n=l.type.getDerivedStateFromError;if(typeof n=="function"){var i=a.value;e.payload=function(){return n(i)},e.callback=function(){Xu(t,l,a)}}var c=l.stateNode;c!==null&&typeof c.componentDidCatch=="function"&&(e.callback=function(){Xu(t,l,a),typeof n!="function"&&(wl===null?wl=new Set([this]):wl.add(this));var d=a.stack;this.componentDidCatch(a.value,{componentStack:d!==null?d:""})})}function fm(e,t,l,a,n){if(l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=l.alternate,t!==null&&Ea(t,l,n,!0),l=Tt.current,l!==null){switch(l.tag){case 31:case 13:return Lt===null?Vs():l.alternate===null&&Xe===0&&(Xe=3),l.flags&=-257,l.flags|=65536,l.lanes=n,a===ps?l.flags|=16384:(t=l.updateQueue,t===null?l.updateQueue=new Set([a]):t.add(a),no(e,a,n)),!1;case 22:return l.flags|=65536,a===ps?l.flags|=16384:(t=l.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},l.updateQueue=t):(l=t.retryQueue,l===null?t.retryQueue=new Set([a]):l.add(a)),no(e,a,n)),!1}throw Error(u(435,l.tag))}return no(e,a,n),Vs(),!1}if(ye)return t=Tt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=n,a!==Ii&&(e=Error(u(422),{cause:a}),hn(kt(e,l)))):(a!==Ii&&(t=Error(u(423),{cause:a}),hn(kt(t,l))),e=e.current.alternate,e.flags|=65536,n&=-n,e.lanes|=n,a=kt(a,l),n=kc(e.stateNode,a,n),rc(e,n),Xe!==4&&(Xe=2)),!1;var i=Error(u(520),{cause:a});if(i=kt(i,l),Dn===null?Dn=[i]:Dn.push(i),Xe!==4&&(Xe=2),t===null)return!0;a=kt(a,l),l=t;do{switch(l.tag){case 3:return l.flags|=65536,e=n&-n,l.lanes|=e,e=kc(l.stateNode,a,e),rc(l,e),!1;case 1:if(t=l.type,i=l.stateNode,(l.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(wl===null||!wl.has(i))))return l.flags|=65536,n&=-n,l.lanes|=n,n=Qu(n),Zu(n,e,l,a),rc(l,n),!1}l=l.return}while(l!==null);return!1}var zc=Error(u(461)),We=!1;function nt(e,t,l,a){t.child=e===null?Wr(t,null,l,a):Pl(t,e.child,l,a)}function Ku(e,t,l,a,n){l=l.render;var i=t.ref;if("ref"in a){var c={};for(var d in a)d!=="ref"&&(c[d]=a[d])}else c=a;return $l(t),a=bc(e,t,l,c,i,n),d=pc(),e!==null&&!We?(xc(e,t,n),nl(e,t,n)):(ye&&d&&Wi(t),t.flags|=1,nt(e,t,a,n),t.child)}function Ju(e,t,l,a,n){if(e===null){var i=l.type;return typeof i=="function"&&!Ki(i)&&i.defaultProps===void 0&&l.compare===null?(t.tag=15,t.type=i,$u(e,t,i,a,n)):(e=us(l.type,null,a,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!qc(e,n)){var c=i.memoizedProps;if(l=l.compare,l=l!==null?l:un,l(c,a)&&e.ref===t.ref)return nl(e,t,n)}return t.flags|=1,e=It(i,a),e.ref=t.ref,e.return=t,t.child=e}function $u(e,t,l,a,n){if(e!==null){var i=e.memoizedProps;if(un(i,a)&&e.ref===t.ref)if(We=!1,t.pendingProps=a=i,qc(e,n))(e.flags&131072)!==0&&(We=!0);else return t.lanes=e.lanes,nl(e,t,n)}return Rc(e,t,l,a,n)}function Wu(e,t,l,a){var n=a.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((t.flags&128)!==0){if(i=i!==null?i.baseLanes|l:l,e!==null){for(a=t.child=e.child,n=0;a!==null;)n=n|a.lanes|a.childLanes,a=a.sibling;a=n&~i}else a=0,t.child=null;return Fu(e,t,i,l,a)}if((l&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ms(t,i!==null?i.cachePool:null),i!==null?Pr(t,i):dc(),eu(t);else return a=t.lanes=536870912,Fu(e,t,i!==null?i.baseLanes|l:l,l,a)}else i!==null?(ms(t,i.cachePool),Pr(t,i),Tl(),t.memoizedState=null):(e!==null&&ms(t,null),dc(),Tl());return nt(e,t,n,l),t.child}function Tn(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Fu(e,t,l,a,n){var i=sc();return i=i===null?null:{parent:Je._currentValue,pool:i},t.memoizedState={baseLanes:l,cachePool:i},e!==null&&ms(t,null),dc(),eu(t),e!==null&&Ea(e,t,a,!0),t.childLanes=n,null}function Os(e,t){return t=Ds({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Iu(e,t,l){return Pl(t,e.child,null,l),e=Os(t,t.pendingProps),e.flags|=2,At(t),t.memoizedState=null,e}function hm(e,t,l){var a=t.pendingProps,n=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ye){if(a.mode==="hidden")return e=Os(t,a),t.lanes=536870912,Tn(null,e);if(hc(t),(e=Le)?(e=df(e,Bt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:xl!==null?{id:Xt,overflow:Qt}:null,retryLane:536870912,hydrationErrors:null},l=Rr(e),l.return=t,t.child=l,lt=t,Le=null)):e=null,e===null)throw vl(t);return t.lanes=536870912,null}return Os(t,a)}var i=e.memoizedState;if(i!==null){var c=i.dehydrated;if(hc(t),n)if(t.flags&256)t.flags&=-257,t=Iu(e,t,l);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(u(558));else if(We||Ea(e,t,l,!1),n=(l&e.childLanes)!==0,We||n){if(a=ke,a!==null&&(c=qo(a,l),c!==0&&c!==i.retryLane))throw i.retryLane=c,Ql(e,c),yt(a,e,c),zc;Vs(),t=Iu(e,t,l)}else e=i.treeContext,Le=Ut(c.nextSibling),lt=t,ye=!0,gl=null,Bt=!1,e!==null&&Ur(t,e),t=Os(t,a),t.flags|=4096;return t}return e=It(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Ms(e,t){var l=t.ref;if(l===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(u(284));(e===null||e.ref!==l)&&(t.flags|=4194816)}}function Rc(e,t,l,a,n){return $l(t),l=bc(e,t,l,a,void 0,n),a=pc(),e!==null&&!We?(xc(e,t,n),nl(e,t,n)):(ye&&a&&Wi(t),t.flags|=1,nt(e,t,l,n),t.child)}function Pu(e,t,l,a,n,i){return $l(t),t.updateQueue=null,l=lu(t,a,l,n),tu(e),a=pc(),e!==null&&!We?(xc(e,t,i),nl(e,t,i)):(ye&&a&&Wi(t),t.flags|=1,nt(e,t,l,i),t.child)}function ed(e,t,l,a,n){if($l(t),t.stateNode===null){var i=ya,c=l.contextType;typeof c=="object"&&c!==null&&(i=at(c)),i=new l(a,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Dc,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=a,i.state=t.memoizedState,i.refs={},cc(t),c=l.contextType,i.context=typeof c=="object"&&c!==null?at(c):ya,i.state=t.memoizedState,c=l.getDerivedStateFromProps,typeof c=="function"&&(Mc(t,l,c,a),i.state=t.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(c=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),c!==i.state&&Dc.enqueueReplaceState(i,i.state,null),yn(t,a,i,n),vn(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){i=t.stateNode;var d=t.memoizedProps,b=ta(l,d);i.props=b;var M=i.context,U=l.contextType;c=ya,typeof U=="object"&&U!==null&&(c=at(U));var Y=l.getDerivedStateFromProps;U=typeof Y=="function"||typeof i.getSnapshotBeforeUpdate=="function",d=t.pendingProps!==d,U||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(d||M!==c)&&Gu(t,i,a,c),Sl=!1;var D=t.memoizedState;i.state=D,yn(t,a,i,n),vn(),M=t.memoizedState,d||D!==M||Sl?(typeof Y=="function"&&(Mc(t,l,Y,a),M=t.memoizedState),(b=Sl||Hu(t,l,b,a,D,M,c))?(U||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=M),i.props=a,i.state=M,i.context=c,a=b):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{i=t.stateNode,oc(e,t),c=t.memoizedProps,U=ta(l,c),i.props=U,Y=t.pendingProps,D=i.context,M=l.contextType,b=ya,typeof M=="object"&&M!==null&&(b=at(M)),d=l.getDerivedStateFromProps,(M=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(c!==Y||D!==b)&&Gu(t,i,a,b),Sl=!1,D=t.memoizedState,i.state=D,yn(t,a,i,n),vn();var R=t.memoizedState;c!==Y||D!==R||Sl||e!==null&&e.dependencies!==null&&fs(e.dependencies)?(typeof d=="function"&&(Mc(t,l,d,a),R=t.memoizedState),(U=Sl||Hu(t,l,U,a,D,R,b)||e!==null&&e.dependencies!==null&&fs(e.dependencies))?(M||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(a,R,b),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(a,R,b)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||c===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=R),i.props=a,i.state=R,i.context=b,a=U):(typeof i.componentDidUpdate!="function"||c===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),a=!1)}return i=a,Ms(e,t),a=(t.flags&128)!==0,i||a?(i=t.stateNode,l=a&&typeof l.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&a?(t.child=Pl(t,e.child,null,n),t.child=Pl(t,null,l,n)):nt(e,t,l,n),t.memoizedState=i.state,e=t.child):e=nl(e,t,n),e}function td(e,t,l,a){return Kl(),t.flags|=256,nt(e,t,l,a),t.child}var Bc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lc(e){return{baseLanes:e,cachePool:Xr()}}function Uc(e,t,l){return e=e!==null?e.childLanes&~l:0,t&&(e|=Ct),e}function ld(e,t,l){var a=t.pendingProps,n=!1,i=(t.flags&128)!==0,c;if((c=i)||(c=e!==null&&e.memoizedState===null?!1:(Ze.current&2)!==0),c&&(n=!0,t.flags&=-129),c=(t.flags&32)!==0,t.flags&=-33,e===null){if(ye){if(n?El(t):Tl(),(e=Le)?(e=df(e,Bt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:xl!==null?{id:Xt,overflow:Qt}:null,retryLane:536870912,hydrationErrors:null},l=Rr(e),l.return=t,t.child=l,lt=t,Le=null)):e=null,e===null)throw vl(t);return So(e)?t.lanes=32:t.lanes=536870912,null}var d=a.children;return a=a.fallback,n?(Tl(),n=t.mode,d=Ds({mode:"hidden",children:d},n),a=Zl(a,n,l,null),d.return=t,a.return=t,d.sibling=a,t.child=d,a=t.child,a.memoizedState=Lc(l),a.childLanes=Uc(e,c,l),t.memoizedState=Bc,Tn(null,a)):(El(t),Hc(t,d))}var b=e.memoizedState;if(b!==null&&(d=b.dehydrated,d!==null)){if(i)t.flags&256?(El(t),t.flags&=-257,t=Gc(e,t,l)):t.memoizedState!==null?(Tl(),t.child=e.child,t.flags|=128,t=null):(Tl(),d=a.fallback,n=t.mode,a=Ds({mode:"visible",children:a.children},n),d=Zl(d,n,l,null),d.flags|=2,a.return=t,d.return=t,a.sibling=d,t.child=a,Pl(t,e.child,null,l),a=t.child,a.memoizedState=Lc(l),a.childLanes=Uc(e,c,l),t.memoizedState=Bc,t=Tn(null,a));else if(El(t),So(d)){if(c=d.nextSibling&&d.nextSibling.dataset,c)var M=c.dgst;c=M,a=Error(u(419)),a.stack="",a.digest=c,hn({value:a,source:null,stack:null}),t=Gc(e,t,l)}else if(We||Ea(e,t,l,!1),c=(l&e.childLanes)!==0,We||c){if(c=ke,c!==null&&(a=qo(c,l),a!==0&&a!==b.retryLane))throw b.retryLane=a,Ql(e,a),yt(c,e,a),zc;yo(d)||Vs(),t=Gc(e,t,l)}else yo(d)?(t.flags|=192,t.child=e.child,t=null):(e=b.treeContext,Le=Ut(d.nextSibling),lt=t,ye=!0,gl=null,Bt=!1,e!==null&&Ur(t,e),t=Hc(t,a.children),t.flags|=4096);return t}return n?(Tl(),d=a.fallback,n=t.mode,b=e.child,M=b.sibling,a=It(b,{mode:"hidden",children:a.children}),a.subtreeFlags=b.subtreeFlags&65011712,M!==null?d=It(M,d):(d=Zl(d,n,l,null),d.flags|=2),d.return=t,a.return=t,a.sibling=d,t.child=a,Tn(null,a),a=t.child,d=e.child.memoizedState,d===null?d=Lc(l):(n=d.cachePool,n!==null?(b=Je._currentValue,n=n.parent!==b?{parent:b,pool:b}:n):n=Xr(),d={baseLanes:d.baseLanes|l,cachePool:n}),a.memoizedState=d,a.childLanes=Uc(e,c,l),t.memoizedState=Bc,Tn(e.child,a)):(El(t),l=e.child,e=l.sibling,l=It(l,{mode:"visible",children:a.children}),l.return=t,l.sibling=null,e!==null&&(c=t.deletions,c===null?(t.deletions=[e],t.flags|=16):c.push(e)),t.child=l,t.memoizedState=null,l)}function Hc(e,t){return t=Ds({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ds(e,t){return e=Et(22,e,null,t),e.lanes=0,e}function Gc(e,t,l){return Pl(t,e.child,null,l),e=Hc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ad(e,t,l){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),tc(e.return,t,l)}function Vc(e,t,l,a,n,i){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:l,tailMode:n,treeForkCount:i}:(c.isBackwards=t,c.rendering=null,c.renderingStartTime=0,c.last=a,c.tail=l,c.tailMode=n,c.treeForkCount=i)}function nd(e,t,l){var a=t.pendingProps,n=a.revealOrder,i=a.tail;a=a.children;var c=Ze.current,d=(c&2)!==0;if(d?(c=c&1|2,t.flags|=128):c&=1,S(Ze,c),nt(e,t,a,l),a=ye?fn:0,!d&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ad(e,l,t);else if(e.tag===19)ad(e,l,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(n){case"forwards":for(l=t.child,n=null;l!==null;)e=l.alternate,e!==null&&ys(e)===null&&(n=l),l=l.sibling;l=n,l===null?(n=t.child,t.child=null):(n=l.sibling,l.sibling=null),Vc(t,!1,n,l,i,a);break;case"backwards":case"unstable_legacy-backwards":for(l=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&ys(e)===null){t.child=n;break}e=n.sibling,n.sibling=l,l=n,n=e}Vc(t,!0,l,null,i,a);break;case"together":Vc(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function nl(e,t,l){if(e!==null&&(t.dependencies=e.dependencies),Cl|=t.lanes,(l&t.childLanes)===0)if(e!==null){if(Ea(e,t,l,!1),(l&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(u(153));if(t.child!==null){for(e=t.child,l=It(e,e.pendingProps),t.child=l,l.return=t;e.sibling!==null;)e=e.sibling,l=l.sibling=It(e,e.pendingProps),l.return=t;l.sibling=null}return t.child}function qc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&fs(e)))}function mm(e,t,l){switch(t.tag){case 3:me(t,t.stateNode.containerInfo),yl(t,Je,e.memoizedState.cache),Kl();break;case 27:case 5:Qe(t);break;case 4:me(t,t.stateNode.containerInfo);break;case 10:yl(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,hc(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(El(t),t.flags|=128,null):(l&t.child.childLanes)!==0?ld(e,t,l):(El(t),e=nl(e,t,l),e!==null?e.sibling:null);El(t);break;case 19:var n=(e.flags&128)!==0;if(a=(l&t.childLanes)!==0,a||(Ea(e,t,l,!1),a=(l&t.childLanes)!==0),n){if(a)return nd(e,t,l);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),S(Ze,Ze.current),a)break;return null;case 22:return t.lanes=0,Wu(e,t,l,t.pendingProps);case 24:yl(t,Je,e.memoizedState.cache)}return nl(e,t,l)}function sd(e,t,l){if(e!==null)if(e.memoizedProps!==t.pendingProps)We=!0;else{if(!qc(e,l)&&(t.flags&128)===0)return We=!1,mm(e,t,l);We=(e.flags&131072)!==0}else We=!1,ye&&(t.flags&1048576)!==0&&Lr(t,fn,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=Fl(t.elementType),t.type=e,typeof e=="function")Ki(e)?(a=ta(e,a),t.tag=1,t=ed(null,t,e,a,l)):(t.tag=0,t=Rc(null,t,e,a,l));else{if(e!=null){var n=e.$$typeof;if(n===K){t.tag=11,t=Ku(null,t,e,a,l);break e}else if(n===H){t.tag=14,t=Ju(null,t,e,a,l);break e}}throw t=Re(e)||e,Error(u(306,t,""))}}return t;case 0:return Rc(e,t,t.type,t.pendingProps,l);case 1:return a=t.type,n=ta(a,t.pendingProps),ed(e,t,a,n,l);case 3:e:{if(me(t,t.stateNode.containerInfo),e===null)throw Error(u(387));a=t.pendingProps;var i=t.memoizedState;n=i.element,oc(e,t),yn(t,a,null,l);var c=t.memoizedState;if(a=c.cache,yl(t,Je,a),a!==i.cache&&lc(t,[Je],l,!0),vn(),a=c.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:c.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=td(e,t,a,l);break e}else if(a!==n){n=kt(Error(u(424)),t),hn(n),t=td(e,t,a,l);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Le=Ut(e.firstChild),lt=t,ye=!0,gl=null,Bt=!0,l=Wr(t,null,a,l),t.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Kl(),a===n){t=nl(e,t,l);break e}nt(e,t,a,l)}t=t.child}return t;case 26:return Ms(e,t),e===null?(l=xf(t.type,null,t.pendingProps,null))?t.memoizedState=l:ye||(l=t.type,e=t.pendingProps,a=Js(I.current).createElement(l),a[tt]=t,a[mt]=e,st(a,l,e),Pe(a),t.stateNode=a):t.memoizedState=xf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Qe(t),e===null&&ye&&(a=t.stateNode=mf(t.type,t.pendingProps,I.current),lt=t,Bt=!0,n=Le,kl(t.type)?(jo=n,Le=Ut(a.firstChild)):Le=n),nt(e,t,t.pendingProps.children,l),Ms(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ye&&((n=a=Le)&&(a=Xm(a,t.type,t.pendingProps,Bt),a!==null?(t.stateNode=a,lt=t,Le=Ut(a.firstChild),Bt=!1,n=!0):n=!1),n||vl(t)),Qe(t),n=t.type,i=t.pendingProps,c=e!==null?e.memoizedProps:null,a=i.children,xo(n,i)?a=null:c!==null&&xo(n,c)&&(t.flags|=32),t.memoizedState!==null&&(n=bc(e,t,sm,null,null,l),Gn._currentValue=n),Ms(e,t),nt(e,t,a,l),t.child;case 6:return e===null&&ye&&((e=l=Le)&&(l=Qm(l,t.pendingProps,Bt),l!==null?(t.stateNode=l,lt=t,Le=null,e=!0):e=!1),e||vl(t)),null;case 13:return ld(e,t,l);case 4:return me(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Pl(t,null,a,l):nt(e,t,a,l),t.child;case 11:return Ku(e,t,t.type,t.pendingProps,l);case 7:return nt(e,t,t.pendingProps,l),t.child;case 8:return nt(e,t,t.pendingProps.children,l),t.child;case 12:return nt(e,t,t.pendingProps.children,l),t.child;case 10:return a=t.pendingProps,yl(t,t.type,a.value),nt(e,t,a.children,l),t.child;case 9:return n=t.type._context,a=t.pendingProps.children,$l(t),n=at(n),a=a(n),t.flags|=1,nt(e,t,a,l),t.child;case 14:return Ju(e,t,t.type,t.pendingProps,l);case 15:return $u(e,t,t.type,t.pendingProps,l);case 19:return nd(e,t,l);case 31:return hm(e,t,l);case 22:return Wu(e,t,l,t.pendingProps);case 24:return $l(t),a=at(Je),e===null?(n=sc(),n===null&&(n=ke,i=ac(),n.pooledCache=i,i.refCount++,i!==null&&(n.pooledCacheLanes|=l),n=i),t.memoizedState={parent:a,cache:n},cc(t),yl(t,Je,n)):((e.lanes&l)!==0&&(oc(e,t),yn(t,null,null,l),vn()),n=e.memoizedState,i=t.memoizedState,n.parent!==a?(n={parent:a,cache:a},t.memoizedState=n,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=n),yl(t,Je,a)):(a=i.cache,yl(t,Je,a),a!==n.cache&&lc(t,[Je],l,!0))),nt(e,t,t.pendingProps.children,l),t.child;case 29:throw t.pendingProps}throw Error(u(156,t.tag))}function sl(e){e.flags|=4}function Yc(e,t,l,a,n){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(n&335544128)===n)if(e.stateNode.complete)e.flags|=8192;else if(Dd())e.flags|=8192;else throw Il=ps,ic}else e.flags&=-16777217}function id(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!jf(t))if(Dd())e.flags|=8192;else throw Il=ps,ic}function ks(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?ft():536870912,e.lanes|=t,Ba|=t)}function An(e,t){if(!ye)switch(e.tailMode){case"hidden":t=e.tail;for(var l=null;t!==null;)t.alternate!==null&&(l=t),t=t.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var a=null;l!==null;)l.alternate!==null&&(a=l),l=l.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Ue(e){var t=e.alternate!==null&&e.alternate.child===e.child,l=0,a=0;if(t)for(var n=e.child;n!==null;)l|=n.lanes|n.childLanes,a|=n.subtreeFlags&65011712,a|=n.flags&65011712,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)l|=n.lanes|n.childLanes,a|=n.subtreeFlags,a|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=a,e.childLanes=l,t}function bm(e,t,l){var a=t.pendingProps;switch(Fi(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ue(t),null;case 1:return Ue(t),null;case 3:return l=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),tl(Je),oe(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Na(t)?sl(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Pi())),Ue(t),null;case 26:var n=t.type,i=t.memoizedState;return e===null?(sl(t),i!==null?(Ue(t),id(t,i)):(Ue(t),Yc(t,n,null,a,l))):i?i!==e.memoizedState?(sl(t),Ue(t),id(t,i)):(Ue(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&sl(t),Ue(t),Yc(t,n,e,a,l)),null;case 27:if(ze(t),l=I.current,n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&sl(t);else{if(!a){if(t.stateNode===null)throw Error(u(166));return Ue(t),null}e=q.current,Na(t)?Hr(t):(e=mf(n,a,l),t.stateNode=e,sl(t))}return Ue(t),null;case 5:if(ze(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&sl(t);else{if(!a){if(t.stateNode===null)throw Error(u(166));return Ue(t),null}if(i=q.current,Na(t))Hr(t);else{var c=Js(I.current);switch(i){case 1:i=c.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:i=c.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":i=c.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":i=c.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":i=c.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof a.is=="string"?c.createElement("select",{is:a.is}):c.createElement("select"),a.multiple?i.multiple=!0:a.size&&(i.size=a.size);break;default:i=typeof a.is=="string"?c.createElement(n,{is:a.is}):c.createElement(n)}}i[tt]=t,i[mt]=a;e:for(c=t.child;c!==null;){if(c.tag===5||c.tag===6)i.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}t.stateNode=i;e:switch(st(i,n,a),n){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&sl(t)}}return Ue(t),Yc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,l),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&sl(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(u(166));if(e=I.current,Na(t)){if(e=t.stateNode,l=t.memoizedProps,a=null,n=lt,n!==null)switch(n.tag){case 27:case 5:a=n.memoizedProps}e[tt]=t,e=!!(e.nodeValue===l||a!==null&&a.suppressHydrationWarning===!0||lf(e.nodeValue,l)),e||vl(t,!0)}else e=Js(e).createTextNode(a),e[tt]=t,t.stateNode=e}return Ue(t),null;case 31:if(l=t.memoizedState,e===null||e.memoizedState!==null){if(a=Na(t),l!==null){if(e===null){if(!a)throw Error(u(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(u(557));e[tt]=t}else Kl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ue(t),e=!1}else l=Pi(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return t.flags&256?(At(t),t):(At(t),null);if((t.flags&128)!==0)throw Error(u(558))}return Ue(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(n=Na(t),a!==null&&a.dehydrated!==null){if(e===null){if(!n)throw Error(u(318));if(n=t.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(u(317));n[tt]=t}else Kl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ue(t),n=!1}else n=Pi(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),n=!0;if(!n)return t.flags&256?(At(t),t):(At(t),null)}return At(t),(t.flags&128)!==0?(t.lanes=l,t):(l=a!==null,e=e!==null&&e.memoizedState!==null,l&&(a=t.child,n=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(n=a.alternate.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==n&&(a.flags|=2048)),l!==e&&l&&(t.child.flags|=8192),ks(t,t.updateQueue),Ue(t),null);case 4:return oe(),e===null&&fo(t.stateNode.containerInfo),Ue(t),null;case 10:return tl(t.type),Ue(t),null;case 19:if(G(Ze),a=t.memoizedState,a===null)return Ue(t),null;if(n=(t.flags&128)!==0,i=a.rendering,i===null)if(n)An(a,!1);else{if(Xe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(i=ys(e),i!==null){for(t.flags|=128,An(a,!1),e=i.updateQueue,t.updateQueue=e,ks(t,e),t.subtreeFlags=0,e=l,l=t.child;l!==null;)zr(l,e),l=l.sibling;return S(Ze,Ze.current&1|2),ye&&Pt(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&ut()>Us&&(t.flags|=128,n=!0,An(a,!1),t.lanes=4194304)}else{if(!n)if(e=ys(i),e!==null){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,ks(t,e),An(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!ye)return Ue(t),null}else 2*ut()-a.renderingStartTime>Us&&l!==536870912&&(t.flags|=128,n=!0,An(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(e=a.last,e!==null?e.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=ut(),e.sibling=null,l=Ze.current,S(Ze,n?l&1|2:l&1),ye&&Pt(t,a.treeForkCount),e):(Ue(t),null);case 22:case 23:return At(t),fc(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(l&536870912)!==0&&(t.flags&128)===0&&(Ue(t),t.subtreeFlags&6&&(t.flags|=8192)):Ue(t),l=t.updateQueue,l!==null&&ks(t,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==l&&(t.flags|=2048),e!==null&&G(Wl),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),tl(Je),Ue(t),null;case 25:return null;case 30:return null}throw Error(u(156,t.tag))}function pm(e,t){switch(Fi(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return tl(Je),oe(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ze(t),null;case 31:if(t.memoizedState!==null){if(At(t),t.alternate===null)throw Error(u(340));Kl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(At(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(u(340));Kl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return G(Ze),null;case 4:return oe(),null;case 10:return tl(t.type),null;case 22:case 23:return At(t),fc(),e!==null&&G(Wl),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return tl(Je),null;case 25:return null;default:return null}}function cd(e,t){switch(Fi(t),t.tag){case 3:tl(Je),oe();break;case 26:case 27:case 5:ze(t);break;case 4:oe();break;case 31:t.memoizedState!==null&&At(t);break;case 13:At(t);break;case 19:G(Ze);break;case 10:tl(t.type);break;case 22:case 23:At(t),fc(),e!==null&&G(Wl);break;case 24:tl(Je)}}function _n(e,t){try{var l=t.updateQueue,a=l!==null?l.lastEffect:null;if(a!==null){var n=a.next;l=n;do{if((l.tag&e)===e){a=void 0;var i=l.create,c=l.inst;a=i(),c.destroy=a}l=l.next}while(l!==n)}}catch(d){_e(t,t.return,d)}}function Al(e,t,l){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var i=n.next;a=i;do{if((a.tag&e)===e){var c=a.inst,d=c.destroy;if(d!==void 0){c.destroy=void 0,n=t;var b=l,M=d;try{M()}catch(U){_e(n,b,U)}}}a=a.next}while(a!==i)}}catch(U){_e(t,t.return,U)}}function od(e){var t=e.updateQueue;if(t!==null){var l=e.stateNode;try{Ir(t,l)}catch(a){_e(e,e.return,a)}}}function rd(e,t,l){l.props=ta(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(a){_e(e,t,a)}}function Cn(e,t){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof l=="function"?e.refCleanup=l(a):l.current=a}}catch(n){_e(e,t,n)}}function Zt(e,t){var l=e.ref,a=e.refCleanup;if(l!==null)if(typeof a=="function")try{a()}catch(n){_e(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(n){_e(e,t,n)}else l.current=null}function ud(e){var t=e.type,l=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":l.autoFocus&&a.focus();break e;case"img":l.src?a.src=l.src:l.srcSet&&(a.srcset=l.srcSet)}}catch(n){_e(e,e.return,n)}}function Xc(e,t,l){try{var a=e.stateNode;Um(a,e.type,l,t),a[mt]=t}catch(n){_e(e,e.return,n)}}function dd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&kl(e.type)||e.tag===4}function Qc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||dd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&kl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Zc(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,t):(t=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,t.appendChild(e),l=l._reactRootContainer,l!=null||t.onclick!==null||(t.onclick=Wt));else if(a!==4&&(a===27&&kl(e.type)&&(l=e.stateNode,t=null),e=e.child,e!==null))for(Zc(e,t,l),e=e.sibling;e!==null;)Zc(e,t,l),e=e.sibling}function zs(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?l.insertBefore(e,t):l.appendChild(e);else if(a!==4&&(a===27&&kl(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(zs(e,t,l),e=e.sibling;e!==null;)zs(e,t,l),e=e.sibling}function fd(e){var t=e.stateNode,l=e.memoizedProps;try{for(var a=e.type,n=t.attributes;n.length;)t.removeAttributeNode(n[0]);st(t,a,l),t[tt]=e,t[mt]=l}catch(i){_e(e,e.return,i)}}var il=!1,Fe=!1,Kc=!1,hd=typeof WeakSet=="function"?WeakSet:Set,et=null;function xm(e,t){if(e=e.containerInfo,bo=ti,e=Tr(e),Gi(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var a=l.getSelection&&l.getSelection();if(a&&a.rangeCount!==0){l=a.anchorNode;var n=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{l.nodeType,i.nodeType}catch{l=null;break e}var c=0,d=-1,b=-1,M=0,U=0,Y=e,D=null;t:for(;;){for(var R;Y!==l||n!==0&&Y.nodeType!==3||(d=c+n),Y!==i||a!==0&&Y.nodeType!==3||(b=c+a),Y.nodeType===3&&(c+=Y.nodeValue.length),(R=Y.firstChild)!==null;)D=Y,Y=R;for(;;){if(Y===e)break t;if(D===l&&++M===n&&(d=c),D===i&&++U===a&&(b=c),(R=Y.nextSibling)!==null)break;Y=D,D=Y.parentNode}Y=R}l=d===-1||b===-1?null:{start:d,end:b}}else l=null}l=l||{start:0,end:0}}else l=null;for(po={focusedElem:e,selectionRange:l},ti=!1,et=t;et!==null;)if(t=et,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,et=e;else for(;et!==null;){switch(t=et,i=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)n=e[l],n.ref.impl=n.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&i!==null){e=void 0,l=t,n=i.memoizedProps,i=i.memoizedState,a=l.stateNode;try{var te=ta(l.type,n);e=a.getSnapshotBeforeUpdate(te,i),a.__reactInternalSnapshotBeforeUpdate=e}catch(ce){_e(l,l.return,ce)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,l=e.nodeType,l===9)vo(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":vo(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(u(163))}if(e=t.sibling,e!==null){e.return=t.return,et=e;break}et=t.return}}function md(e,t,l){var a=l.flags;switch(l.tag){case 0:case 11:case 15:ol(e,l),a&4&&_n(5,l);break;case 1:if(ol(e,l),a&4)if(e=l.stateNode,t===null)try{e.componentDidMount()}catch(c){_e(l,l.return,c)}else{var n=ta(l.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(n,t,e.__reactInternalSnapshotBeforeUpdate)}catch(c){_e(l,l.return,c)}}a&64&&od(l),a&512&&Cn(l,l.return);break;case 3:if(ol(e,l),a&64&&(e=l.updateQueue,e!==null)){if(t=null,l.child!==null)switch(l.child.tag){case 27:case 5:t=l.child.stateNode;break;case 1:t=l.child.stateNode}try{Ir(e,t)}catch(c){_e(l,l.return,c)}}break;case 27:t===null&&a&4&&fd(l);case 26:case 5:ol(e,l),t===null&&a&4&&ud(l),a&512&&Cn(l,l.return);break;case 12:ol(e,l);break;case 31:ol(e,l),a&4&&xd(e,l);break;case 13:ol(e,l),a&4&&gd(e,l),a&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=Am.bind(null,l),Zm(e,l))));break;case 22:if(a=l.memoizedState!==null||il,!a){t=t!==null&&t.memoizedState!==null||Fe,n=il;var i=Fe;il=a,(Fe=t)&&!i?rl(e,l,(l.subtreeFlags&8772)!==0):ol(e,l),il=n,Fe=i}break;case 30:break;default:ol(e,l)}}function bd(e){var t=e.alternate;t!==null&&(e.alternate=null,bd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Ni(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var He=null,pt=!1;function cl(e,t,l){for(l=l.child;l!==null;)pd(e,t,l),l=l.sibling}function pd(e,t,l){if(dt&&typeof dt.onCommitFiberUnmount=="function")try{dt.onCommitFiberUnmount(hl,l)}catch{}switch(l.tag){case 26:Fe||Zt(l,t),cl(e,t,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Fe||Zt(l,t);var a=He,n=pt;kl(l.type)&&(He=l.stateNode,pt=!1),cl(e,t,l),Ln(l.stateNode),He=a,pt=n;break;case 5:Fe||Zt(l,t);case 6:if(a=He,n=pt,He=null,cl(e,t,l),He=a,pt=n,He!==null)if(pt)try{(He.nodeType===9?He.body:He.nodeName==="HTML"?He.ownerDocument.body:He).removeChild(l.stateNode)}catch(i){_e(l,t,i)}else try{He.removeChild(l.stateNode)}catch(i){_e(l,t,i)}break;case 18:He!==null&&(pt?(e=He,rf(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),Xa(e)):rf(He,l.stateNode));break;case 4:a=He,n=pt,He=l.stateNode.containerInfo,pt=!0,cl(e,t,l),He=a,pt=n;break;case 0:case 11:case 14:case 15:Al(2,l,t),Fe||Al(4,l,t),cl(e,t,l);break;case 1:Fe||(Zt(l,t),a=l.stateNode,typeof a.componentWillUnmount=="function"&&rd(l,t,a)),cl(e,t,l);break;case 21:cl(e,t,l);break;case 22:Fe=(a=Fe)||l.memoizedState!==null,cl(e,t,l),Fe=a;break;default:cl(e,t,l)}}function xd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Xa(e)}catch(l){_e(t,t.return,l)}}}function gd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Xa(e)}catch(l){_e(t,t.return,l)}}function gm(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new hd),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new hd),t;default:throw Error(u(435,e.tag))}}function Rs(e,t){var l=gm(e);t.forEach(function(a){if(!l.has(a)){l.add(a);var n=_m.bind(null,e,a);a.then(n,n)}})}function xt(e,t){var l=t.deletions;if(l!==null)for(var a=0;a<l.length;a++){var n=l[a],i=e,c=t,d=c;e:for(;d!==null;){switch(d.tag){case 27:if(kl(d.type)){He=d.stateNode,pt=!1;break e}break;case 5:He=d.stateNode,pt=!1;break e;case 3:case 4:He=d.stateNode.containerInfo,pt=!0;break e}d=d.return}if(He===null)throw Error(u(160));pd(i,c,n),He=null,pt=!1,i=n.alternate,i!==null&&(i.return=null),n.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)vd(t,e),t=t.sibling}var Vt=null;function vd(e,t){var l=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:xt(t,e),gt(e),a&4&&(Al(3,e,e.return),_n(3,e),Al(5,e,e.return));break;case 1:xt(t,e),gt(e),a&512&&(Fe||l===null||Zt(l,l.return)),a&64&&il&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?a:l.concat(a))));break;case 26:var n=Vt;if(xt(t,e),gt(e),a&512&&(Fe||l===null||Zt(l,l.return)),a&4){var i=l!==null?l.memoizedState:null;if(a=e.memoizedState,l===null)if(a===null)if(e.stateNode===null){e:{a=e.type,l=e.memoizedProps,n=n.ownerDocument||n;t:switch(a){case"title":i=n.getElementsByTagName("title")[0],(!i||i[en]||i[tt]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=n.createElement(a),n.head.insertBefore(i,n.querySelector("head > title"))),st(i,a,l),i[tt]=e,Pe(i),a=i;break e;case"link":var c=yf("link","href",n).get(a+(l.href||""));if(c){for(var d=0;d<c.length;d++)if(i=c[d],i.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&i.getAttribute("rel")===(l.rel==null?null:l.rel)&&i.getAttribute("title")===(l.title==null?null:l.title)&&i.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){c.splice(d,1);break t}}i=n.createElement(a),st(i,a,l),n.head.appendChild(i);break;case"meta":if(c=yf("meta","content",n).get(a+(l.content||""))){for(d=0;d<c.length;d++)if(i=c[d],i.getAttribute("content")===(l.content==null?null:""+l.content)&&i.getAttribute("name")===(l.name==null?null:l.name)&&i.getAttribute("property")===(l.property==null?null:l.property)&&i.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&i.getAttribute("charset")===(l.charSet==null?null:l.charSet)){c.splice(d,1);break t}}i=n.createElement(a),st(i,a,l),n.head.appendChild(i);break;default:throw Error(u(468,a))}i[tt]=e,Pe(i),a=i}e.stateNode=a}else Sf(n,e.type,e.stateNode);else e.stateNode=vf(n,a,e.memoizedProps);else i!==a?(i===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):i.count--,a===null?Sf(n,e.type,e.stateNode):vf(n,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Xc(e,e.memoizedProps,l.memoizedProps)}break;case 27:xt(t,e),gt(e),a&512&&(Fe||l===null||Zt(l,l.return)),l!==null&&a&4&&Xc(e,e.memoizedProps,l.memoizedProps);break;case 5:if(xt(t,e),gt(e),a&512&&(Fe||l===null||Zt(l,l.return)),e.flags&32){n=e.stateNode;try{ha(n,"")}catch(te){_e(e,e.return,te)}}a&4&&e.stateNode!=null&&(n=e.memoizedProps,Xc(e,n,l!==null?l.memoizedProps:n)),a&1024&&(Kc=!0);break;case 6:if(xt(t,e),gt(e),a&4){if(e.stateNode===null)throw Error(u(162));a=e.memoizedProps,l=e.stateNode;try{l.nodeValue=a}catch(te){_e(e,e.return,te)}}break;case 3:if(Fs=null,n=Vt,Vt=$s(t.containerInfo),xt(t,e),Vt=n,gt(e),a&4&&l!==null&&l.memoizedState.isDehydrated)try{Xa(t.containerInfo)}catch(te){_e(e,e.return,te)}Kc&&(Kc=!1,yd(e));break;case 4:a=Vt,Vt=$s(e.stateNode.containerInfo),xt(t,e),gt(e),Vt=a;break;case 12:xt(t,e),gt(e);break;case 31:xt(t,e),gt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Rs(e,a)));break;case 13:xt(t,e),gt(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Ls=ut()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Rs(e,a)));break;case 22:n=e.memoizedState!==null;var b=l!==null&&l.memoizedState!==null,M=il,U=Fe;if(il=M||n,Fe=U||b,xt(t,e),Fe=U,il=M,gt(e),a&8192)e:for(t=e.stateNode,t._visibility=n?t._visibility&-2:t._visibility|1,n&&(l===null||b||il||Fe||la(e)),l=null,t=e;;){if(t.tag===5||t.tag===26){if(l===null){b=l=t;try{if(i=b.stateNode,n)c=i.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none";else{d=b.stateNode;var Y=b.memoizedProps.style,D=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;d.style.display=D==null||typeof D=="boolean"?"":(""+D).trim()}}catch(te){_e(b,b.return,te)}}}else if(t.tag===6){if(l===null){b=t;try{b.stateNode.nodeValue=n?"":b.memoizedProps}catch(te){_e(b,b.return,te)}}}else if(t.tag===18){if(l===null){b=t;try{var R=b.stateNode;n?uf(R,!0):uf(b.stateNode,!1)}catch(te){_e(b,b.return,te)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;l===t&&(l=null),t=t.return}l===t&&(l=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(l=a.retryQueue,l!==null&&(a.retryQueue=null,Rs(e,l))));break;case 19:xt(t,e),gt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Rs(e,a)));break;case 30:break;case 21:break;default:xt(t,e),gt(e)}}function gt(e){var t=e.flags;if(t&2){try{for(var l,a=e.return;a!==null;){if(dd(a)){l=a;break}a=a.return}if(l==null)throw Error(u(160));switch(l.tag){case 27:var n=l.stateNode,i=Qc(e);zs(e,i,n);break;case 5:var c=l.stateNode;l.flags&32&&(ha(c,""),l.flags&=-33);var d=Qc(e);zs(e,d,c);break;case 3:case 4:var b=l.stateNode.containerInfo,M=Qc(e);Zc(e,M,b);break;default:throw Error(u(161))}}catch(U){_e(e,e.return,U)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function yd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;yd(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ol(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)md(e,t.alternate,t),t=t.sibling}function la(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Al(4,t,t.return),la(t);break;case 1:Zt(t,t.return);var l=t.stateNode;typeof l.componentWillUnmount=="function"&&rd(t,t.return,l),la(t);break;case 27:Ln(t.stateNode);case 26:case 5:Zt(t,t.return),la(t);break;case 22:t.memoizedState===null&&la(t);break;case 30:la(t);break;default:la(t)}e=e.sibling}}function rl(e,t,l){for(l=l&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,n=e,i=t,c=i.flags;switch(i.tag){case 0:case 11:case 15:rl(n,i,l),_n(4,i);break;case 1:if(rl(n,i,l),a=i,n=a.stateNode,typeof n.componentDidMount=="function")try{n.componentDidMount()}catch(M){_e(a,a.return,M)}if(a=i,n=a.updateQueue,n!==null){var d=a.stateNode;try{var b=n.shared.hiddenCallbacks;if(b!==null)for(n.shared.hiddenCallbacks=null,n=0;n<b.length;n++)Fr(b[n],d)}catch(M){_e(a,a.return,M)}}l&&c&64&&od(i),Cn(i,i.return);break;case 27:fd(i);case 26:case 5:rl(n,i,l),l&&a===null&&c&4&&ud(i),Cn(i,i.return);break;case 12:rl(n,i,l);break;case 31:rl(n,i,l),l&&c&4&&xd(n,i);break;case 13:rl(n,i,l),l&&c&4&&gd(n,i);break;case 22:i.memoizedState===null&&rl(n,i,l),Cn(i,i.return);break;case 30:break;default:rl(n,i,l)}t=t.sibling}}function Jc(e,t){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&mn(l))}function $c(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&mn(e))}function qt(e,t,l,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Sd(e,t,l,a),t=t.sibling}function Sd(e,t,l,a){var n=t.flags;switch(t.tag){case 0:case 11:case 15:qt(e,t,l,a),n&2048&&_n(9,t);break;case 1:qt(e,t,l,a);break;case 3:qt(e,t,l,a),n&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&mn(e)));break;case 12:if(n&2048){qt(e,t,l,a),e=t.stateNode;try{var i=t.memoizedProps,c=i.id,d=i.onPostCommit;typeof d=="function"&&d(c,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(b){_e(t,t.return,b)}}else qt(e,t,l,a);break;case 31:qt(e,t,l,a);break;case 13:qt(e,t,l,a);break;case 23:break;case 22:i=t.stateNode,c=t.alternate,t.memoizedState!==null?i._visibility&2?qt(e,t,l,a):wn(e,t):i._visibility&2?qt(e,t,l,a):(i._visibility|=2,ka(e,t,l,a,(t.subtreeFlags&10256)!==0||!1)),n&2048&&Jc(c,t);break;case 24:qt(e,t,l,a),n&2048&&$c(t.alternate,t);break;default:qt(e,t,l,a)}}function ka(e,t,l,a,n){for(n=n&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,c=t,d=l,b=a,M=c.flags;switch(c.tag){case 0:case 11:case 15:ka(i,c,d,b,n),_n(8,c);break;case 23:break;case 22:var U=c.stateNode;c.memoizedState!==null?U._visibility&2?ka(i,c,d,b,n):wn(i,c):(U._visibility|=2,ka(i,c,d,b,n)),n&&M&2048&&Jc(c.alternate,c);break;case 24:ka(i,c,d,b,n),n&&M&2048&&$c(c.alternate,c);break;default:ka(i,c,d,b,n)}t=t.sibling}}function wn(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var l=e,a=t,n=a.flags;switch(a.tag){case 22:wn(l,a),n&2048&&Jc(a.alternate,a);break;case 24:wn(l,a),n&2048&&$c(a.alternate,a);break;default:wn(l,a)}t=t.sibling}}var On=8192;function za(e,t,l){if(e.subtreeFlags&On)for(e=e.child;e!==null;)jd(e,t,l),e=e.sibling}function jd(e,t,l){switch(e.tag){case 26:za(e,t,l),e.flags&On&&e.memoizedState!==null&&nb(l,Vt,e.memoizedState,e.memoizedProps);break;case 5:za(e,t,l);break;case 3:case 4:var a=Vt;Vt=$s(e.stateNode.containerInfo),za(e,t,l),Vt=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=On,On=16777216,za(e,t,l),On=a):za(e,t,l));break;default:za(e,t,l)}}function Nd(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Mn(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];et=a,Td(a,e)}Nd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ed(e),e=e.sibling}function Ed(e){switch(e.tag){case 0:case 11:case 15:Mn(e),e.flags&2048&&Al(9,e,e.return);break;case 3:Mn(e);break;case 12:Mn(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Bs(e)):Mn(e);break;default:Mn(e)}}function Bs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];et=a,Td(a,e)}Nd(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Al(8,t,t.return),Bs(t);break;case 22:l=t.stateNode,l._visibility&2&&(l._visibility&=-3,Bs(t));break;default:Bs(t)}e=e.sibling}}function Td(e,t){for(;et!==null;){var l=et;switch(l.tag){case 0:case 11:case 15:Al(8,l,t);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var a=l.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:mn(l.memoizedState.cache)}if(a=l.child,a!==null)a.return=l,et=a;else e:for(l=e;et!==null;){a=et;var n=a.sibling,i=a.return;if(bd(a),a===l){et=null;break e}if(n!==null){n.return=i,et=n;break e}et=i}}}var vm={getCacheForType:function(e){var t=at(Je),l=t.data.get(e);return l===void 0&&(l=e(),t.data.set(e,l)),l},cacheSignal:function(){return at(Je).controller.signal}},ym=typeof WeakMap=="function"?WeakMap:Map,Ee=0,ke=null,pe=null,ge=0,Ae=0,_t=null,_l=!1,Ra=!1,Wc=!1,ul=0,Xe=0,Cl=0,aa=0,Fc=0,Ct=0,Ba=0,Dn=null,vt=null,Ic=!1,Ls=0,Ad=0,Us=1/0,Hs=null,wl=null,Ie=0,Ol=null,La=null,dl=0,Pc=0,eo=null,_d=null,kn=0,to=null;function wt(){return(Ee&2)!==0&&ge!==0?ge&-ge:z.T!==null?co():Yo()}function Cd(){if(Ct===0)if((ge&536870912)===0||ye){var e=Hl;Hl<<=1,(Hl&3932160)===0&&(Hl=262144),Ct=e}else Ct=536870912;return e=Tt.current,e!==null&&(e.flags|=32),Ct}function yt(e,t,l){(e===ke&&(Ae===2||Ae===9)||e.cancelPendingCommit!==null)&&(Ua(e,0),Ml(e,ge,Ct,!1)),Gl(e,l),((Ee&2)===0||e!==ke)&&(e===ke&&((Ee&2)===0&&(aa|=l),Xe===4&&Ml(e,ge,Ct,!1)),Kt(e))}function wd(e,t,l){if((Ee&6)!==0)throw Error(u(327));var a=!l&&(t&127)===0&&(t&e.expiredLanes)===0||Te(e,t),n=a?Nm(e,t):ao(e,t,!0),i=a;do{if(n===0){Ra&&!a&&Ml(e,t,0,!1);break}else{if(l=e.current.alternate,i&&!Sm(l)){n=ao(e,t,!1),i=!1;continue}if(n===2){if(i=t,e.errorRecoveryDisabledLanes&i)var c=0;else c=e.pendingLanes&-536870913,c=c!==0?c:c&536870912?536870912:0;if(c!==0){t=c;e:{var d=e;n=Dn;var b=d.current.memoizedState.isDehydrated;if(b&&(Ua(d,c).flags|=256),c=ao(d,c,!1),c!==2){if(Wc&&!b){d.errorRecoveryDisabledLanes|=i,aa|=i,n=4;break e}i=vt,vt=n,i!==null&&(vt===null?vt=i:vt.push.apply(vt,i))}n=c}if(i=!1,n!==2)continue}}if(n===1){Ua(e,0),Ml(e,t,0,!0);break}e:{switch(a=e,i=n,i){case 0:case 1:throw Error(u(345));case 4:if((t&4194048)!==t)break;case 6:Ml(a,t,Ct,!_l);break e;case 2:vt=null;break;case 3:case 5:break;default:throw Error(u(329))}if((t&62914560)===t&&(n=Ls+300-ut(),10<n)){if(Ml(a,t,Ct,!_l),ae(a,0,!0)!==0)break e;dl=t,a.timeoutHandle=cf(Od.bind(null,a,l,vt,Hs,Ic,t,Ct,aa,Ba,_l,i,"Throttled",-0,0),n);break e}Od(a,l,vt,Hs,Ic,t,Ct,aa,Ba,_l,i,null,-0,0)}}break}while(!0);Kt(e)}function Od(e,t,l,a,n,i,c,d,b,M,U,Y,D,R){if(e.timeoutHandle=-1,Y=t.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Wt},jd(t,i,Y);var te=(i&62914560)===i?Ls-ut():(i&4194048)===i?Ad-ut():0;if(te=sb(Y,te),te!==null){dl=i,e.cancelPendingCommit=te(Ud.bind(null,e,t,i,l,a,n,c,d,b,U,Y,null,D,R)),Ml(e,i,c,!M);return}}Ud(e,t,i,l,a,n,c,d,b)}function Sm(e){for(var t=e;;){var l=t.tag;if((l===0||l===11||l===15)&&t.flags&16384&&(l=t.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var a=0;a<l.length;a++){var n=l[a],i=n.getSnapshot;n=n.value;try{if(!Nt(i(),n))return!1}catch{return!1}}if(l=t.child,t.subtreeFlags&16384&&l!==null)l.return=t,t=l;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ml(e,t,l,a){t&=~Fc,t&=~aa,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var n=t;0<n;){var i=31-it(n),c=1<<i;a[i]=-1,n&=~c}l!==0&&Go(e,l,t)}function Gs(){return(Ee&6)===0?(zn(0),!1):!0}function lo(){if(pe!==null){if(Ae===0)var e=pe.return;else e=pe,el=Jl=null,gc(e),Ca=null,pn=0,e=pe;for(;e!==null;)cd(e.alternate,e),e=e.return;pe=null}}function Ua(e,t){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,Vm(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),dl=0,lo(),ke=e,pe=l=It(e.current,null),ge=t,Ae=0,_t=null,_l=!1,Ra=Te(e,t),Wc=!1,Ba=Ct=Fc=aa=Cl=Xe=0,vt=Dn=null,Ic=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var n=31-it(a),i=1<<n;t|=e[n],a&=~i}return ul=t,cs(),l}function Md(e,t){de=null,z.H=En,t===_a||t===bs?(t=Kr(),Ae=3):t===ic?(t=Kr(),Ae=4):Ae=t===zc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,_t=t,pe===null&&(Xe=1,ws(e,kt(t,e.current)))}function Dd(){var e=Tt.current;return e===null?!0:(ge&4194048)===ge?Lt===null:(ge&62914560)===ge||(ge&536870912)!==0?e===Lt:!1}function kd(){var e=z.H;return z.H=En,e===null?En:e}function zd(){var e=z.A;return z.A=vm,e}function Vs(){Xe=4,_l||(ge&4194048)!==ge&&Tt.current!==null||(Ra=!0),(Cl&134217727)===0&&(aa&134217727)===0||ke===null||Ml(ke,ge,Ct,!1)}function ao(e,t,l){var a=Ee;Ee|=2;var n=kd(),i=zd();(ke!==e||ge!==t)&&(Hs=null,Ua(e,t)),t=!1;var c=Xe;e:do try{if(Ae!==0&&pe!==null){var d=pe,b=_t;switch(Ae){case 8:lo(),c=6;break e;case 3:case 2:case 9:case 6:Tt.current===null&&(t=!0);var M=Ae;if(Ae=0,_t=null,Ha(e,d,b,M),l&&Ra){c=0;break e}break;default:M=Ae,Ae=0,_t=null,Ha(e,d,b,M)}}jm(),c=Xe;break}catch(U){Md(e,U)}while(!0);return t&&e.shellSuspendCounter++,el=Jl=null,Ee=a,z.H=n,z.A=i,pe===null&&(ke=null,ge=0,cs()),c}function jm(){for(;pe!==null;)Rd(pe)}function Nm(e,t){var l=Ee;Ee|=2;var a=kd(),n=zd();ke!==e||ge!==t?(Hs=null,Us=ut()+500,Ua(e,t)):Ra=Te(e,t);e:do try{if(Ae!==0&&pe!==null){t=pe;var i=_t;t:switch(Ae){case 1:Ae=0,_t=null,Ha(e,t,i,1);break;case 2:case 9:if(Qr(i)){Ae=0,_t=null,Bd(t);break}t=function(){Ae!==2&&Ae!==9||ke!==e||(Ae=7),Kt(e)},i.then(t,t);break e;case 3:Ae=7;break e;case 4:Ae=5;break e;case 7:Qr(i)?(Ae=0,_t=null,Bd(t)):(Ae=0,_t=null,Ha(e,t,i,7));break;case 5:var c=null;switch(pe.tag){case 26:c=pe.memoizedState;case 5:case 27:var d=pe;if(c?jf(c):d.stateNode.complete){Ae=0,_t=null;var b=d.sibling;if(b!==null)pe=b;else{var M=d.return;M!==null?(pe=M,qs(M)):pe=null}break t}}Ae=0,_t=null,Ha(e,t,i,5);break;case 6:Ae=0,_t=null,Ha(e,t,i,6);break;case 8:lo(),Xe=6;break e;default:throw Error(u(462))}}Em();break}catch(U){Md(e,U)}while(!0);return el=Jl=null,z.H=a,z.A=n,Ee=l,pe!==null?0:(ke=null,ge=0,cs(),Xe)}function Em(){for(;pe!==null&&!bi();)Rd(pe)}function Rd(e){var t=sd(e.alternate,e,ul);e.memoizedProps=e.pendingProps,t===null?qs(e):pe=t}function Bd(e){var t=e,l=t.alternate;switch(t.tag){case 15:case 0:t=Pu(l,t,t.pendingProps,t.type,void 0,ge);break;case 11:t=Pu(l,t,t.pendingProps,t.type.render,t.ref,ge);break;case 5:gc(t);default:cd(l,t),t=pe=zr(t,ul),t=sd(l,t,ul)}e.memoizedProps=e.pendingProps,t===null?qs(e):pe=t}function Ha(e,t,l,a){el=Jl=null,gc(t),Ca=null,pn=0;var n=t.return;try{if(fm(e,n,t,l,ge)){Xe=1,ws(e,kt(l,e.current)),pe=null;return}}catch(i){if(n!==null)throw pe=n,i;Xe=1,ws(e,kt(l,e.current)),pe=null;return}t.flags&32768?(ye||a===1?e=!0:Ra||(ge&536870912)!==0?e=!1:(_l=e=!0,(a===2||a===9||a===3||a===6)&&(a=Tt.current,a!==null&&a.tag===13&&(a.flags|=16384))),Ld(t,e)):qs(t)}function qs(e){var t=e;do{if((t.flags&32768)!==0){Ld(t,_l);return}e=t.return;var l=bm(t.alternate,t,ul);if(l!==null){pe=l;return}if(t=t.sibling,t!==null){pe=t;return}pe=t=e}while(t!==null);Xe===0&&(Xe=5)}function Ld(e,t){do{var l=pm(e.alternate,e);if(l!==null){l.flags&=32767,pe=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!t&&(e=e.sibling,e!==null)){pe=e;return}pe=e=l}while(e!==null);Xe=6,pe=null}function Ud(e,t,l,a,n,i,c,d,b){e.cancelPendingCommit=null;do Ys();while(Ie!==0);if((Ee&6)!==0)throw Error(u(327));if(t!==null){if(t===e.current)throw Error(u(177));if(i=t.lanes|t.childLanes,i|=Qi,ah(e,l,i,c,d,b),e===ke&&(pe=ke=null,ge=0),La=t,Ol=e,dl=l,Pc=i,eo=n,_d=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Cm(sa,function(){return Yd(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=z.T,z.T=null,n=$.p,$.p=2,c=Ee,Ee|=4;try{xm(e,t,l)}finally{Ee=c,$.p=n,z.T=a}}Ie=1,Hd(),Gd(),Vd()}}function Hd(){if(Ie===1){Ie=0;var e=Ol,t=La,l=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||l){l=z.T,z.T=null;var a=$.p;$.p=2;var n=Ee;Ee|=4;try{vd(t,e);var i=po,c=Tr(e.containerInfo),d=i.focusedElem,b=i.selectionRange;if(c!==d&&d&&d.ownerDocument&&Er(d.ownerDocument.documentElement,d)){if(b!==null&&Gi(d)){var M=b.start,U=b.end;if(U===void 0&&(U=M),"selectionStart"in d)d.selectionStart=M,d.selectionEnd=Math.min(U,d.value.length);else{var Y=d.ownerDocument||document,D=Y&&Y.defaultView||window;if(D.getSelection){var R=D.getSelection(),te=d.textContent.length,ce=Math.min(b.start,te),De=b.end===void 0?ce:Math.min(b.end,te);!R.extend&&ce>De&&(c=De,De=ce,ce=c);var N=Nr(d,ce),v=Nr(d,De);if(N&&v&&(R.rangeCount!==1||R.anchorNode!==N.node||R.anchorOffset!==N.offset||R.focusNode!==v.node||R.focusOffset!==v.offset)){var O=Y.createRange();O.setStart(N.node,N.offset),R.removeAllRanges(),ce>De?(R.addRange(O),R.extend(v.node,v.offset)):(O.setEnd(v.node,v.offset),R.addRange(O))}}}}for(Y=[],R=d;R=R.parentNode;)R.nodeType===1&&Y.push({element:R,left:R.scrollLeft,top:R.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<Y.length;d++){var V=Y[d];V.element.scrollLeft=V.left,V.element.scrollTop=V.top}}ti=!!bo,po=bo=null}finally{Ee=n,$.p=a,z.T=l}}e.current=t,Ie=2}}function Gd(){if(Ie===2){Ie=0;var e=Ol,t=La,l=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||l){l=z.T,z.T=null;var a=$.p;$.p=2;var n=Ee;Ee|=4;try{md(e,t.alternate,t)}finally{Ee=n,$.p=a,z.T=l}}Ie=3}}function Vd(){if(Ie===4||Ie===3){Ie=0,pi();var e=Ol,t=La,l=dl,a=_d;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Ie=5:(Ie=0,La=Ol=null,qd(e,e.pendingLanes));var n=e.pendingLanes;if(n===0&&(wl=null),Si(l),t=t.stateNode,dt&&typeof dt.onCommitFiberRoot=="function")try{dt.onCommitFiberRoot(hl,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=z.T,n=$.p,$.p=2,z.T=null;try{for(var i=e.onRecoverableError,c=0;c<a.length;c++){var d=a[c];i(d.value,{componentStack:d.stack})}}finally{z.T=t,$.p=n}}(dl&3)!==0&&Ys(),Kt(e),n=e.pendingLanes,(l&261930)!==0&&(n&42)!==0?e===to?kn++:(kn=0,to=e):kn=0,zn(0)}}function qd(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,mn(t)))}function Ys(){return Hd(),Gd(),Vd(),Yd()}function Yd(){if(Ie!==5)return!1;var e=Ol,t=Pc;Pc=0;var l=Si(dl),a=z.T,n=$.p;try{$.p=32>l?32:l,z.T=null,l=eo,eo=null;var i=Ol,c=dl;if(Ie=0,La=Ol=null,dl=0,(Ee&6)!==0)throw Error(u(331));var d=Ee;if(Ee|=4,Ed(i.current),Sd(i,i.current,c,l),Ee=d,zn(0,!1),dt&&typeof dt.onPostCommitFiberRoot=="function")try{dt.onPostCommitFiberRoot(hl,i)}catch{}return!0}finally{$.p=n,z.T=a,qd(e,t)}}function Xd(e,t,l){t=kt(l,t),t=kc(e.stateNode,t,2),e=Nl(e,t,2),e!==null&&(Gl(e,2),Kt(e))}function _e(e,t,l){if(e.tag===3)Xd(e,e,l);else for(;t!==null;){if(t.tag===3){Xd(t,e,l);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(wl===null||!wl.has(a))){e=kt(l,e),l=Qu(2),a=Nl(t,l,2),a!==null&&(Zu(l,a,t,e),Gl(a,2),Kt(a));break}}t=t.return}}function no(e,t,l){var a=e.pingCache;if(a===null){a=e.pingCache=new ym;var n=new Set;a.set(t,n)}else n=a.get(t),n===void 0&&(n=new Set,a.set(t,n));n.has(l)||(Wc=!0,n.add(l),e=Tm.bind(null,e,t,l),t.then(e,e))}function Tm(e,t,l){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,ke===e&&(ge&l)===l&&(Xe===4||Xe===3&&(ge&62914560)===ge&&300>ut()-Ls?(Ee&2)===0&&Ua(e,0):Fc|=l,Ba===ge&&(Ba=0)),Kt(e)}function Qd(e,t){t===0&&(t=ft()),e=Ql(e,t),e!==null&&(Gl(e,t),Kt(e))}function Am(e){var t=e.memoizedState,l=0;t!==null&&(l=t.retryLane),Qd(e,l)}function _m(e,t){var l=0;switch(e.tag){case 31:case 13:var a=e.stateNode,n=e.memoizedState;n!==null&&(l=n.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(u(314))}a!==null&&a.delete(t),Qd(e,l)}function Cm(e,t){return Ka(e,t)}var Xs=null,Ga=null,so=!1,Qs=!1,io=!1,Dl=0;function Kt(e){e!==Ga&&e.next===null&&(Ga===null?Xs=Ga=e:Ga=Ga.next=e),Qs=!0,so||(so=!0,Om())}function zn(e,t){if(!io&&Qs){io=!0;do for(var l=!1,a=Xs;a!==null;){if(e!==0){var n=a.pendingLanes;if(n===0)var i=0;else{var c=a.suspendedLanes,d=a.pingedLanes;i=(1<<31-it(42|e)+1)-1,i&=n&~(c&~d),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(l=!0,$d(a,i))}else i=ge,i=ae(a,a===ke?i:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(i&3)===0||Te(a,i)||(l=!0,$d(a,i));a=a.next}while(l);io=!1}}function wm(){Zd()}function Zd(){Qs=so=!1;var e=0;Dl!==0&&Gm()&&(e=Dl);for(var t=ut(),l=null,a=Xs;a!==null;){var n=a.next,i=Kd(a,t);i===0?(a.next=null,l===null?Xs=n:l.next=n,n===null&&(Ga=l)):(l=a,(e!==0||(i&3)!==0)&&(Qs=!0)),a=n}Ie!==0&&Ie!==5||zn(e),Dl!==0&&(Dl=0)}function Kd(e,t){for(var l=e.suspendedLanes,a=e.pingedLanes,n=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var c=31-it(i),d=1<<c,b=n[c];b===-1?((d&l)===0||(d&a)!==0)&&(n[c]=ct(d,t)):b<=t&&(e.expiredLanes|=d),i&=~d}if(t=ke,l=ge,l=ae(e,e===t?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,l===0||e===t&&(Ae===2||Ae===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&Ja(a),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||Te(e,l)){if(t=l&-l,t===e.callbackPriority)return t;switch(a!==null&&Ja(a),Si(l)){case 2:case 8:l=na;break;case 32:l=sa;break;case 268435456:l=Jn;break;default:l=sa}return a=Jd.bind(null,e),l=Ka(l,a),e.callbackPriority=t,e.callbackNode=l,t}return a!==null&&a!==null&&Ja(a),e.callbackPriority=2,e.callbackNode=null,2}function Jd(e,t){if(Ie!==0&&Ie!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(Ys()&&e.callbackNode!==l)return null;var a=ge;return a=ae(e,e===ke?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(wd(e,a,t),Kd(e,ut()),e.callbackNode!=null&&e.callbackNode===l?Jd.bind(null,e):null)}function $d(e,t){if(Ys())return null;wd(e,t,!0)}function Om(){qm(function(){(Ee&6)!==0?Ka(Wa,wm):Zd()})}function co(){if(Dl===0){var e=Ta;e===0&&(e=ml,ml<<=1,(ml&261888)===0&&(ml=256)),Dl=e}return Dl}function Wd(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Pn(""+e)}function Fd(e,t){var l=t.ownerDocument.createElement("input");return l.name=t.name,l.value=t.value,e.id&&l.setAttribute("form",e.id),t.parentNode.insertBefore(l,t),e=new FormData(e),l.parentNode.removeChild(l),e}function Mm(e,t,l,a,n){if(t==="submit"&&l&&l.stateNode===n){var i=Wd((n[mt]||null).action),c=a.submitter;c&&(t=(t=c[mt]||null)?Wd(t.formAction):c.getAttribute("formAction"),t!==null&&(i=t,c=null));var d=new as("action","action",null,a,n);e.push({event:d,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Dl!==0){var b=c?Fd(n,c):new FormData(n);_c(l,{pending:!0,data:b,method:n.method,action:i},null,b)}}else typeof i=="function"&&(d.preventDefault(),b=c?Fd(n,c):new FormData(n),_c(l,{pending:!0,data:b,method:n.method,action:i},i,b))},currentTarget:n}]})}}for(var oo=0;oo<Xi.length;oo++){var ro=Xi[oo],Dm=ro.toLowerCase(),km=ro[0].toUpperCase()+ro.slice(1);Gt(Dm,"on"+km)}Gt(Cr,"onAnimationEnd"),Gt(wr,"onAnimationIteration"),Gt(Or,"onAnimationStart"),Gt("dblclick","onDoubleClick"),Gt("focusin","onFocus"),Gt("focusout","onBlur"),Gt($h,"onTransitionRun"),Gt(Wh,"onTransitionStart"),Gt(Fh,"onTransitionCancel"),Gt(Mr,"onTransitionEnd"),da("onMouseEnter",["mouseout","mouseover"]),da("onMouseLeave",["mouseout","mouseover"]),da("onPointerEnter",["pointerout","pointerover"]),da("onPointerLeave",["pointerout","pointerover"]),Vl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vl("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zm=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rn));function Id(e,t){t=(t&4)!==0;for(var l=0;l<e.length;l++){var a=e[l],n=a.event;a=a.listeners;e:{var i=void 0;if(t)for(var c=a.length-1;0<=c;c--){var d=a[c],b=d.instance,M=d.currentTarget;if(d=d.listener,b!==i&&n.isPropagationStopped())break e;i=d,n.currentTarget=M;try{i(n)}catch(U){is(U)}n.currentTarget=null,i=b}else for(c=0;c<a.length;c++){if(d=a[c],b=d.instance,M=d.currentTarget,d=d.listener,b!==i&&n.isPropagationStopped())break e;i=d,n.currentTarget=M;try{i(n)}catch(U){is(U)}n.currentTarget=null,i=b}}}}function xe(e,t){var l=t[ji];l===void 0&&(l=t[ji]=new Set);var a=e+"__bubble";l.has(a)||(Pd(t,e,2,!1),l.add(a))}function uo(e,t,l){var a=0;t&&(a|=4),Pd(l,e,a,t)}var Zs="_reactListening"+Math.random().toString(36).slice(2);function fo(e){if(!e[Zs]){e[Zs]=!0,Zo.forEach(function(l){l!=="selectionchange"&&(zm.has(l)||uo(l,!1,e),uo(l,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Zs]||(t[Zs]=!0,uo("selectionchange",!1,t))}}function Pd(e,t,l,a){switch(wf(t)){case 2:var n=ob;break;case 8:n=rb;break;default:n=_o}l=n.bind(null,t,l,e),n=void 0,!Mi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),a?n!==void 0?e.addEventListener(t,l,{capture:!0,passive:n}):e.addEventListener(t,l,!0):n!==void 0?e.addEventListener(t,l,{passive:n}):e.addEventListener(t,l,!1)}function ho(e,t,l,a,n){var i=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var c=a.tag;if(c===3||c===4){var d=a.stateNode.containerInfo;if(d===n)break;if(c===4)for(c=a.return;c!==null;){var b=c.tag;if((b===3||b===4)&&c.stateNode.containerInfo===n)return;c=c.return}for(;d!==null;){if(c=oa(d),c===null)return;if(b=c.tag,b===5||b===6||b===26||b===27){a=i=c;continue e}d=d.parentNode}}a=a.return}nr(function(){var M=i,U=wi(l),Y=[];e:{var D=Dr.get(e);if(D!==void 0){var R=as,te=e;switch(e){case"keypress":if(ts(l)===0)break e;case"keydown":case"keyup":R=_h;break;case"focusin":te="focus",R=Ri;break;case"focusout":te="blur",R=Ri;break;case"beforeblur":case"afterblur":R=Ri;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":R=cr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":R=bh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":R=Oh;break;case Cr:case wr:case Or:R=gh;break;case Mr:R=Dh;break;case"scroll":case"scrollend":R=hh;break;case"wheel":R=zh;break;case"copy":case"cut":case"paste":R=yh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":R=rr;break;case"toggle":case"beforetoggle":R=Bh}var ce=(t&4)!==0,De=!ce&&(e==="scroll"||e==="scrollend"),N=ce?D!==null?D+"Capture":null:D;ce=[];for(var v=M,O;v!==null;){var V=v;if(O=V.stateNode,V=V.tag,V!==5&&V!==26&&V!==27||O===null||N===null||(V=ln(v,N),V!=null&&ce.push(Bn(v,V,O))),De)break;v=v.return}0<ce.length&&(D=new R(D,te,null,l,U),Y.push({event:D,listeners:ce}))}}if((t&7)===0){e:{if(D=e==="mouseover"||e==="pointerover",R=e==="mouseout"||e==="pointerout",D&&l!==Ci&&(te=l.relatedTarget||l.fromElement)&&(oa(te)||te[ca]))break e;if((R||D)&&(D=U.window===U?U:(D=U.ownerDocument)?D.defaultView||D.parentWindow:window,R?(te=l.relatedTarget||l.toElement,R=M,te=te?oa(te):null,te!==null&&(De=m(te),ce=te.tag,te!==De||ce!==5&&ce!==27&&ce!==6)&&(te=null)):(R=null,te=M),R!==te)){if(ce=cr,V="onMouseLeave",N="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(ce=rr,V="onPointerLeave",N="onPointerEnter",v="pointer"),De=R==null?D:tn(R),O=te==null?D:tn(te),D=new ce(V,v+"leave",R,l,U),D.target=De,D.relatedTarget=O,V=null,oa(U)===M&&(ce=new ce(N,v+"enter",te,l,U),ce.target=O,ce.relatedTarget=De,V=ce),De=V,R&&te)t:{for(ce=Rm,N=R,v=te,O=0,V=N;V;V=ce(V))O++;V=0;for(var ne=v;ne;ne=ce(ne))V++;for(;0<O-V;)N=ce(N),O--;for(;0<V-O;)v=ce(v),V--;for(;O--;){if(N===v||v!==null&&N===v.alternate){ce=N;break t}N=ce(N),v=ce(v)}ce=null}else ce=null;R!==null&&ef(Y,D,R,ce,!1),te!==null&&De!==null&&ef(Y,De,te,ce,!0)}}e:{if(D=M?tn(M):window,R=D.nodeName&&D.nodeName.toLowerCase(),R==="select"||R==="input"&&D.type==="file")var je=xr;else if(br(D))if(gr)je=Zh;else{je=Xh;var le=Yh}else R=D.nodeName,!R||R.toLowerCase()!=="input"||D.type!=="checkbox"&&D.type!=="radio"?M&&_i(M.elementType)&&(je=xr):je=Qh;if(je&&(je=je(e,M))){pr(Y,je,l,U);break e}le&&le(e,D,M),e==="focusout"&&M&&D.type==="number"&&M.memoizedProps.value!=null&&Ai(D,"number",D.value)}switch(le=M?tn(M):window,e){case"focusin":(br(le)||le.contentEditable==="true")&&(xa=le,Vi=M,dn=null);break;case"focusout":dn=Vi=xa=null;break;case"mousedown":qi=!0;break;case"contextmenu":case"mouseup":case"dragend":qi=!1,Ar(Y,l,U);break;case"selectionchange":if(Jh)break;case"keydown":case"keyup":Ar(Y,l,U)}var fe;if(Li)e:{switch(e){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else pa?hr(e,l)&&(ve="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(ve="onCompositionStart");ve&&(ur&&l.locale!=="ko"&&(pa||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&pa&&(fe=sr()):(pl=U,Di="value"in pl?pl.value:pl.textContent,pa=!0)),le=Ks(M,ve),0<le.length&&(ve=new or(ve,e,null,l,U),Y.push({event:ve,listeners:le}),fe?ve.data=fe:(fe=mr(l),fe!==null&&(ve.data=fe)))),(fe=Uh?Hh(e,l):Gh(e,l))&&(ve=Ks(M,"onBeforeInput"),0<ve.length&&(le=new or("onBeforeInput","beforeinput",null,l,U),Y.push({event:le,listeners:ve}),le.data=fe)),Mm(Y,e,M,l,U)}Id(Y,t)})}function Bn(e,t,l){return{instance:e,listener:t,currentTarget:l}}function Ks(e,t){for(var l=t+"Capture",a=[];e!==null;){var n=e,i=n.stateNode;if(n=n.tag,n!==5&&n!==26&&n!==27||i===null||(n=ln(e,l),n!=null&&a.unshift(Bn(e,n,i)),n=ln(e,t),n!=null&&a.push(Bn(e,n,i))),e.tag===3)return a;e=e.return}return[]}function Rm(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function ef(e,t,l,a,n){for(var i=t._reactName,c=[];l!==null&&l!==a;){var d=l,b=d.alternate,M=d.stateNode;if(d=d.tag,b!==null&&b===a)break;d!==5&&d!==26&&d!==27||M===null||(b=M,n?(M=ln(l,i),M!=null&&c.unshift(Bn(l,M,b))):n||(M=ln(l,i),M!=null&&c.push(Bn(l,M,b)))),l=l.return}c.length!==0&&e.push({event:t,listeners:c})}var Bm=/\r\n?/g,Lm=/\u0000|\uFFFD/g;function tf(e){return(typeof e=="string"?e:""+e).replace(Bm,`
`).replace(Lm,"")}function lf(e,t){return t=tf(t),tf(e)===t}function Me(e,t,l,a,n,i){switch(l){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||ha(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&ha(e,""+a);break;case"className":Fn(e,"class",a);break;case"tabIndex":Fn(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Fn(e,l,a);break;case"style":lr(e,a,i);break;case"data":if(t!=="object"){Fn(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||l!=="href")){e.removeAttribute(l);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=Pn(""+a),e.setAttribute(l,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(l==="formAction"?(t!=="input"&&Me(e,t,"name",n.name,n,null),Me(e,t,"formEncType",n.formEncType,n,null),Me(e,t,"formMethod",n.formMethod,n,null),Me(e,t,"formTarget",n.formTarget,n,null)):(Me(e,t,"encType",n.encType,n,null),Me(e,t,"method",n.method,n,null),Me(e,t,"target",n.target,n,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=Pn(""+a),e.setAttribute(l,a);break;case"onClick":a!=null&&(e.onclick=Wt);break;case"onScroll":a!=null&&xe("scroll",e);break;case"onScrollEnd":a!=null&&xe("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(u(61));if(l=a.__html,l!=null){if(n.children!=null)throw Error(u(60));e.innerHTML=l}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}l=Pn(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""+a):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":a===!0?e.setAttribute(l,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,a):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(l,a):e.removeAttribute(l);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(l):e.setAttribute(l,a);break;case"popover":xe("beforetoggle",e),xe("toggle",e),Wn(e,"popover",a);break;case"xlinkActuate":$t(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":$t(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":$t(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":$t(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":$t(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":$t(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":$t(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":$t(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":$t(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Wn(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=dh.get(l)||l,Wn(e,l,a))}}function mo(e,t,l,a,n,i){switch(l){case"style":lr(e,a,i);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(u(61));if(l=a.__html,l!=null){if(n.children!=null)throw Error(u(60));e.innerHTML=l}}break;case"children":typeof a=="string"?ha(e,a):(typeof a=="number"||typeof a=="bigint")&&ha(e,""+a);break;case"onScroll":a!=null&&xe("scroll",e);break;case"onScrollEnd":a!=null&&xe("scrollend",e);break;case"onClick":a!=null&&(e.onclick=Wt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ko.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(n=l.endsWith("Capture"),t=l.slice(2,n?l.length-7:void 0),i=e[mt]||null,i=i!=null?i[l]:null,typeof i=="function"&&e.removeEventListener(t,i,n),typeof a=="function")){typeof i!="function"&&i!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(t,a,n);break e}l in e?e[l]=a:a===!0?e.setAttribute(l,""):Wn(e,l,a)}}}function st(e,t,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xe("error",e),xe("load",e);var a=!1,n=!1,i;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];if(c!=null)switch(i){case"src":a=!0;break;case"srcSet":n=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(u(137,t));default:Me(e,t,i,c,l,null)}}n&&Me(e,t,"srcSet",l.srcSet,l,null),a&&Me(e,t,"src",l.src,l,null);return;case"input":xe("invalid",e);var d=i=c=n=null,b=null,M=null;for(a in l)if(l.hasOwnProperty(a)){var U=l[a];if(U!=null)switch(a){case"name":n=U;break;case"type":c=U;break;case"checked":b=U;break;case"defaultChecked":M=U;break;case"value":i=U;break;case"defaultValue":d=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(u(137,t));break;default:Me(e,t,a,U,l,null)}}Io(e,i,d,b,M,c,n,!1);return;case"select":xe("invalid",e),a=c=i=null;for(n in l)if(l.hasOwnProperty(n)&&(d=l[n],d!=null))switch(n){case"value":i=d;break;case"defaultValue":c=d;break;case"multiple":a=d;default:Me(e,t,n,d,l,null)}t=i,l=c,e.multiple=!!a,t!=null?fa(e,!!a,t,!1):l!=null&&fa(e,!!a,l,!0);return;case"textarea":xe("invalid",e),i=n=a=null;for(c in l)if(l.hasOwnProperty(c)&&(d=l[c],d!=null))switch(c){case"value":a=d;break;case"defaultValue":n=d;break;case"children":i=d;break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(u(91));break;default:Me(e,t,c,d,l,null)}er(e,a,n,i);return;case"option":for(b in l)if(l.hasOwnProperty(b)&&(a=l[b],a!=null))switch(b){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Me(e,t,b,a,l,null)}return;case"dialog":xe("beforetoggle",e),xe("toggle",e),xe("cancel",e),xe("close",e);break;case"iframe":case"object":xe("load",e);break;case"video":case"audio":for(a=0;a<Rn.length;a++)xe(Rn[a],e);break;case"image":xe("error",e),xe("load",e);break;case"details":xe("toggle",e);break;case"embed":case"source":case"link":xe("error",e),xe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(M in l)if(l.hasOwnProperty(M)&&(a=l[M],a!=null))switch(M){case"children":case"dangerouslySetInnerHTML":throw Error(u(137,t));default:Me(e,t,M,a,l,null)}return;default:if(_i(t)){for(U in l)l.hasOwnProperty(U)&&(a=l[U],a!==void 0&&mo(e,t,U,a,l,void 0));return}}for(d in l)l.hasOwnProperty(d)&&(a=l[d],a!=null&&Me(e,t,d,a,l,null))}function Um(e,t,l,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,i=null,c=null,d=null,b=null,M=null,U=null;for(R in l){var Y=l[R];if(l.hasOwnProperty(R)&&Y!=null)switch(R){case"checked":break;case"value":break;case"defaultValue":b=Y;default:a.hasOwnProperty(R)||Me(e,t,R,null,a,Y)}}for(var D in a){var R=a[D];if(Y=l[D],a.hasOwnProperty(D)&&(R!=null||Y!=null))switch(D){case"type":i=R;break;case"name":n=R;break;case"checked":M=R;break;case"defaultChecked":U=R;break;case"value":c=R;break;case"defaultValue":d=R;break;case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(u(137,t));break;default:R!==Y&&Me(e,t,D,R,a,Y)}}Ti(e,c,d,b,M,U,i,n);return;case"select":R=c=d=D=null;for(i in l)if(b=l[i],l.hasOwnProperty(i)&&b!=null)switch(i){case"value":break;case"multiple":R=b;default:a.hasOwnProperty(i)||Me(e,t,i,null,a,b)}for(n in a)if(i=a[n],b=l[n],a.hasOwnProperty(n)&&(i!=null||b!=null))switch(n){case"value":D=i;break;case"defaultValue":d=i;break;case"multiple":c=i;default:i!==b&&Me(e,t,n,i,a,b)}t=d,l=c,a=R,D!=null?fa(e,!!l,D,!1):!!a!=!!l&&(t!=null?fa(e,!!l,t,!0):fa(e,!!l,l?[]:"",!1));return;case"textarea":R=D=null;for(d in l)if(n=l[d],l.hasOwnProperty(d)&&n!=null&&!a.hasOwnProperty(d))switch(d){case"value":break;case"children":break;default:Me(e,t,d,null,a,n)}for(c in a)if(n=a[c],i=l[c],a.hasOwnProperty(c)&&(n!=null||i!=null))switch(c){case"value":D=n;break;case"defaultValue":R=n;break;case"children":break;case"dangerouslySetInnerHTML":if(n!=null)throw Error(u(91));break;default:n!==i&&Me(e,t,c,n,a,i)}Po(e,D,R);return;case"option":for(var te in l)if(D=l[te],l.hasOwnProperty(te)&&D!=null&&!a.hasOwnProperty(te))switch(te){case"selected":e.selected=!1;break;default:Me(e,t,te,null,a,D)}for(b in a)if(D=a[b],R=l[b],a.hasOwnProperty(b)&&D!==R&&(D!=null||R!=null))switch(b){case"selected":e.selected=D&&typeof D!="function"&&typeof D!="symbol";break;default:Me(e,t,b,D,a,R)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ce in l)D=l[ce],l.hasOwnProperty(ce)&&D!=null&&!a.hasOwnProperty(ce)&&Me(e,t,ce,null,a,D);for(M in a)if(D=a[M],R=l[M],a.hasOwnProperty(M)&&D!==R&&(D!=null||R!=null))switch(M){case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(u(137,t));break;default:Me(e,t,M,D,a,R)}return;default:if(_i(t)){for(var De in l)D=l[De],l.hasOwnProperty(De)&&D!==void 0&&!a.hasOwnProperty(De)&&mo(e,t,De,void 0,a,D);for(U in a)D=a[U],R=l[U],!a.hasOwnProperty(U)||D===R||D===void 0&&R===void 0||mo(e,t,U,D,a,R);return}}for(var N in l)D=l[N],l.hasOwnProperty(N)&&D!=null&&!a.hasOwnProperty(N)&&Me(e,t,N,null,a,D);for(Y in a)D=a[Y],R=l[Y],!a.hasOwnProperty(Y)||D===R||D==null&&R==null||Me(e,t,Y,D,a,R)}function af(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Hm(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,l=performance.getEntriesByType("resource"),a=0;a<l.length;a++){var n=l[a],i=n.transferSize,c=n.initiatorType,d=n.duration;if(i&&d&&af(c)){for(c=0,d=n.responseEnd,a+=1;a<l.length;a++){var b=l[a],M=b.startTime;if(M>d)break;var U=b.transferSize,Y=b.initiatorType;U&&af(Y)&&(b=b.responseEnd,c+=U*(b<d?1:(d-M)/(b-M)))}if(--a,t+=8*(i+c)/(n.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var bo=null,po=null;function Js(e){return e.nodeType===9?e:e.ownerDocument}function nf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sf(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function xo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var go=null;function Gm(){var e=window.event;return e&&e.type==="popstate"?e===go?!1:(go=e,!0):(go=null,!1)}var cf=typeof setTimeout=="function"?setTimeout:void 0,Vm=typeof clearTimeout=="function"?clearTimeout:void 0,of=typeof Promise=="function"?Promise:void 0,qm=typeof queueMicrotask=="function"?queueMicrotask:typeof of<"u"?function(e){return of.resolve(null).then(e).catch(Ym)}:cf;function Ym(e){setTimeout(function(){throw e})}function kl(e){return e==="head"}function rf(e,t){var l=t,a=0;do{var n=l.nextSibling;if(e.removeChild(l),n&&n.nodeType===8)if(l=n.data,l==="/$"||l==="/&"){if(a===0){e.removeChild(n),Xa(t);return}a--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")a++;else if(l==="html")Ln(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,Ln(l);for(var i=l.firstChild;i;){var c=i.nextSibling,d=i.nodeName;i[en]||d==="SCRIPT"||d==="STYLE"||d==="LINK"&&i.rel.toLowerCase()==="stylesheet"||l.removeChild(i),i=c}}else l==="body"&&Ln(e.ownerDocument.body);l=n}while(l);Xa(t)}function uf(e,t){var l=e;e=0;do{var a=l.nextSibling;if(l.nodeType===1?t?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(t?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),a&&a.nodeType===8)if(l=a.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=a}while(l)}function vo(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var l=t;switch(t=t.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":vo(l),Ni(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function Xm(e,t,l,a){for(;e.nodeType===1;){var n=l;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[en])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==n.rel||e.getAttribute("href")!==(n.href==null||n.href===""?null:n.href)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin)||e.getAttribute("title")!==(n.title==null?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(n.src==null?null:n.src)||e.getAttribute("type")!==(n.type==null?null:n.type)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=n.name==null?null:""+n.name;if(n.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=Ut(e.nextSibling),e===null)break}return null}function Qm(e,t,l){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=Ut(e.nextSibling),e===null))return null;return e}function df(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Ut(e.nextSibling),e===null))return null;return e}function yo(e){return e.data==="$?"||e.data==="$~"}function So(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Zm(e,t){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||l.readyState!=="loading")t();else{var a=function(){t(),l.removeEventListener("DOMContentLoaded",a)};l.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Ut(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var jo=null;function ff(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(t===0)return Ut(e.nextSibling);t--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||t++}e=e.nextSibling}return null}function hf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(t===0)return e;t--}else l!=="/$"&&l!=="/&"||t++}e=e.previousSibling}return null}function mf(e,t,l){switch(t=Js(l),e){case"html":if(e=t.documentElement,!e)throw Error(u(452));return e;case"head":if(e=t.head,!e)throw Error(u(453));return e;case"body":if(e=t.body,!e)throw Error(u(454));return e;default:throw Error(u(451))}}function Ln(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ni(e)}var Ht=new Map,bf=new Set;function $s(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var fl=$.d;$.d={f:Km,r:Jm,D:$m,C:Wm,L:Fm,m:Im,X:eb,S:Pm,M:tb};function Km(){var e=fl.f(),t=Gs();return e||t}function Jm(e){var t=ra(e);t!==null&&t.tag===5&&t.type==="form"?Mu(t):fl.r(e)}var Va=typeof document>"u"?null:document;function pf(e,t,l){var a=Va;if(a&&typeof t=="string"&&t){var n=Mt(t);n='link[rel="'+e+'"][href="'+n+'"]',typeof l=="string"&&(n+='[crossorigin="'+l+'"]'),bf.has(n)||(bf.add(n),e={rel:e,crossOrigin:l,href:t},a.querySelector(n)===null&&(t=a.createElement("link"),st(t,"link",e),Pe(t),a.head.appendChild(t)))}}function $m(e){fl.D(e),pf("dns-prefetch",e,null)}function Wm(e,t){fl.C(e,t),pf("preconnect",e,t)}function Fm(e,t,l){fl.L(e,t,l);var a=Va;if(a&&e&&t){var n='link[rel="preload"][as="'+Mt(t)+'"]';t==="image"&&l&&l.imageSrcSet?(n+='[imagesrcset="'+Mt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(n+='[imagesizes="'+Mt(l.imageSizes)+'"]')):n+='[href="'+Mt(e)+'"]';var i=n;switch(t){case"style":i=qa(e);break;case"script":i=Ya(e)}Ht.has(i)||(e=A({rel:"preload",href:t==="image"&&l&&l.imageSrcSet?void 0:e,as:t},l),Ht.set(i,e),a.querySelector(n)!==null||t==="style"&&a.querySelector(Un(i))||t==="script"&&a.querySelector(Hn(i))||(t=a.createElement("link"),st(t,"link",e),Pe(t),a.head.appendChild(t)))}}function Im(e,t){fl.m(e,t);var l=Va;if(l&&e){var a=t&&typeof t.as=="string"?t.as:"script",n='link[rel="modulepreload"][as="'+Mt(a)+'"][href="'+Mt(e)+'"]',i=n;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Ya(e)}if(!Ht.has(i)&&(e=A({rel:"modulepreload",href:e},t),Ht.set(i,e),l.querySelector(n)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Hn(i)))return}a=l.createElement("link"),st(a,"link",e),Pe(a),l.head.appendChild(a)}}}function Pm(e,t,l){fl.S(e,t,l);var a=Va;if(a&&e){var n=ua(a).hoistableStyles,i=qa(e);t=t||"default";var c=n.get(i);if(!c){var d={loading:0,preload:null};if(c=a.querySelector(Un(i)))d.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":t},l),(l=Ht.get(i))&&No(e,l);var b=c=a.createElement("link");Pe(b),st(b,"link",e),b._p=new Promise(function(M,U){b.onload=M,b.onerror=U}),b.addEventListener("load",function(){d.loading|=1}),b.addEventListener("error",function(){d.loading|=2}),d.loading|=4,Ws(c,t,a)}c={type:"stylesheet",instance:c,count:1,state:d},n.set(i,c)}}}function eb(e,t){fl.X(e,t);var l=Va;if(l&&e){var a=ua(l).hoistableScripts,n=Ya(e),i=a.get(n);i||(i=l.querySelector(Hn(n)),i||(e=A({src:e,async:!0},t),(t=Ht.get(n))&&Eo(e,t),i=l.createElement("script"),Pe(i),st(i,"link",e),l.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(n,i))}}function tb(e,t){fl.M(e,t);var l=Va;if(l&&e){var a=ua(l).hoistableScripts,n=Ya(e),i=a.get(n);i||(i=l.querySelector(Hn(n)),i||(e=A({src:e,async:!0,type:"module"},t),(t=Ht.get(n))&&Eo(e,t),i=l.createElement("script"),Pe(i),st(i,"link",e),l.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(n,i))}}function xf(e,t,l,a){var n=(n=I.current)?$s(n):null;if(!n)throw Error(u(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(t=qa(l.href),l=ua(n).hoistableStyles,a=l.get(t),a||(a={type:"style",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=qa(l.href);var i=ua(n).hoistableStyles,c=i.get(e);if(c||(n=n.ownerDocument||n,c={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,c),(i=n.querySelector(Un(e)))&&!i._p&&(c.instance=i,c.state.loading=5),Ht.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Ht.set(e,l),i||lb(n,e,l,c.state))),t&&a===null)throw Error(u(528,""));return c}if(t&&a!==null)throw Error(u(529,""));return null;case"script":return t=l.async,l=l.src,typeof l=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ya(l),l=ua(n).hoistableScripts,a=l.get(t),a||(a={type:"script",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(u(444,e))}}function qa(e){return'href="'+Mt(e)+'"'}function Un(e){return'link[rel="stylesheet"]['+e+"]"}function gf(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function lb(e,t,l,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),st(t,"link",l),Pe(t),e.head.appendChild(t))}function Ya(e){return'[src="'+Mt(e)+'"]'}function Hn(e){return"script[async]"+e}function vf(e,t,l){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+Mt(l.href)+'"]');if(a)return t.instance=a,Pe(a),a;var n=A({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),Pe(a),st(a,"style",n),Ws(a,l.precedence,e),t.instance=a;case"stylesheet":n=qa(l.href);var i=e.querySelector(Un(n));if(i)return t.state.loading|=4,t.instance=i,Pe(i),i;a=gf(l),(n=Ht.get(n))&&No(a,n),i=(e.ownerDocument||e).createElement("link"),Pe(i);var c=i;return c._p=new Promise(function(d,b){c.onload=d,c.onerror=b}),st(i,"link",a),t.state.loading|=4,Ws(i,l.precedence,e),t.instance=i;case"script":return i=Ya(l.src),(n=e.querySelector(Hn(i)))?(t.instance=n,Pe(n),n):(a=l,(n=Ht.get(i))&&(a=A({},l),Eo(a,n)),e=e.ownerDocument||e,n=e.createElement("script"),Pe(n),st(n,"link",a),e.head.appendChild(n),t.instance=n);case"void":return null;default:throw Error(u(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,Ws(a,l.precedence,e));return t.instance}function Ws(e,t,l){for(var a=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=a.length?a[a.length-1]:null,i=n,c=0;c<a.length;c++){var d=a[c];if(d.dataset.precedence===t)i=d;else if(i!==n)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=l.nodeType===9?l.head:l,t.insertBefore(e,t.firstChild))}function No(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Eo(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Fs=null;function yf(e,t,l){if(Fs===null){var a=new Map,n=Fs=new Map;n.set(l,a)}else n=Fs,a=n.get(l),a||(a=new Map,n.set(l,a));if(a.has(e))return a;for(a.set(e,null),l=l.getElementsByTagName(e),n=0;n<l.length;n++){var i=l[n];if(!(i[en]||i[tt]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var c=i.getAttribute(t)||"";c=e+c;var d=a.get(c);d?d.push(i):a.set(c,[i])}}return a}function Sf(e,t,l){e=e.ownerDocument||e,e.head.insertBefore(l,t==="title"?e.querySelector("head > title"):null)}function ab(e,t,l){if(l===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function jf(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function nb(e,t,l,a){if(l.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var n=qa(a.href),i=t.querySelector(Un(n));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Is.bind(e),t.then(e,e)),l.state.loading|=4,l.instance=i,Pe(i);return}i=t.ownerDocument||t,a=gf(a),(n=Ht.get(n))&&No(a,n),i=i.createElement("link"),Pe(i);var c=i;c._p=new Promise(function(d,b){c.onload=d,c.onerror=b}),st(i,"link",a),l.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,t),(t=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=Is.bind(e),t.addEventListener("load",l),t.addEventListener("error",l))}}var To=0;function sb(e,t){return e.stylesheets&&e.count===0&&ei(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var a=setTimeout(function(){if(e.stylesheets&&ei(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&To===0&&(To=62500*Hm());var n=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ei(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>To?50:800)+t);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(n)}}:null}function Is(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ei(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ps=null;function ei(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ps=new Map,t.forEach(ib,e),Ps=null,Is.call(e))}function ib(e,t){if(!(t.state.loading&4)){var l=Ps.get(e);if(l)var a=l.get(null);else{l=new Map,Ps.set(e,l);for(var n=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<n.length;i++){var c=n[i];(c.nodeName==="LINK"||c.getAttribute("media")!=="not all")&&(l.set(c.dataset.precedence,c),a=c)}a&&l.set(null,a)}n=t.instance,c=n.getAttribute("data-precedence"),i=l.get(c)||a,i===a&&l.set(null,n),l.set(c,n),this.count++,a=Is.bind(this),n.addEventListener("load",a),n.addEventListener("error",a),i?i.parentNode.insertBefore(n,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(n,e.firstChild)),t.state.loading|=4}}var Gn={$$typeof:X,Provider:null,Consumer:null,_currentValue:P,_currentValue2:P,_threadCount:0};function cb(e,t,l,a,n,i,c,d,b){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pa(0),this.hiddenUpdates=Pa(null),this.identifierPrefix=a,this.onUncaughtError=n,this.onCaughtError=i,this.onRecoverableError=c,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function Nf(e,t,l,a,n,i,c,d,b,M,U,Y){return e=new cb(e,t,l,c,b,M,U,Y,d),t=1,i===!0&&(t|=24),i=Et(3,null,null,t),e.current=i,i.stateNode=e,t=ac(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:a,isDehydrated:l,cache:t},cc(i),e}function Ef(e){return e?(e=ya,e):ya}function Tf(e,t,l,a,n,i){n=Ef(n),a.context===null?a.context=n:a.pendingContext=n,a=jl(t),a.payload={element:l},i=i===void 0?null:i,i!==null&&(a.callback=i),l=Nl(e,a,t),l!==null&&(yt(l,e,t),gn(l,e,t))}function Af(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<t?l:t}}function Ao(e,t){Af(e,t),(e=e.alternate)&&Af(e,t)}function _f(e){if(e.tag===13||e.tag===31){var t=Ql(e,67108864);t!==null&&yt(t,e,67108864),Ao(e,67108864)}}function Cf(e){if(e.tag===13||e.tag===31){var t=wt();t=yi(t);var l=Ql(e,t);l!==null&&yt(l,e,t),Ao(e,t)}}var ti=!0;function ob(e,t,l,a){var n=z.T;z.T=null;var i=$.p;try{$.p=2,_o(e,t,l,a)}finally{$.p=i,z.T=n}}function rb(e,t,l,a){var n=z.T;z.T=null;var i=$.p;try{$.p=8,_o(e,t,l,a)}finally{$.p=i,z.T=n}}function _o(e,t,l,a){if(ti){var n=Co(a);if(n===null)ho(e,t,a,li,l),Of(e,a);else if(db(n,e,t,l,a))a.stopPropagation();else if(Of(e,a),t&4&&-1<ub.indexOf(e)){for(;n!==null;){var i=ra(n);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var c=W(i.pendingLanes);if(c!==0){var d=i;for(d.pendingLanes|=2,d.entangledLanes|=2;c;){var b=1<<31-it(c);d.entanglements[1]|=b,c&=~b}Kt(i),(Ee&6)===0&&(Us=ut()+500,zn(0))}}break;case 31:case 13:d=Ql(i,2),d!==null&&yt(d,i,2),Gs(),Ao(i,2)}if(i=Co(a),i===null&&ho(e,t,a,li,l),i===n)break;n=i}n!==null&&a.stopPropagation()}else ho(e,t,a,null,l)}}function Co(e){return e=wi(e),wo(e)}var li=null;function wo(e){if(li=null,e=oa(e),e!==null){var t=m(e);if(t===null)e=null;else{var l=t.tag;if(l===13){if(e=x(t),e!==null)return e;e=null}else if(l===31){if(e=C(t),e!==null)return e;e=null}else if(l===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return li=e,null}function wf(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($a()){case Wa:return 2;case na:return 8;case sa:case Fa:return 32;case Jn:return 268435456;default:return 32}default:return 32}}var Oo=!1,zl=null,Rl=null,Bl=null,Vn=new Map,qn=new Map,Ll=[],ub="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Of(e,t){switch(e){case"focusin":case"focusout":zl=null;break;case"dragenter":case"dragleave":Rl=null;break;case"mouseover":case"mouseout":Bl=null;break;case"pointerover":case"pointerout":Vn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":qn.delete(t.pointerId)}}function Yn(e,t,l,a,n,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:l,eventSystemFlags:a,nativeEvent:i,targetContainers:[n]},t!==null&&(t=ra(t),t!==null&&_f(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function db(e,t,l,a,n){switch(t){case"focusin":return zl=Yn(zl,e,t,l,a,n),!0;case"dragenter":return Rl=Yn(Rl,e,t,l,a,n),!0;case"mouseover":return Bl=Yn(Bl,e,t,l,a,n),!0;case"pointerover":var i=n.pointerId;return Vn.set(i,Yn(Vn.get(i)||null,e,t,l,a,n)),!0;case"gotpointercapture":return i=n.pointerId,qn.set(i,Yn(qn.get(i)||null,e,t,l,a,n)),!0}return!1}function Mf(e){var t=oa(e.target);if(t!==null){var l=m(t);if(l!==null){if(t=l.tag,t===13){if(t=x(l),t!==null){e.blockedOn=t,Xo(e.priority,function(){Cf(l)});return}}else if(t===31){if(t=C(l),t!==null){e.blockedOn=t,Xo(e.priority,function(){Cf(l)});return}}else if(t===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ai(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var l=Co(e.nativeEvent);if(l===null){l=e.nativeEvent;var a=new l.constructor(l.type,l);Ci=a,l.target.dispatchEvent(a),Ci=null}else return t=ra(l),t!==null&&_f(t),e.blockedOn=l,!1;t.shift()}return!0}function Df(e,t,l){ai(e)&&l.delete(t)}function fb(){Oo=!1,zl!==null&&ai(zl)&&(zl=null),Rl!==null&&ai(Rl)&&(Rl=null),Bl!==null&&ai(Bl)&&(Bl=null),Vn.forEach(Df),qn.forEach(Df)}function ni(e,t){e.blockedOn===t&&(e.blockedOn=null,Oo||(Oo=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,fb)))}var si=null;function kf(e){si!==e&&(si=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){si===e&&(si=null);for(var t=0;t<e.length;t+=3){var l=e[t],a=e[t+1],n=e[t+2];if(typeof a!="function"){if(wo(a||l)===null)continue;break}var i=ra(l);i!==null&&(e.splice(t,3),t-=3,_c(i,{pending:!0,data:n,method:l.method,action:a},a,n))}}))}function Xa(e){function t(b){return ni(b,e)}zl!==null&&ni(zl,e),Rl!==null&&ni(Rl,e),Bl!==null&&ni(Bl,e),Vn.forEach(t),qn.forEach(t);for(var l=0;l<Ll.length;l++){var a=Ll[l];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Ll.length&&(l=Ll[0],l.blockedOn===null);)Mf(l),l.blockedOn===null&&Ll.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(a=0;a<l.length;a+=3){var n=l[a],i=l[a+1],c=n[mt]||null;if(typeof i=="function")c||kf(l);else if(c){var d=null;if(i&&i.hasAttribute("formAction")){if(n=i,c=i[mt]||null)d=c.formAction;else if(wo(n)!==null)continue}else d=c.action;typeof d=="function"?l[a+1]=d:(l.splice(a,3),a-=3),kf(l)}}}function zf(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(c){return n=c})},focusReset:"manual",scroll:"manual"})}function t(){n!==null&&(n(),n=null),a||setTimeout(l,20)}function l(){if(!a&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,n=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(l,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),n!==null&&(n(),n=null)}}}function Mo(e){this._internalRoot=e}ii.prototype.render=Mo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(u(409));var l=t.current,a=wt();Tf(l,a,e,t,null,null)},ii.prototype.unmount=Mo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Tf(e.current,2,null,e,null,null),Gs(),t[ca]=null}};function ii(e){this._internalRoot=e}ii.prototype.unstable_scheduleHydration=function(e){if(e){var t=Yo();e={blockedOn:null,target:e,priority:t};for(var l=0;l<Ll.length&&t!==0&&t<Ll[l].priority;l++);Ll.splice(l,0,e),l===0&&Mf(e)}};var Rf=o.version;if(Rf!=="19.2.3")throw Error(u(527,Rf,"19.2.3"));$.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(u(188)):(e=Object.keys(e).join(","),Error(u(268,e)));return e=g(t),e=e!==null?B(e):null,e=e===null?null:e.stateNode,e};var hb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ci=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ci.isDisabled&&ci.supportsFiber)try{hl=ci.inject(hb),dt=ci}catch{}}return Qn.createRoot=function(e,t){if(!h(e))throw Error(u(299));var l=!1,a="",n=Vu,i=qu,c=Yu;return t!=null&&(t.unstable_strictMode===!0&&(l=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(n=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=Nf(e,1,!1,null,null,l,a,null,n,i,c,zf),e[ca]=t.current,fo(e),new Mo(t)},Qn.hydrateRoot=function(e,t,l){if(!h(e))throw Error(u(299));var a=!1,n="",i=Vu,c=qu,d=Yu,b=null;return l!=null&&(l.unstable_strictMode===!0&&(a=!0),l.identifierPrefix!==void 0&&(n=l.identifierPrefix),l.onUncaughtError!==void 0&&(i=l.onUncaughtError),l.onCaughtError!==void 0&&(c=l.onCaughtError),l.onRecoverableError!==void 0&&(d=l.onRecoverableError),l.formState!==void 0&&(b=l.formState)),t=Nf(e,1,!0,t,l??null,a,n,b,i,c,d,zf),t.context=Ef(null),l=t.current,a=wt(),a=yi(a),n=jl(a),n.callback=null,Nl(l,n,a),l=a,t.current.lanes=l,Gl(t,l),Kt(t),e[ca]=t.current,fo(e),new ii(t)},Qn.version="19.2.3",Qn}var Qf;function Nb(){if(Qf)return zo.exports;Qf=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(o){console.error(o)}}return r(),zo.exports=jb(),zo.exports}var Eb=Nb();const Tb=If(Eb);var Jt=(r=>(r.Dark="dark",r.Light="light",r.OceanBlue="ocean_blue",r.DeepForest="deep_forest",r.SunsetOrange="sunset_orange",r.MidnightBloom="midnight_bloom",r))(Jt||{});const Zf="bibleAppDB",Ab=7,_b={yellow:"#fde047",green:"#86efac",blue:"#93c5fd",pink:"#f9a8d4",purple:"#d8b4fe"},Cb={[Jt.Dark]:{"--bg-color":"#1a1a1d","--text-color":"#c5c6c7","--navbar-bg":"#000000","--navbar-text":"#f0f0f0","--brand-color":"#DC143C","--verse-card-bg":"#2c2f33","--reference-color":"#DC143C","--options-panel-border":"#4f4f52","--brand-color-rgb":"220, 20, 60"},[Jt.Light]:{"--bg-color":"#f4f4f8","--text-color":"#333333","--navbar-bg":"#DC143C","--navbar-text":"#ffffff","--brand-color":"#EE8A9E","--verse-card-bg":"#ffffff","--reference-color":"#B21030","--options-panel-border":"#cccccc","--brand-color-rgb":"238, 138, 158"},[Jt.OceanBlue]:{"--bg-color":"#e0f7ff","--text-color":"#2a3f54","--navbar-bg":"#4a90e2","--navbar-text":"#ffffff","--brand-color":"#A5C8F1","--verse-card-bg":"#ffffff","--reference-color":"#357ABD","--options-panel-border":"#9cbadd","--brand-color-rgb":"165, 200, 241"},[Jt.DeepForest]:{"--bg-color":"#0A140A","--text-color":"#aaccbb","--navbar-bg":"#102010","--navbar-text":"#cce0dd","--brand-color":"#50c878","--verse-card-bg":"#0D1A0D","--reference-color":"#50c878","--options-panel-border":"#203020","--brand-color-rgb":"80, 200, 120"},[Jt.SunsetOrange]:{"--bg-color":"#fff3e0","--text-color":"#6d4c41","--navbar-bg":"#ef6c00","--navbar-text":"#ffffff","--brand-color":"#F7B680","--verse-card-bg":"#ffe0b2","--reference-color":"#D84315","--options-panel-border":"#ffb74d","--brand-color-rgb":"247, 182, 128"},[Jt.MidnightBloom]:{"--bg-color":"#101028","--text-color":"#D0D0E0","--navbar-bg":"#0B0B1C","--navbar-text":"#E0E0F0","--brand-color":"#E91E63","--verse-card-bg":"#1A1A3A","--reference-color":"#E91E63","--options-panel-border":"#2A2A50","--brand-color-rgb":"233, 30, 99"}};class wb{constructor(){this.db=null}async init(){return new Promise((o,f)=>{const u=indexedDB.open(Zf,Ab+3);u.onerror=h=>{console.error("DB Error",h),f("Could not open database")},u.onupgradeneeded=h=>{const m=h.target.result;m.objectStoreNames.contains("translations")||m.createObjectStore("translations",{keyPath:"id"}),m.objectStoreNames.contains("settings")||m.createObjectStore("settings",{keyPath:"key"}),m.objectStoreNames.contains("collections")||m.createObjectStore("collections",{keyPath:"name"}),m.objectStoreNames.contains("annotations")||m.createObjectStore("annotations",{keyPath:"id"}),m.objectStoreNames.contains("visuals")||m.createObjectStore("visuals",{keyPath:"id"}),m.objectStoreNames.contains("plans")||m.createObjectStore("plans",{keyPath:"id"}),m.objectStoreNames.contains("audio")||m.createObjectStore("audio",{keyPath:"id"}),m.objectStoreNames.contains("tsk")||m.createObjectStore("tsk",{keyPath:"id"})},u.onsuccess=h=>{this.db=h.target.result,o()}})}async saveTranslation(o){return this.db||await this.init(),new Promise((f,u)=>{const x=this.db.transaction(["translations"],"readwrite").objectStore("translations").put(o);x.onsuccess=()=>f(),x.onerror=()=>u("Failed to save translation")})}async getTranslations(){return this.db||await this.init(),new Promise((o,f)=>{const m=this.db.transaction(["translations"],"readonly").objectStore("translations").getAll();m.onsuccess=()=>o(m.result),m.onerror=()=>f("Failed to get translations")})}async getTranslation(o){return this.db||await this.init(),new Promise(f=>{const m=this.db.transaction(["translations"],"readonly").objectStore("translations").get(o);m.onsuccess=()=>f(m.result),m.onerror=()=>f(void 0)})}async saveSetting(o,f){return this.db||await this.init(),new Promise((u,h)=>{const C=this.db.transaction(["settings"],"readwrite").objectStore("settings").put({key:o,value:f});C.onsuccess=()=>u(),C.onerror=()=>h("Failed to save setting")})}async getSetting(o,f){return this.db||await this.init(),new Promise(u=>{const x=this.db.transaction(["settings"],"readonly").objectStore("settings").get(o);x.onsuccess=()=>{u(x.result?x.result.value:f)},x.onerror=()=>u(f)})}async saveCollection(o){return this.db||await this.init(),new Promise((f,u)=>{const x=this.db.transaction(["collections"],"readwrite").objectStore("collections").put(o);x.onsuccess=()=>f(),x.onerror=()=>u("Failed to save collection")})}async getCollections(){return this.db||await this.init(),new Promise((o,f)=>{const m=this.db.transaction(["collections"],"readonly").objectStore("collections").getAll();m.onsuccess=()=>o(m.result||[]),m.onerror=()=>f("Failed to get collections")})}async deleteCollection(o){return this.db||await this.init(),new Promise((f,u)=>{const x=this.db.transaction(["collections"],"readwrite").objectStore("collections").delete(o);x.onsuccess=()=>f(),x.onerror=()=>u("Failed to delete collection")})}async saveAnnotation(o){return this.db||await this.init(),new Promise((f,u)=>{const x=this.db.transaction(["annotations"],"readwrite").objectStore("annotations").put(o);x.onsuccess=()=>f(),x.onerror=()=>u("Failed to save annotation")})}async getAnnotations(){return this.db||await this.init(),new Promise((o,f)=>{const m=this.db.transaction(["annotations"],"readonly").objectStore("annotations").getAll();m.onsuccess=()=>o(m.result||[]),m.onerror=()=>f("Failed to get annotations")})}async deleteAnnotation(o){return this.db||await this.init(),new Promise((f,u)=>{const x=this.db.transaction(["annotations"],"readwrite").objectStore("annotations").delete(o);x.onsuccess=()=>f(),x.onerror=()=>u("Failed to delete annotation")})}async saveVisual(o){return this.db||await this.init(),new Promise((f,u)=>{const x=this.db.transaction(["visuals"],"readwrite").objectStore("visuals").put(o);x.onsuccess=()=>f(),x.onerror=()=>u("Failed to save visual")})}async getVisuals(){return this.db||await this.init(),new Promise((o,f)=>{const m=this.db.transaction(["visuals"],"readonly").objectStore("visuals").getAll();m.onsuccess=()=>o(m.result||[]),m.onerror=()=>f("Failed to get visuals")})}async deleteVisual(o){return this.db||await this.init(),new Promise((f,u)=>{const x=this.db.transaction(["visuals"],"readwrite").objectStore("visuals").delete(o);x.onsuccess=()=>f(),x.onerror=()=>u("Failed to delete visual")})}async savePlan(o){return this.db||await this.init(),new Promise((f,u)=>{const x=this.db.transaction(["plans"],"readwrite").objectStore("plans").put(o);x.onsuccess=()=>f(),x.onerror=()=>u("Failed to save plan")})}async getPlans(){return this.db||await this.init(),new Promise((o,f)=>{const m=this.db.transaction(["plans"],"readonly").objectStore("plans").getAll();m.onsuccess=()=>o(m.result||[]),m.onerror=()=>f("Failed to get plans")})}async deletePlan(o){return this.db||await this.init(),new Promise((f,u)=>{const x=this.db.transaction(["plans"],"readwrite").objectStore("plans").delete(o);x.onsuccess=()=>f(),x.onerror=()=>u("Failed to delete plan")})}async saveAudio(o){return this.db||await this.init(),new Promise((f,u)=>{const x=this.db.transaction(["audio"],"readwrite").objectStore("audio").put(o);x.onsuccess=()=>f(),x.onerror=()=>u("Failed to save audio")})}async getAudio(){return this.db||await this.init(),new Promise((o,f)=>{const m=this.db.transaction(["audio"],"readonly").objectStore("audio").getAll();m.onsuccess=()=>o(m.result||[]),m.onerror=()=>f("Failed to get audio")})}async deleteAudio(o){return this.db||await this.init(),new Promise((f,u)=>{const x=this.db.transaction(["audio"],"readwrite").objectStore("audio").delete(o);x.onsuccess=()=>f(),x.onerror=()=>u("Failed to delete audio")})}async saveTSKBatch(o){return this.db||await this.init(),new Promise((f,u)=>{const m=this.db.transaction(["tsk"],"readwrite").objectStore("tsk");let x=0;o.forEach(C=>{const j=m.put(C);j.onsuccess=()=>{x++,x===o.length&&f()},j.onerror=()=>u("Failed to save batch TSK")})})}async getTSK(o){return this.db||await this.init(),new Promise(f=>{const m=this.db.transaction(["tsk"],"readonly").objectStore("tsk").get(o);m.onsuccess=()=>f(m.result),m.onerror=()=>f(void 0)})}async hasTSKData(){return this.db||await this.init(),new Promise(o=>{const h=this.db.transaction(["tsk"],"readonly").objectStore("tsk").count();h.onsuccess=()=>o(h.result>0),h.onerror=()=>o(!1)})}async deleteDatabase(){return this.db&&(this.db.close(),this.db=null),new Promise((o,f)=>{const u=indexedDB.deleteDatabase(Zf);u.onsuccess=()=>o(),u.onerror=()=>f("Could not delete DB")})}async getFullSyncData(){const o=await this.getAnnotations(),f=await this.getCollections(),u=await this.getPlans();return{annotations:o,collections:f,plans:u}}async importSyncData(o){if(o.annotations)for(const f of o.annotations)await this.saveAnnotation(f);if(o.collections)for(const f of o.collections)await this.saveCollection(f);if(o.plans)for(const f of o.plans)await this.savePlan(f)}}const F=new wb,Pf={gen:"Genesis",genesis:"Genesis",exo:"Exodus",exodus:"Exodus",ex:"Exodus",lev:"Leviticus",leviticus:"Leviticus",lv:"Leviticus",num:"Numbers",numbers:"Numbers",nm:"Numbers",nu:"Numbers",deu:"Deuteronomy",deut:"Deuteronomy",deuteronomy:"Deuteronomy",dt:"Deuteronomy",jos:"Joshua",joshua:"Joshua",jsh:"Joshua",jdg:"Judges",judg:"Judges",judges:"Judges",jdgs:"Judges",rut:"Ruth",ruth:"Ruth",rth:"Ruth","1sa":"1 Samuel","1 samuel":"1 Samuel","1sam":"1 Samuel","1 sm":"1 Samuel","i samuel":"1 Samuel","2sa":"2 Samuel","2 samuel":"2 Samuel","2sam":"2 Samuel","2 sm":"2 Samuel","ii samuel":"2 Samuel","1ki":"1 Kings","1 kings":"1 Kings","1kgs":"1 Kings","i kings":"1 Kings","2ki":"2 Kings","2 kings":"2 Kings","2kgs":"2 Kings","ii kings":"2 Kings","1ch":"1 Chronicles","1 chronicles":"1 Chronicles","1chr":"1 Chronicles","i chronicles":"1 Chronicles","2ch":"2 Chronicles","2 chronicles":"2 Chronicles","2chr":"2 Chronicles","ii chronicles":"2 Chronicles",ezr:"Ezra",ezra:"Ezra",neh:"Nehemiah",nehemiah:"Nehemiah",ne:"Nehemiah",est:"Esther",esther:"Esther",es:"Esther",job:"Job",jb:"Job",psa:"Psalms",psalm:"Psalms",psalms:"Psalms",ps:"Psalms",pss:"Psalms",pro:"Proverbs",prov:"Proverbs",proverbs:"Proverbs",prv:"Proverbs",ecc:"Ecclesiastes",eccles:"Ecclesiastes",ecclesiastes:"Ecclesiastes",ec:"Ecclesiastes",sng:"Song of Solomon","song of songs":"Song of Solomon",song:"Song of Solomon",sos:"Song of Solomon",isa:"Isaiah",isaiah:"Isaiah",is:"Isaiah",jer:"Jeremiah",jeremiah:"Jeremiah",je:"Jeremiah",lam:"Lamentations",lamentations:"Lamentations",la:"Lamentations",eze:"Ezekiel",ezek:"Ezekiel",ezekiel:"Ezekiel",ez:"Ezekiel",dan:"Daniel",daniel:"Daniel",da:"Daniel",dn:"Daniel",hos:"Hosea",hosea:"Hosea",ho:"Hosea",joe:"Joel",joel:"Joel",jl:"Joel",amo:"Amos",amos:"Amos",am:"Amos",oba:"Obadiah",obad:"Obadiah",obadiah:"Obadiah",ob:"Obadiah",jon:"Jonah",jonah:"Jonah",mic:"Micah",micah:"Micah",mi:"Micah",nah:"Nahum",nahum:"Nahum",na:"Nahum",hab:"Habakkuk",habakkuk:"Habakkuk",hk:"Habakkuk",zep:"Zephaniah",zeph:"Zephaniah",zephaniah:"Zephaniah",zp:"Zephaniah",hag:"Haggai",haggai:"Haggai",hg:"Haggai",zec:"Zechariah",zech:"Zechariah",zechariah:"Zechariah",zc:"Zechariah",mal:"Malachi",malachi:"Malachi",ml:"Malachi",mat:"Matthew",matthew:"Matthew",mt:"Matthew",matt:"Matthew",mar:"Mark",mark:"Mark",mrk:"Mark",mk:"Mark",luk:"Luke",luke:"Luke",lk:"Luke",joh:"John",john:"John",jn:"John",act:"Acts",acts:"Acts",ac:"Acts",rom:"Romans",romans:"Romans",ro:"Romans",rm:"Romans","1co":"1 Corinthians","1 corinthians":"1 Corinthians","1cor":"1 Corinthians","2co":"2 Corinthians","2 corinthians":"2 Corinthians","2cor":"2 Corinthians",gal:"Galatians",galatians:"Galatians",ga:"Galatians",eph:"Ephesians",ephesians:"Ephesians",ephes:"Ephesians",phi:"Philippians",philippians:"Philippians",php:"Philippians",phil:"Philippians",col:"Colossians",colossians:"Colossians",cl:"Colossians","1th":"1 Thessalonians","1 thessalonians":"1 Thessalonians","1thes":"1 Thessalonians","2th":"2 Thessalonians","2 thessalonians":"2 Thessalonians","2thes":"2 Thessalonians","1ti":"1 Timothy","1 timothy":"1 Timothy","1tim":"1 Timothy","2ti":"2 Timothy","2 timothy":"2 Timothy","2tim":"2 Timothy",tit:"Titus",titus:"Titus",ti:"Titus",phm:"Philemon",philemon:"Philemon",philem:"Philemon",heb:"Hebrews",hebrews:"Hebrews",hb:"Hebrews",jas:"James",james:"James",jm:"James","1pe":"1 Peter","1 peter":"1 Peter","1pet":"1 Peter","2pe":"2 Peter","2 peter":"2 Peter","2pet":"2 Peter","1jn":"1 John","1 john":"1 John","1 jn":"1 John","2jn":"2 John","2 john":"2 John","2 jn":"2 John","3jn":"3 John","3 john":"3 John","3 jn":"3 John",jud:"Jude",jude:"Jude",jd:"Jude",rev:"Revelation",revelation:"Revelation",re:"Revelation",apoc:"Revelation"},Kf=[null,"Genesis","Exodus","Leviticus","Numbers","Deuteronomy","Joshua","Judges","Ruth","1 Samuel","2 Samuel","1 Kings","2 Kings","1 Chronicles","2 Chronicles","Ezra","Nehemiah","Esther","Job","Psalms","Proverbs","Ecclesiastes","Song of Solomon","Isaiah","Jeremiah","Lamentations","Ezekiel","Daniel","Hosea","Joel","Amos","Obadiah","Jonah","Micah","Nahum","Habakkuk","Zephaniah","Haggai","Zechariah","Malachi","Matthew","Mark","Luke","John","Acts","Romans","1 Corinthians","2 Corinthians","Galatians","Ephesians","Philippians","Colossians","1 Thessalonians","2 Thessalonians","1 Timothy","2 Timothy","Titus","Philemon","Hebrews","James","1 Peter","2 Peter","1 John","2 John","3 John","Jude","Revelation"];function fi(r){if(!r)return"Unknown Book";const o=String(r).toLowerCase().replace(/\s+/g," ").trim();return Pf[o]||r.charAt(0).toUpperCase()+r.slice(1)}function Ob(r){return r>=1&&r<Kf.length?Kf[r]:null}function Jf(r){return r?r.toLowerCase().replace(/\s+/g," ").trim()in Pf:!1}function hi(r){if(!r)return null;const o=r.trim().match(/^([1-3]?\s*[a-zA-Z]+(?:\s+[a-zA-Z]+)*)\s*(\d+)(?:[:.](\d+))?(?:\s*-\s*(\d+))?/i);if(o){const f=o[1].trim().replace(/\s+/g," "),u=parseInt(o[2],10);let h=1,m=999;if(o[3]&&(h=parseInt(o[3],10),m=h,o[4])){const x=parseInt(o[4],10);!isNaN(x)&&x>=h&&(m=x)}return{book:f,chapter:u,startVerse:h,endVerse:m}}return null}function Mb(r){if(r.length===0)return[];const o=[];let f=[r[0]];for(let u=1;u<r.length;u++){const h=r[u-1],m=r[u];m._book===h._book&&m._chapter===h._chapter&&m._verse===h._verse+1?f.push(m):(o.push(f),f=[m])}return o.push(f),o}function Db(r){if(!r)return null;const o=r.replace(/\s+/g," ").trim();if(Jf(o))return o;const f=o.split(" ");for(let u=1;u<f.length;u++){const h=f.slice(u).join(" ");if(Jf(h))return h}return null}function eh(r){const o={parsedReferences:[],unparsedPotentials:[]},f=new Set,u=new Set;if(!r)return o;let h=r.replace(/|/g,"-");h=h.replace(/;/g," ; ");const m=h.split(/\s*;\s*|\n+/);let x=null;for(const C of m){const j=C.trim();if(!j)continue;const g=/(\b(?:[1-3]\s*)?[a-zA-Z]+(?:(?:\s+|\s+of\s+)[a-zA-Z]+)*\.?)\s*(\d+)(?:[:.](\d+))?(?:\s*-\s*(\d+))?((?:[,\s]\s*\d+(?:-\d+)?)*)/gi;let B,A=0;for(;(B=g.exec(j))!==null;){A=g.lastIndex;const k=B[1].trim(),_=Db(k);if(!_)continue;const T=B[2],E=B[3],y=B[4],w=B[5]?B[5].trim():"",Z=!E;let X;Z?X=`${_} ${T}`:(X=`${_} ${T}:${E}`,y&&(X+=`-${y}`));const K=hi(X);if(K){x=K.book;const J=fi(K.book),ee=`${J} ${K.chapter}:${K.startVerse}-${K.endVerse}`;if(f.has(ee)||(o.parsedReferences.push({...K,book:J,sourceText:X,referenceString:ee}),f.add(ee)),w){const H=w.split(/[,\s]+/);for(const se of H){const re=se.trim();if(!re)continue;let Ge,we;Z?(Ge=`${x} ${re}`,we=`${_} ${re}`):(Ge=`${x} ${T}:${re}`,we=`${_} ${T}:${re}`);const Se=hi(Ge);if(Se){const Ve=fi(Se.book),Re=`${Ve} ${Se.chapter}:${Se.startVerse}-${Se.endVerse}`;f.has(Re)||(o.parsedReferences.push({...Se,book:Ve,sourceText:we,referenceString:Re}),f.add(Re))}else u.has(re)||(o.unparsedPotentials.push(re),u.add(re))}}}else u.has(B[0].trim())||(o.unparsedPotentials.push(B[0].trim()),u.add(B[0].trim()))}if(x){const k=j.substring(A).trim();if(k){const _=/(\d+)[:.](\d+)(?:-(\d+))?/g;let T;for(;(T=_.exec(k))!==null;){const E=`${x} ${T[1]}:${T[2]}${T[3]?"-"+T[3]:""}`,y=hi(E);if(y){const w=fi(y.book),Z=`${w} ${y.chapter}:${y.startVerse}-${y.endVerse}`;f.has(Z)||(o.parsedReferences.push({...y,book:w,sourceText:T[0],referenceString:Z}),f.add(Z))}}}}}return o}function kb(r,o){const f=r.book.toLowerCase();return o.filter(u=>u._book.toLowerCase()===f&&u._chapter===r.chapter&&u._verse>=r.startVerse&&u._verse<=r.endVerse)}const zb={currentPage:"home",activeHomeTab:"today",isReaderActive:!1,isOptionsOpen:!1,isSearchModalOpen:!1,currentBook:"",currentChapter:1,viewMode:"bible",activeCollectionName:null,activePlan:null,currentPlanVerses:[],quickActionVerse:null,isNoteModalOpen:!1,isComparisonModalOpen:!1,isTSKModalOpen:!1,currentNote:"",isImmersive:!1};function Rb(r,o){switch(o.type){case"NAVIGATE":return{...r,currentPage:o.page,isReaderActive:o.isReaderActive!==void 0?o.isReaderActive:!1};case"SET_HOME_TAB":return{...r,activeHomeTab:o.tab};case"SET_READER_ACTIVE":return{...r,isReaderActive:o.active};case"TOGGLE_OPTIONS":return{...r,isOptionsOpen:o.isOpen};case"TOGGLE_SEARCH_MODAL":return{...r,isSearchModalOpen:o.isOpen};case"SET_BOOK_CHAPTER":return{...r,currentBook:o.book,currentChapter:o.chapter,viewMode:r.viewMode==="plan"?"bible":r.viewMode};case"SET_VIEW_MODE":return{...r,viewMode:o.mode,activeCollectionName:o.collectionName!==void 0?o.collectionName:r.activeCollectionName,activePlan:o.mode!=="plan"?null:r.activePlan};case"START_PLAN":return{...r,activePlan:o.plan,currentPlanVerses:o.verses,viewMode:"plan",activeCollectionName:null,isReaderActive:!0};case"UPDATE_PLAN":return{...r,activePlan:o.plan};case"SET_QUICK_VERSE":return{...r,quickActionVerse:o.verse,currentNote:o.note!==void 0?o.note:r.currentNote};case"SET_NOTE_MODAL":return{...r,isNoteModalOpen:o.isOpen};case"SET_COMPARE_MODAL":return{...r,isComparisonModalOpen:o.isOpen};case"SET_TSK_MODAL":return{...r,isTSKModalOpen:o.isOpen};case"UPDATE_NOTE_TEXT":return{...r,currentNote:o.text};case"TOGGLE_IMMERSIVE":return{...r,isImmersive:!r.isImmersive};case"RESET_HOME":return{...r,currentPage:"home",isReaderActive:!1,isImmersive:!1};default:return r}}const $f=[null,"Genesis","Exodus","Leviticus","Numbers","Deuteronomy","Joshua","Judges","Ruth","1 Samuel","2 Samuel","1 Kings","2 Kings","1 Chronicles","2 Chronicles","Ezra","Nehemiah","Esther","Job","Psalms","Proverbs","Ecclesiastes","Song of Solomon","Isaiah","Jeremiah","Lamentations","Ezekiel","Daniel","Hosea","Joel","Amos","Obadiah","Jonah","Micah","Nahum","Habakkuk","Zephaniah","Haggai","Zechariah","Malachi","Matthew","Mark","Luke","John","Acts","Romans","1 Corinthians","2 Corinthians","Galatians","Ephesians","Philippians","Colossians","1 Thessalonians","2 Thessalonians","1 Timothy","2 Timothy","Titus","Philemon","Hebrews","James","1 Peter","2 Peter","1 John","2 John","3 John","Jude","Revelation"];function Uo(r){const o=typeof r=="string"?parseInt(r,10):r;return!isNaN(o)&&o>=1&&o<$f.length?$f[o]:`Book ${o}`}function th(r,o){const f=[],u=o;let h=o.replace(/\.xml$/i,"").replace(/_/g," ");try{const x=new DOMParser().parseFromString(r,"application/xml"),C=x.querySelector("parsererror");if(C)throw console.error("XML Parse Error details:",C.textContent),new Error("XML Parse Error");const j=x.querySelector("INFORMATION > title")||x.querySelector("bible > title")||x.querySelector("title");j&&j.textContent&&(h=j.textContent);const g=x.querySelector("bible");g&&g.getAttribute("translation")&&(h=g.getAttribute("translation")||h);const B=x.getElementsByTagName("book");if(B.length>0){for(let _=0;_<B.length;_++){const T=B[_],E=T.getAttribute("number")||T.getAttribute("n");let y="Unknown";E?y=Uo(E):y=T.getAttribute("name")||`Book ${_+1}`;const w=T.getElementsByTagName("chapter");for(let Z=0;Z<w.length;Z++){const X=w[Z],K=parseInt(X.getAttribute("number")||X.getAttribute("n")||(Z+1).toString(),10),J=X.getElementsByTagName("verse");for(let ee=0;ee<J.length;ee++){const H=J[ee],se=parseInt(H.getAttribute("number")||H.getAttribute("n")||(ee+1).toString(),10),re=H.textContent||"";f.push({text:re,reference:`${y} ${K}:${se}`,_book:y,_chapter:K,_verse:se,translationId:u})}}}if(f.length>0)return{verses:f,translationId:u,displayName:h}}const A=x.getElementsByTagName("BIBLEBOOK");if(A.length>0){for(let _=0;_<A.length;_++){const T=A[_],E=T.getAttribute("bnumber")||T.getAttribute("n");let y=E?Uo(E):"Book "+(_+1);const w=T.getElementsByTagName("CHAPTER");for(let Z=0;Z<w.length;Z++){const X=w[Z],K=parseInt(X.getAttribute("cnumber")||X.getAttribute("n")||(Z+1).toString(),10),J=X.getElementsByTagName("VERS");for(let ee=0;ee<J.length;ee++){const H=J[ee],se=parseInt(H.getAttribute("vnumber")||H.getAttribute("n")||(ee+1).toString(),10),re=H.textContent||"";f.push({text:re,reference:`${y} ${K}:${se}`,_book:y,_chapter:K,_verse:se,translationId:u})}}}return{verses:f,translationId:u,displayName:h}}const k=x.getElementsByTagName("b");if(k.length>0){for(let _=0;_<k.length;_++){const T=k[_],E=T.getAttribute("n")||`Book ${_+1}`,y=/^\d+$/.test(E)?Uo(E):E,w=T.getElementsByTagName("c");for(let Z=0;Z<w.length;Z++){const X=w[Z],K=parseInt(X.getAttribute("n")||(Z+1).toString(),10),J=X.getElementsByTagName("v");for(let ee=0;ee<J.length;ee++){const H=J[ee],se=parseInt(H.getAttribute("n")||(ee+1).toString(),10),re=H.textContent||"";f.push({text:re,reference:`${y} ${K}:${se}`,_book:y,_chapter:K,_verse:se,translationId:u})}}}return{verses:f,translationId:u,displayName:h}}}catch(m){return console.error("Parsing failed",m),null}return f.length===0?null:{verses:f,translationId:u,displayName:h}}const Bb=Ce.memo(({translations:r,state:o,dispatch:f,onLoadData:u,showStatus:h,activeTranslationId:m})=>{const x=async A=>{if(A.target.files&&A.target.files[0]){f({type:"SET_PROCESSING",payload:!0});const k=A.target.files[0],_=new FileReader;_.onload=async T=>{var y;const E=(y=T.target)==null?void 0:y.result;await C(E,k.name),f({type:"SET_PROCESSING",payload:!1})},_.readAsText(k)}},C=async(A,k,_)=>{const T=th(A,k);if(T){const E={id:T.translationId,displayName:T.displayName,verses:T.verses,sourceUrl:_};try{await F.saveTranslation(E),h(`Imported "${T.displayName}" successfully.`),await u()}catch{h(`Failed to save ${k}.`,!0)}}else h(`Invalid XML format for ${k}.`,!0)},j=async()=>{f({type:"SET_REPO_LOADING",payload:!0});try{const A=await fetch("https://api.github.com/repos/Beblia/Holy-Bible-XML-Format/contents");if(!A.ok)throw new Error("Failed to fetch repository.");const _=(await A.json()).filter(T=>T.name.toLowerCase().endsWith(".xml")&&T.type==="file");f({type:"SET_REPO_FILES",payload:_})}catch(A){h(A.message||"Error fetching repository.",!0),f({type:"TOGGLE_REPO_MODAL",payload:!1})}finally{f({type:"SET_REPO_LOADING",payload:!1})}},g=async A=>{var k;f({type:"START_DOWNLOAD",payload:A.name});try{const _=await fetch(A.download_url);if(!_.ok)throw new Error("Download failed");const T=(k=_.body)==null?void 0:k.getReader();if(!T){const K=await _.text();f({type:"UPDATE_PROGRESS",payload:"saving"}),await C(K,A.name,A.download_url);return}const E=+_.headers.get("Content-Length");let y=0;const w=[];for(;;){const{done:K,value:J}=await T.read();if(K)break;w.push(J),y+=J.length,E&&f({type:"UPDATE_PROGRESS",payload:Math.round(y/E*100)})}f({type:"UPDATE_PROGRESS",payload:"saving"});const X=await new Blob(w).text();await C(X,A.name,A.download_url)}catch{h(`Failed to download ${A.name}`,!0)}finally{f({type:"END_DOWNLOAD"})}},B=o.repoFiles.filter(A=>A.name.toLowerCase().includes(o.repoSearch.toLowerCase()));return s.jsxs("div",{className:"space-y-8 animate-in fade-in",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[s.jsx("h2",{className:"text-lg font-bold uppercase tracking-wider opacity-80",children:"Installed Translations"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>{f({type:"TOGGLE_REPO_MODAL",payload:!0}),o.repoFiles.length===0&&j()},className:"text-xs font-bold uppercase tracking-wider hover:text-brand transition-colors",children:"Download Online"}),s.jsxs("label",{className:"text-xs font-bold uppercase tracking-wider hover:text-brand transition-colors cursor-pointer",children:["Import XML",s.jsx("input",{type:"file",accept:".xml",className:"hidden",onChange:x,disabled:o.isProcessingImport})]})]})]}),o.isProcessingImport&&s.jsx("p",{className:"animate-pulse text-brand text-xs font-bold uppercase",children:"Processing Local Import..."}),s.jsx("div",{className:"divide-y divide-border/50",children:r.length===0?s.jsx("div",{className:"py-8 text-center opacity-50 text-sm italic",children:"No Bibles installed."}):r.map(A=>s.jsxs("div",{className:"py-4 flex justify-between items-center group",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`font-bold text-sm ${A.id===m?"text-brand":""}`,children:A.displayName}),A.id===m&&s.jsx("span",{className:"text-[10px] bg-brand/10 text-brand px-1.5 rounded font-bold uppercase",children:"Active"})]}),s.jsxs("div",{className:"text-xs opacity-50 font-mono mt-1",children:[A.id,"  ",A.verses.length," verses"]})]}),s.jsx("div",{className:"text-[10px] opacity-30 font-bold uppercase tracking-wider group-hover:opacity-100 transition-opacity",children:"Installed"})]},A.id))}),o.showRepoModal&&s.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",onClick:()=>f({type:"TOGGLE_REPO_MODAL",payload:!1}),children:s.jsxs("div",{className:"bg-bg border border-border w-full max-w-3xl flex flex-col max-h-[85vh] shadow-2xl",onClick:A=>A.stopPropagation(),children:[s.jsxs("div",{className:"p-4 border-b border-border flex justify-between items-center",children:[s.jsx("h3",{className:"font-bold text-lg",children:"Repository"}),s.jsx("button",{onClick:()=>f({type:"TOGGLE_REPO_MODAL",payload:!1}),className:"text-xl opacity-50 hover:opacity-100",children:""})]}),s.jsx("div",{className:"p-4 border-b border-border",children:s.jsx("input",{type:"text",placeholder:"Search repository...",className:"w-full bg-bg border-b border-border p-2 focus:border-brand focus:outline-none text-sm placeholder:opacity-30",value:o.repoSearch,onChange:A=>f({type:"SET_REPO_SEARCH",payload:A.target.value})})}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:o.isRepoLoading?s.jsx("div",{className:"p-8 text-center opacity-50 text-sm",children:"Loading repository..."}):s.jsx("div",{className:"grid grid-cols-1 gap-2",children:B.map((A,k)=>s.jsxs("div",{className:"flex justify-between items-center p-2 hover:bg-white/5 transition-colors",children:[s.jsx("div",{className:"truncate pr-4",children:s.jsx("div",{className:"font-bold text-sm truncate",title:A.name,children:A.name.replace(".xml","").replace(/_/g," ")})}),s.jsx("button",{onClick:()=>g(A),disabled:!!o.downloadingFile,className:"text-xs font-bold uppercase tracking-wider text-brand hover:text-brand/80 disabled:opacity-50",children:o.downloadingFile===A.name?o.downloadProgress==="saving"?"Saving":`${o.downloadProgress}%`:"Download"})]},k))})})]})})]})});function Lb(r,o){try{const f=JSON.parse(r),u=[];let h=0;for(const[m,x]of Object.entries(f))if(Array.isArray(x)){const C=x.filter(j=>typeof j=="string");C.length>0&&(u.push({dayIndex:h,references:C,completed:!1}),h++)}return u.length===0?null:{id:`plan_${Date.now()}`,title:o||"Imported Plan",days:u,currentDayIndex:0,createdAt:Date.now()}}catch(f){return console.error("Failed to parse plan",f),null}}const Ub=Ce.memo(({collections:r,plans:o,hasTSK:f,onLoadData:u,showStatus:h,onEditCollection:m,onMemorizeCollection:x,dispatch:C})=>{const j=T=>{if(T.target.files&&T.target.files[0]){const E=T.target.files[0];C({type:"SET_PROCESSING",payload:!0});const y=new FileReader;y.onload=async w=>{var Z;try{const X=(Z=w.target)==null?void 0:Z.result,K=JSON.parse(X),J=[],ee=500;for(const[H,se]of Object.entries(K)){const re=H.split(",");if(re.length===3){const Ge=parseInt(re[0],10),we=Ob(Ge);we&&J.push({id:`${we}_${re[1]}_${re[2]}`,entries:se})}}for(let H=0;H<J.length;H+=ee){const se=J.slice(H,H+ee);await F.saveTSKBatch(se)}await u(),h(`Imported TSK (${J.length} entries).`)}catch{h("Failed to import TSK JSON.",!0)}finally{C({type:"SET_PROCESSING",payload:!1})}},y.readAsText(E)}},g=T=>{if(T.target.files&&T.target.files[0]){const E=T.target.files[0],y=new FileReader;y.onload=async w=>{var Z;try{const X=(Z=w.target)==null?void 0:Z.result,K=E.name.replace(/\.[^/.]+$/,""),J=Lb(X,K);if(J)await F.savePlan(J),await u(),h(`Imported plan "${J.title}".`);else throw new Error}catch{h("Failed to import plan.",!0)}},y.readAsText(E)}},B=async T=>{confirm("Delete this plan?")&&(await F.deletePlan(T),await u(),h("Deleted plan."))},A=async T=>{confirm(`Delete collection "${T}"?`)&&(await F.deleteCollection(T),await u(),h(`Deleted "${T}".`))},k=T=>{if(T.target.files&&T.target.files[0]){const E=T.target.files[0],y=new FileReader;y.onload=async w=>{var Z;try{const X=JSON.parse((Z=w.target)==null?void 0:Z.result);if(X.name&&Array.isArray(X.verses))await F.saveCollection(X),await u(),h(`Imported collection "${X.name}".`);else throw new Error}catch{h("Invalid JSON.",!0)}},y.readAsText(E)}},_=T=>{const E="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(T,null,2)),y=document.createElement("a");y.setAttribute("href",E),y.setAttribute("download",`${T.name.replace(/\s+/g,"_")}.json`),document.body.appendChild(y),y.click(),y.remove()};return s.jsxs("div",{className:"space-y-8 animate-in fade-in",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4 border-b border-border pb-2",children:[s.jsx("h2",{className:"text-lg font-bold uppercase tracking-wider opacity-80",children:"Reading Plans"}),s.jsxs("label",{className:"text-xs font-bold uppercase tracking-wider hover:text-brand cursor-pointer transition-colors",children:["Import JSON",s.jsx("input",{type:"file",accept:".json",className:"hidden",onChange:g})]})]}),s.jsx("div",{className:"divide-y divide-border/50",children:o.length===0?s.jsx("div",{className:"py-4 opacity-50 text-sm italic",children:"No plans."}):o.map(T=>{const E=Math.round(T.days.filter(y=>y.completed).length/T.days.length*100);return s.jsxs("div",{className:"py-4 flex justify-between items-center group",children:[s.jsxs("div",{className:"w-full sm:w-auto pr-4",children:[s.jsx("div",{className:"font-bold text-sm",children:T.title}),s.jsx("div",{className:"w-full sm:w-48 h-1 bg-border rounded-full mt-2 overflow-hidden",children:s.jsx("div",{className:"h-full bg-brand",style:{width:`${E}%`}})})]}),s.jsx("button",{onClick:()=>B(T.id),className:"text-xs text-red-400 font-bold opacity-0 group-hover:opacity-100 transition-opacity",children:"Delete"})]},T.id)})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4 border-b border-border pb-2",children:[s.jsx("h2",{className:"text-lg font-bold uppercase tracking-wider opacity-80",children:"My Collections"}),s.jsxs("label",{className:"text-xs font-bold uppercase tracking-wider hover:text-brand cursor-pointer transition-colors",children:["Import JSON",s.jsx("input",{type:"file",accept:".json",className:"hidden",onChange:k})]})]}),s.jsx("div",{className:"divide-y divide-border/50",children:r.length===0?s.jsx("div",{className:"py-4 opacity-50 text-sm italic",children:"No collections."}):r.map(T=>s.jsxs("div",{className:"py-4 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 group",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-bold text-sm",children:T.name}),s.jsxs("div",{className:"text-xs opacity-50 mt-0.5",children:[T.verses.length," verses"]})]}),s.jsxs("div",{className:"flex gap-3 opacity-60 group-hover:opacity-100 transition-opacity",children:[s.jsx("button",{onClick:()=>x(T.name),className:"text-xs font-bold hover:text-brand transition-colors",children:"Memorize"}),s.jsx("button",{onClick:()=>_(T),className:"text-xs font-bold hover:text-text transition-colors",children:"Export"}),s.jsx("button",{onClick:()=>m(T),className:"text-xs font-bold hover:text-text transition-colors",children:"Edit"}),s.jsx("button",{onClick:()=>A(T.name),className:"text-xs font-bold text-red-400 hover:text-red-500 transition-colors",children:"Delete"})]})]},T.name))})]}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"flex items-center justify-between gap-4 border-b border-border pb-2",children:[s.jsx("h2",{className:"text-lg font-bold uppercase tracking-wider opacity-80",children:"Commentaries (TSK)"}),s.jsxs("label",{className:`text-xs font-bold uppercase tracking-wider cursor-pointer transition-colors ${f?"text-green-500 cursor-default":"hover:text-brand"}`,children:[f?"Installed ":"Import JSON",s.jsx("input",{type:"file",accept:".json",className:"hidden",onChange:j,disabled:f})]})]})})]})}),Hb=[{id:"bgm_satie",name:"Gymnopdie No.1 (Satie)",category:"bgm",description:"Calm, melancholic classical piano.",url:"https://upload.wikimedia.org/wikipedia/commons/3/34/Erik_Satie_-_Gymnop%C3%A9die_No._1.ogg"},{id:"bgm_rain",name:"Soft Rain Ambient",category:"bgm",description:"Continuous gentle rain sound.",url:"https://upload.wikimedia.org/wikipedia/commons/8/8f/Rain_falling_on_leaves.ogg"},{id:"bgm_drone",name:"Meditation Drone",category:"bgm",description:"Deep, resonant synthetic background.",url:"data:audio/mp3;base64,//uQZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAWgAAAA0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABLLgAAAAAABT8AAAAAAFATAAAAAAAAAAAAAA=="},{id:"sfx_page",name:"Page Turn",category:"sfx",description:"Paper crisp flipping sound.",url:"https://upload.wikimedia.org/wikipedia/commons/f/f3/Turning_a_page.ogg"},{id:"sfx_click_soft",name:"Soft Click",category:"sfx",description:"Subtle interface click.",url:"data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQAAAAA="},{id:"sfx_bell",name:"Meditation Bowl",category:"sfx",description:"Resonant bell chime.",url:"https://upload.wikimedia.org/wikipedia/commons/1/18/Singing_Bowl_C_Note.ogg"}],Gb=Ce.memo(({visuals:r,audioFiles:o,state:f,dispatch:u,onLoadData:h,showStatus:m})=>{const[x,C]=Ce.useState(!1),j=y=>{if(y.target.files&&y.target.files[0]){C(!0);const w=y.target.files[0],Z=new FileReader;Z.onload=async X=>{var J;const K={id:`vis_${Date.now()}`,name:w.name,data:(J=X.target)==null?void 0:J.result,mimeType:w.type,createdAt:Date.now()};try{await F.saveVisual(K),await h(),m(`Added image "${w.name}"`)}catch{m("Failed.",!0)}finally{C(!1)}},Z.readAsDataURL(w)}},g=async()=>{C(!0);try{const y=Math.floor(Math.random()*1e3),Z=await(await fetch(`https://picsum.photos/seed/${y}/1920/1080`)).blob(),X=new FileReader;X.onload=async K=>{var ee;const J={id:`vis_${Date.now()}`,name:`Nature ${y}`,data:(ee=K.target)==null?void 0:ee.result,mimeType:Z.type,source:"Picsum",createdAt:Date.now()};await F.saveVisual(J),await h(),m("Downloaded background"),C(!1)},X.readAsDataURL(Z)}catch{C(!1),m("Failed",!0)}},B=async y=>{confirm("Delete?")&&(await F.deleteVisual(y),await h(),m("Deleted"))},A=(y,w)=>{if(y.target.files&&y.target.files[0]){C(!0);const Z=y.target.files[0],X=new FileReader;X.onload=async K=>{var ee;const J={id:`aud_${Date.now()}`,name:Z.name.replace(/\.[^/.]+$/,""),category:w,data:(ee=K.target)==null?void 0:ee.result,mimeType:Z.type,createdAt:Date.now()};try{await F.saveAudio(J),await h(),m(`Added ${w.toUpperCase()}: ${J.name}`)}catch{m("Failed to save audio.",!0)}finally{C(!1)}},X.readAsDataURL(Z)}},k=async y=>{confirm("Delete this audio file?")&&(await F.deleteAudio(y),await h(),m("Deleted."))},_=async y=>{u({type:"START_DOWNLOAD",payload:y.name});try{if(y.url.startsWith("data:")){u({type:"UPDATE_PROGRESS",payload:"saving"});const w={id:`aud_${Date.now()}`,name:y.name,category:y.category,data:y.url,mimeType:y.url.split(";")[0].split(":")[1],createdAt:Date.now()};await F.saveAudio(w)}else{const w=await fetch(y.url);if(!w.ok)throw new Error("Download failed");const Z=await w.blob();u({type:"UPDATE_PROGRESS",payload:"saving"});const X=new FileReader;await new Promise((K,J)=>{X.onload=async ee=>{var re;const H=(re=ee.target)==null?void 0:re.result,se={id:`aud_${Date.now()}`,name:y.name,category:y.category,data:H,mimeType:Z.type,createdAt:Date.now()};await F.saveAudio(se),K(null)},X.onerror=J,X.readAsDataURL(Z)})}await h(),m(`Downloaded ${y.name}`)}catch{m(`Failed to download ${y.name}`,!0)}finally{u({type:"END_DOWNLOAD"})}},T=o.filter(y=>y.category==="bgm"),E=o.filter(y=>y.category==="sfx");return s.jsxs("div",{className:"space-y-8 animate-in fade-in",children:[f.showAudioModal&&s.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",onClick:()=>u({type:"TOGGLE_AUDIO_MODAL",payload:!1}),children:s.jsxs("div",{className:"bg-bg border border-border w-full max-w-3xl flex flex-col max-h-[85vh] shadow-2xl",onClick:y=>y.stopPropagation(),children:[s.jsxs("div",{className:"p-4 border-b border-border flex justify-between items-center",children:[s.jsx("h3",{className:"font-bold text-lg",children:"Online Audio Library"}),s.jsx("button",{onClick:()=>u({type:"TOGGLE_AUDIO_MODAL",payload:!1}),className:"text-xl opacity-50 hover:opacity-100",children:""})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:s.jsx("div",{className:"grid grid-cols-1 gap-4",children:Hb.map((y,w)=>s.jsxs("div",{className:"flex justify-between items-center group",children:[s.jsxs("div",{className:"min-w-0 pr-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`text-[10px] font-bold uppercase px-1.5 py-0.5 rounded ${y.category==="bgm"?"bg-purple-900/30 text-purple-400":"bg-blue-900/30 text-blue-400"}`,children:y.category}),s.jsx("div",{className:"font-bold text-sm truncate",title:y.name,children:y.name})]}),s.jsx("div",{className:"text-xs opacity-60 mt-1",children:y.description})]}),s.jsx("div",{className:"flex items-center gap-3 shrink-0",children:s.jsx("button",{onClick:()=>_(y),disabled:!!f.downloadingFile,className:"text-xs font-bold uppercase tracking-wider text-brand hover:text-brand/80 disabled:opacity-50",children:f.downloadingFile===y.name?f.downloadProgress==="saving"?"Saving...":"Downloading...":"Download"})})]},w))})})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4 border-b border-border pb-2",children:[s.jsx("h2",{className:"text-lg font-bold uppercase tracking-wider opacity-80",children:"Background Images"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:g,disabled:x,className:"text-xs font-bold uppercase tracking-wider hover:text-brand transition-colors disabled:opacity-50",children:x?"...":"Random"}),s.jsxs("label",{className:"text-xs font-bold uppercase tracking-wider hover:text-brand cursor-pointer transition-colors",children:["Upload",s.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:j,disabled:x})]})]})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:r.length===0?s.jsx("div",{className:"col-span-full py-8 text-center opacity-50 text-sm italic",children:"No images."}):r.map(y=>s.jsxs("div",{className:"relative group aspect-video bg-black/20 overflow-hidden",children:[s.jsx("img",{src:y.data,alt:y.name,className:"w-full h-full object-cover opacity-80 group-hover:opacity-100 transition-opacity"}),s.jsx("div",{className:"absolute inset-0 flex items-end justify-end p-2 opacity-0 group-hover:opacity-100 transition-opacity bg-gradient-to-t from-black/50 to-transparent",children:s.jsx("button",{onClick:()=>B(y.id),className:"text-red-400 text-xs font-bold uppercase",children:"Delete"})})]},y.id))})]}),s.jsxs("div",{className:"space-y-4 pt-4",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4 border-b border-border pb-2",children:[s.jsx("h2",{className:"text-lg font-bold uppercase tracking-wider opacity-80",children:"Background Music"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>u({type:"TOGGLE_AUDIO_MODAL",payload:!0}),className:"text-xs font-bold uppercase tracking-wider hover:text-brand transition-colors",children:"Online"}),s.jsxs("label",{className:"text-xs font-bold uppercase tracking-wider hover:text-brand cursor-pointer transition-colors",children:["Upload",s.jsx("input",{type:"file",accept:"audio/*",className:"hidden",onChange:y=>A(y,"bgm"),disabled:x})]})]})]}),s.jsx("div",{className:"divide-y divide-border/50",children:T.length===0?s.jsx("div",{className:"py-4 text-center opacity-50 text-sm italic",children:"No background music."}):T.map(y=>s.jsxs("div",{className:"py-3 flex justify-between items-center group",children:[s.jsx("div",{className:"flex items-center gap-3",children:s.jsx("div",{className:"font-bold text-sm",children:y.name})}),s.jsxs("div",{className:"flex items-center gap-2 opacity-60 group-hover:opacity-100 transition-opacity",children:[s.jsx("audio",{src:y.data,controls:!0,className:"h-6 w-32"}),s.jsx("button",{onClick:()=>k(y.id),className:"text-red-400 text-xs font-bold uppercase ml-2 hover:text-red-500",children:"Delete"})]})]},y.id))})]}),s.jsxs("div",{className:"space-y-4 pt-4",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4 border-b border-border pb-2",children:[s.jsx("h2",{className:"text-lg font-bold uppercase tracking-wider opacity-80",children:"Sound Effects"}),s.jsxs("label",{className:"text-xs font-bold uppercase tracking-wider hover:text-brand cursor-pointer transition-colors",children:["Upload",s.jsx("input",{type:"file",accept:"audio/*",className:"hidden",onChange:y=>A(y,"sfx"),disabled:x})]})]}),s.jsx("div",{className:"divide-y divide-border/50",children:E.length===0?s.jsx("div",{className:"py-4 text-center opacity-50 text-sm italic",children:"No sound effects."}):E.map(y=>s.jsxs("div",{className:"py-3 flex justify-between items-center group",children:[s.jsx("div",{className:"font-bold text-sm",children:y.name}),s.jsxs("div",{className:"flex items-center gap-2 opacity-60 group-hover:opacity-100 transition-opacity",children:[s.jsx("button",{onClick:()=>new Audio(y.data).play(),className:"text-xs font-bold uppercase hover:text-brand",children:"Preview"}),s.jsx("button",{onClick:()=>k(y.id),className:"text-red-400 text-xs font-bold uppercase ml-2 hover:text-red-500",children:"Delete"})]})]},y.id))})]})]})}),Vb=new Set(["the","and","of","to","in","a","that","is","he","for","it","was","his","with","as","are","not","be","but","on","they","shall","at","him","my","me","have","thou","from","thy","all","by","this","unto","which","man","god","lord","israel","son","king","people","house","came","one","out","her","she","there","their","when","up","down","said","saying","then","we","us","you","your","ye","or","if","do","did","so","an","what","who","them","see","go","come","now","no","like","into","can","will","may","upon","over","before","after"]),qb=Ce.memo(({collections:r,translations:o,onLoadData:f,showStatus:u,onSwitchToLibrary:h,activeTranslationId:m,activeToolTab:x,setActiveToolTab:C,selectedToolCollection:j,setSelectedToolCollection:g})=>{const[B,A]=Ce.useState(""),[k,_]=Ce.useState([]),[T,E]=Ce.useState(""),[y,w]=Ce.useState(new Set),[Z,X]=Ce.useState(new Set),[K,J]=Ce.useState(""),[ee,H]=Ce.useState(50),[se,re]=Ce.useState("blank"),[Ge,we]=Ce.useState(0),[Se,Ve]=Ce.useState("book"),[Re,qe]=Ce.useState(""),[z,$]=Ce.useState([]),P=L.useMemo(()=>o.find(Q=>Q.id===m)||o[0],[o,m]),be=()=>{const Q=eh(B);_(I=>[...I,...Q.parsedReferences]),A(""),u(`Found ${Q.parsedReferences.length} refs.`)},he=async()=>{if(k.length===0||!T.trim())return;const Q={name:T.trim(),verses:k.map(I=>({reference:I.referenceString,_book:I.book.replace(/\b\w/g,ie=>ie.toUpperCase()),_chapter:I.chapter,_startVerse:I.startVerse,_endVerse:I.endVerse})),createdAt:Date.now()};try{await F.saveCollection(Q),A(""),_([]),E(""),await f(),u(`Saved "${Q.name}"`),h()}catch{u("Error saving",!0)}},p=()=>{if(y.size===0||Z.size===0)return;const Q=r.filter(me=>y.has(me.name)),I=o.filter(me=>Z.has(me.id));let ie="";Q.forEach(me=>{ie+=`COLLECTION: ${me.name}

`,me.verses.forEach(oe=>{ie+=`${oe.reference}
`,I.forEach(Qe=>{const ze=Qe.verses.find(rt=>rt._book===oe._book&&rt._chapter===oe._chapter&&rt._verse>=oe._startVerse&&rt._verse<=oe._endVerse);ie+=`[${Qe.displayName}] ${ze?ze.text:"N/A"}
`}),ie+=`
`})}),J(ie)},G=L.useMemo(()=>r.find(Q=>Q.name===j),[r,j]),S=L.useMemo(()=>!G||!P?[]:G.verses.map(I=>{const ie=P.verses.find(oe=>oe._book===I._book&&oe._chapter===I._chapter&&oe._verse===I._startVerse);if(!ie)return null;const me=ie.text.split(" ");return{ref:I.reference,tokens:me.map((oe,Qe)=>{const ze=(Math.sin(Qe+Ge+ie._verse)+1)/2<ee/100;return{word:oe,hidden:ze}})}}).filter(I=>I!==null),[G,ee,Ge,P]),q=()=>{let Q=[];if(!P){u("No Bible installed",!0);return}if(Se==="book")Q=P.verses.filter(me=>me._book===Re);else{const me=r.find(oe=>oe.name===Re);me&&me.verses.forEach(oe=>{const Qe=P.verses.filter(ze=>ze._book===oe._book&&ze._chapter===oe._chapter&&ze._verse>=oe._startVerse&&ze._verse<=oe._endVerse);Q.push(...Qe)})}if(Q.length===0){$([]),u("No text found to analyze.");return}const I={};Q.forEach(me=>{me.text.toLowerCase().replace(/[.,/#!$%^&*;:{}=\-_`~()]/g,"").split(/\s+/).forEach(Qe=>{Qe&&!Vb.has(Qe)&&Qe.length>2&&(I[Qe]=(I[Qe]||0)+1)})});const ie=Object.entries(I).map(([me,oe])=>({word:me,count:oe})).sort((me,oe)=>oe.count-me.count).slice(0,50);$(ie)};return s.jsxs("div",{className:"flex flex-col h-full gap-6 animate-in fade-in",children:[s.jsxs("div",{className:"flex gap-4 border-b border-border/50 pb-2 overflow-x-auto",children:[s.jsx("button",{onClick:()=>C("extractor"),className:`text-xs font-bold uppercase tracking-wider whitespace-nowrap hover:text-brand ${x==="extractor"?"text-brand":"opacity-60"}`,children:"Extractor"}),s.jsx("button",{onClick:()=>C("compiler"),className:`text-xs font-bold uppercase tracking-wider whitespace-nowrap hover:text-brand ${x==="compiler"?"text-brand":"opacity-60"}`,children:"Compiler"}),s.jsx("button",{onClick:()=>C("memorize"),className:`text-xs font-bold uppercase tracking-wider whitespace-nowrap hover:text-brand ${x==="memorize"?"text-brand":"opacity-60"}`,children:"Memorize"}),s.jsx("button",{onClick:()=>C("analyze"),className:`text-xs font-bold uppercase tracking-wider whitespace-nowrap hover:text-brand ${x==="analyze"?"text-brand":"opacity-60"}`,children:"Analyze"})]}),x==="extractor"&&s.jsxs("div",{className:"flex flex-col gap-4 h-full",children:[s.jsx("textarea",{className:"w-full h-40 bg-bg border-b border-border p-2 focus:border-brand focus:outline-none resize-none font-serif text-sm leading-relaxed placeholder:opacity-30",placeholder:"Paste text containing Bible references here...",value:B,onChange:Q=>A(Q.target.value)}),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{onClick:be,className:"px-4 py-1.5 bg-brand text-white font-bold text-xs rounded hover:opacity-90",children:"Extract"})}),k.length>0&&s.jsxs("div",{className:"mt-2 pt-4 border-t border-border/50",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4 gap-2",children:[s.jsx("input",{type:"text",placeholder:"Collection Name",className:"bg-bg border-b border-border px-2 py-1 text-sm flex-1 focus:border-brand focus:outline-none font-bold",value:T,onChange:Q=>E(Q.target.value)}),s.jsx("button",{onClick:he,className:"text-green-500 font-bold text-xs uppercase hover:underline",children:"Save Collection"})]}),s.jsx("div",{className:"max-h-60 overflow-y-auto space-y-1",children:k.map((Q,I)=>s.jsxs("div",{className:"text-xs flex justify-between group hover:bg-white/5 p-1 rounded",children:[s.jsx("span",{children:Q.referenceString}),s.jsx("button",{onClick:()=>_(ie=>ie.filter((me,oe)=>oe!==I)),className:"text-red-400 opacity-0 group-hover:opacity-100",children:""})]},I))})]})]}),x==="compiler"&&s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 h-64",children:[s.jsxs("div",{className:"flex-1 overflow-y-auto",children:[s.jsx("div",{className:"text-xs font-bold uppercase opacity-50 mb-2",children:"Collections"}),r.map(Q=>s.jsxs("label",{className:"flex gap-2 text-xs py-1 hover:text-brand cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:y.has(Q.name),onChange:()=>{const I=new Set(y);I.has(Q.name)?I.delete(Q.name):I.add(Q.name),w(I)},className:"accent-brand"}),Q.name]},Q.name))]}),s.jsxs("div",{className:"flex-1 overflow-y-auto",children:[s.jsx("div",{className:"text-xs font-bold uppercase opacity-50 mb-2",children:"Translations"}),o.map(Q=>s.jsxs("label",{className:"flex gap-2 text-xs py-1 hover:text-brand cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:Z.has(Q.id),onChange:()=>{const I=new Set(Z);I.has(Q.id)?I.delete(Q.id):I.add(Q.id),X(I)},className:"accent-brand"}),Q.displayName]},Q.id))]})]}),s.jsx("button",{onClick:p,className:"bg-brand text-white font-bold py-2 rounded text-sm hover:opacity-90",children:"Compile Output"}),s.jsx("textarea",{readOnly:!0,value:K,className:"h-40 bg-black/10 p-4 font-mono text-xs resize-none rounded",placeholder:"Output will appear here..."})]}),x==="memorize"&&s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs("div",{className:"flex flex-wrap gap-4 items-center border-b border-border/50 pb-4",children:[s.jsxs("select",{value:j,onChange:Q=>g(Q.target.value),className:"bg-bg border-b border-border px-2 py-1 text-sm font-bold focus:border-brand outline-none",children:[s.jsx("option",{value:"",disabled:!0,children:"Select Collection"}),r.map(Q=>s.jsx("option",{value:Q.name,children:Q.name},Q.name))]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-xs font-bold opacity-60 uppercase",children:"Difficulty"}),s.jsx("input",{type:"range",min:"0",max:"100",step:"10",value:ee,onChange:Q=>H(Number(Q.target.value)),className:"accent-brand w-24 h-1 bg-border rounded-lg appearance-none cursor-pointer"}),s.jsxs("span",{className:"text-xs font-mono w-8",children:[ee,"%"]})]}),s.jsx("button",{onClick:()=>we(Date.now()),className:"text-xs font-bold uppercase hover:text-brand",children:"Reshuffle"})]}),s.jsx("div",{className:"flex-1 overflow-y-auto space-y-8",children:j?S.length===0?s.jsx("div",{className:"text-center opacity-50 text-sm mt-10 text-red-400",children:"Verses not found in active translation."}):S.map((Q,I)=>s.jsxs("div",{className:"pb-6 border-b border-border/30 last:border-0",children:[s.jsx("div",{className:"text-xs font-bold text-brand uppercase mb-2",children:Q.ref}),s.jsx("p",{className:"font-serif text-lg leading-loose",children:Q.tokens.map((ie,me)=>s.jsx(Yb,{word:ie.word,hidden:ie.hidden,mode:se},me))})]},I)):s.jsx("div",{className:"text-center opacity-50 text-sm mt-10 italic",children:"Select a collection above to start."})})]}),x==="analyze"&&s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs("div",{className:"flex flex-wrap gap-4 items-center border-b border-border/50 pb-4",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>Ve("book"),className:`text-xs font-bold uppercase ${Se==="book"?"text-brand":"opacity-60"}`,children:"Book"}),s.jsx("span",{className:"opacity-30",children:"/"}),s.jsx("button",{onClick:()=>Ve("collection"),className:`text-xs font-bold uppercase ${Se==="collection"?"text-brand":"opacity-60"}`,children:"Collection"})]}),s.jsxs("select",{value:Re,onChange:Q=>qe(Q.target.value),className:"bg-bg border-b border-border px-2 py-1 text-sm font-bold focus:border-brand outline-none flex-1 max-w-xs",children:[s.jsx("option",{value:"",disabled:!0,children:"Select Target"}),Se==="book"?Array.from(new Set(P==null?void 0:P.verses.map(Q=>Q._book))).map(Q=>s.jsx("option",{value:Q,children:Q},Q)):r.map(Q=>s.jsx("option",{value:Q.name,children:Q.name},Q.name))]}),s.jsx("button",{onClick:q,className:"text-xs font-bold uppercase bg-brand text-white px-3 py-1 rounded hover:opacity-90",children:"Run"})]}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:z.length===0?s.jsx("div",{className:"text-center opacity-50 text-sm mt-10 italic",children:"Select source and run analysis."}):s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:z.map((Q,I)=>s.jsxs("div",{className:"flex justify-between items-center border-b border-border/30 pb-1",children:[s.jsx("span",{className:"font-bold text-sm capitalize",children:Q.word}),s.jsx("span",{className:"text-xs font-mono opacity-60",children:Q.count})]},I))})})]})]})}),Yb=Ce.memo(({word:r,hidden:o,mode:f})=>{const[u,h]=Ce.useState(!1);if(Ce.useEffect(()=>{h(!1)},[o,r]),!o||u)return s.jsx("span",{className:"mr-1.5",children:r});const m=f==="firstLetter"?r.charAt(0)+"_".repeat(r.length-1):"_".repeat(r.length);return s.jsx("span",{onClick:()=>h(!0),className:"mr-1.5 cursor-pointer text-brand/50 font-bold hover:text-brand transition-colors select-none bg-brand/5 px-1 rounded",title:"Click to reveal",children:m})}),Xb={activeTab:"bibles",translations:[],collections:[],plans:[],visuals:[],audioFiles:[],hasTSK:!1,statusMsg:null,isLoadingData:!1,isProcessingImport:!1,showRepoModal:!1,repoFiles:[],isRepoLoading:!1,repoSearch:"",downloadingFile:null,downloadProgress:null,showAudioModal:!1,activeToolTab:"extractor",selectedToolCollection:""};function Qb(r,o){switch(o.type){case"SET_TAB":return{...r,activeTab:o.payload};case"LOAD_DATA_START":return{...r,isLoadingData:!0};case"LOAD_DATA_SUCCESS":return{...r,translations:o.payload.t,collections:o.payload.c,plans:o.payload.p,visuals:o.payload.v,audioFiles:o.payload.a,hasTSK:o.payload.tsk,isLoadingData:!1};case"SET_STATUS":return{...r,statusMsg:o.payload};case"SET_PROCESSING":return{...r,isProcessingImport:o.payload};case"TOGGLE_REPO_MODAL":return{...r,showRepoModal:o.payload};case"SET_REPO_FILES":return{...r,repoFiles:o.payload};case"SET_REPO_LOADING":return{...r,isRepoLoading:o.payload};case"SET_REPO_SEARCH":return{...r,repoSearch:o.payload};case"START_DOWNLOAD":return{...r,downloadingFile:o.payload,downloadProgress:0};case"UPDATE_PROGRESS":return{...r,downloadProgress:o.payload};case"END_DOWNLOAD":return{...r,downloadingFile:null,downloadProgress:null};case"TOGGLE_AUDIO_MODAL":return{...r,showAudioModal:o.payload};case"SET_TOOL_TAB":return{...r,activeToolTab:o.payload};case"SET_TOOL_COLLECTION":return{...r,selectedToolCollection:o.payload};case"NAVIGATE_TO_TOOL":return{...r,activeTab:"tools",activeToolTab:o.payload.tool,selectedToolCollection:o.payload.collection||""};default:return r}}function Zb({onBack:r,activeTranslationId:o}){const[f,u]=L.useReducer(Qb,Xb),h=L.useCallback(async()=>{u({type:"LOAD_DATA_START"});const x=await F.getTranslations(),C=await F.getCollections(),j=await F.getPlans(),g=await F.getVisuals(),B=await F.getAudio(),A=await F.hasTSKData();u({type:"LOAD_DATA_SUCCESS",payload:{t:x,c:C,p:j,v:g,a:B,tsk:A}})},[]);L.useEffect(()=>{h()},[h]);const m=L.useCallback((x,C=!1)=>{u({type:"SET_STATUS",payload:{msg:x,error:C}}),setTimeout(()=>u({type:"SET_STATUS",payload:null}),4e3)},[]);return s.jsxs("div",{className:"min-h-screen bg-bg text-text p-4 sm:p-8 max-w-4xl mx-auto font-sans animate-in fade-in duration-300 pt-20 pb-20",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8 border-b border-border pb-4",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Data Manager"}),s.jsx("button",{onClick:r,className:"px-3 py-1.5 rounded border border-border hover:bg-white/5 transition-colors text-xs font-bold uppercase tracking-wider",children:"Back"})]}),f.statusMsg&&s.jsx("div",{className:`mb-6 p-3 rounded text-sm font-semibold ${f.statusMsg.error?"bg-red-900/20 text-red-400 border border-red-900/50":"bg-green-900/20 text-green-400 border border-green-900/50"}`,children:f.statusMsg.msg}),s.jsx("div",{className:"flex gap-6 mb-8 border-b border-border/50 overflow-x-auto",children:["bibles","library","media","tools"].map(x=>s.jsx("button",{onClick:()=>u({type:"SET_TAB",payload:x}),className:`pb-3 font-bold text-sm uppercase tracking-wider transition-all border-b-2 whitespace-nowrap ${f.activeTab===x?"text-brand border-brand":"text-text/50 border-transparent hover:text-text"}`,children:x},x))}),s.jsxs("div",{className:"min-h-[400px]",children:[f.activeTab==="bibles"&&s.jsx(Bb,{translations:f.translations,state:f,dispatch:u,onLoadData:h,showStatus:m,activeTranslationId:o}),f.activeTab==="library"&&s.jsx(Ub,{collections:f.collections,plans:f.plans,hasTSK:f.hasTSK,onLoadData:h,showStatus:m,onEditCollection:()=>u({type:"SET_TAB",payload:"tools"}),onMemorizeCollection:x=>u({type:"NAVIGATE_TO_TOOL",payload:{tool:"memorize",collection:x}}),dispatch:u}),f.activeTab==="media"&&s.jsx(Gb,{visuals:f.visuals,audioFiles:f.audioFiles,state:f,dispatch:u,onLoadData:h,showStatus:m}),f.activeTab==="tools"&&s.jsx(qb,{collections:f.collections,translations:f.translations,onLoadData:h,showStatus:m,onSwitchToLibrary:()=>u({type:"SET_TAB",payload:"library"}),activeTranslationId:o,activeToolTab:f.activeToolTab,setActiveToolTab:x=>u({type:"SET_TOOL_TAB",payload:x}),selectedToolCollection:f.selectedToolCollection,setSelectedToolCollection:x=>u({type:"SET_TOOL_COLLECTION",payload:x})})]})]})}const Kb=({greeting:r,verseOfTheDay:o,votdBackground:f,currentBook:u,currentChapter:h,translations:m,activePlan:x,onNavigateRead:C,onStartPlanSession:j,annotations:g,recentAnnotationsPreview:B,onNavigateToVerse:A,onNavigateAnnotations:k,getVerseText:_,setActiveTab:T})=>s.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsxs("h1",{className:"text-3xl sm:text-4xl font-serif font-bold text-brand",children:[r,"."]}),s.jsx("p",{className:"opacity-60 text-sm sm:text-base",children:"Ready to study Divine Words today?"})]}),o?s.jsxs("div",{className:"relative rounded-xl overflow-hidden shadow-xl group min-h-[200px] flex items-center justify-center bg-card border border-border",children:[f&&s.jsxs("div",{className:"absolute inset-0 z-0",children:[s.jsx("img",{src:f.data,className:"w-full h-full object-cover transition-transform duration-[20s] ease-linear group-hover:scale-110",alt:"background"}),s.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-[1px]"})]}),s.jsxs("div",{className:"relative z-10 p-6 sm:p-10 text-center max-w-2xl mx-auto",children:[s.jsx("span",{className:"inline-block px-3 py-1 rounded-full bg-brand/20 text-brand text-[10px] font-bold uppercase tracking-widest mb-4 border border-brand/30 backdrop-blur-sm",children:"Verse of the Day"}),s.jsxs("h2",{className:"font-serif text-xl sm:text-3xl leading-relaxed text-white text-shadow mb-4",children:['"',o.verse.text,'"']}),s.jsxs("div",{className:"flex items-center justify-center gap-2 text-white/80 font-mono text-xs sm:text-sm",children:[s.jsx("span",{className:"font-bold",children:o.verse.reference}),s.jsx("span",{children:""}),s.jsx("span",{className:"opacity-70",children:o.translationName})]})]})]}):s.jsxs("div",{className:"p-8 border-2 border-dashed border-border rounded-xl text-center bg-card/30",children:[s.jsx("h3",{className:"text-xl font-bold mb-2",children:"Welcome to Divine Words"}),s.jsx("p",{className:"opacity-70 mb-4 text-sm",children:"To see a Verse of the Day and start reading, please install a Bible translation."}),s.jsx("button",{onClick:()=>T("library"),className:"px-6 py-2 bg-brand text-white font-bold rounded shadow hover:opacity-90 transition-colors",children:"Go to Library"})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsxs("button",{onClick:C,disabled:m.length===0,className:"w-full p-6 bg-card border border-border rounded-xl text-left hover:border-brand transition-all group shadow-sm disabled:opacity-50 disabled:cursor-not-allowed flex justify-between items-center",children:[s.jsxs("div",{className:"flex gap-4 items-center",children:[s.jsx("div",{className:"p-3 bg-brand/10 text-brand rounded-lg group-hover:bg-brand group-hover:text-white transition-colors",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold group-hover:text-brand transition-colors",children:"Resume Reading"}),s.jsx("p",{className:"text-sm opacity-60",children:u?`Continue at ${u} ${h}`:"Read the scriptures"})]})]}),s.jsx("svg",{className:"w-6 h-6 opacity-30 group-hover:opacity-100 group-hover:translate-x-1 transition-all",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})]}),x&&s.jsxs("div",{className:"p-4 bg-gradient-to-r from-card to-bg border border-border rounded-xl shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-10 h-10 bg-brand/10 rounded-full flex items-center justify-center text-brand",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs uppercase font-bold text-brand tracking-wider",children:"Today's Plan"}),s.jsx("h3",{className:"font-bold",children:x.title})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-xs opacity-60",children:["Session ",x.currentDayIndex+1," of ",x.days.length]}),x.currentDayIndex<x.days.length?s.jsxs("button",{onClick:()=>j(x),className:"px-4 py-2 bg-brand text-white text-sm font-bold rounded-lg shadow hover:opacity-90",children:["Read ",x.days[x.currentDayIndex].references.length," Passages"]}):s.jsx("span",{className:"text-green-500 font-bold text-sm",children:"Completed!"})]})]})]}),s.jsxs("div",{className:"pt-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5 text-brand",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Recent Insights"]}),g.length>0&&s.jsx("button",{onClick:k,className:"text-xs font-bold uppercase tracking-wider text-brand hover:underline",children:"View All"})]}),B.length===0?s.jsxs("div",{className:"text-center py-8 opacity-50 italic bg-card/30 rounded-xl border border-dashed border-border",children:[s.jsx("p",{className:"text-sm",children:"No highlights yet."}),s.jsx("p",{className:"text-xs mt-1",children:"Tap a verse while reading to save it here."})]}):s.jsxs("div",{className:"space-y-3",children:[B.map(E=>s.jsxs("div",{onClick:()=>A(E.book,E.chapter,E.verse),className:"p-3 bg-card border border-border rounded-lg hover:border-brand cursor-pointer transition-colors group",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[E.color&&s.jsx("div",{className:"w-2.5 h-2.5 rounded-full shrink-0",style:{backgroundColor:E.color}}),s.jsxs("span",{className:"font-bold text-sm text-brand",children:[E.book," ",E.chapter,":",E.verse]})]}),s.jsx("span",{className:"text-[10px] opacity-40 font-mono",children:new Date(E.updatedAt).toLocaleDateString()})]}),s.jsxs("p",{className:"text-sm font-serif italic opacity-80 line-clamp-3 mb-2",children:['"',_(E.book,E.chapter,E.verse),'"']}),E.note&&s.jsxs("p",{className:"text-xs opacity-60 font-sans border-t border-border/50 pt-2 mt-1 line-clamp-2",children:[s.jsx("span",{className:"font-bold opacity-70 mr-1",children:"Note:"})," ",E.note]})]},E.id)),s.jsx("button",{onClick:k,className:"w-full py-2 text-xs font-bold opacity-50 hover:opacity-100 hover:bg-card rounded transition-colors",children:"View Journal History"})]})]})]}),Jb=({isLoggedIn:r,isSyncing:o,onSync:f,onLogin:u,onNavigateDataManager:h,collections:m,onNavigateCollection:x})=>s.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[s.jsxs("div",{className:"flex justify-between items-center border-b border-border pb-4",children:[s.jsx("h1",{className:"text-2xl font-bold font-serif",children:"Library"}),s.jsx("div",{className:"flex items-center gap-2",children:r?s.jsxs("button",{onClick:f,disabled:o,className:"flex items-center gap-2 px-3 py-1.5 bg-card border border-border rounded-lg text-xs font-bold hover:border-brand transition-all disabled:opacity-50",children:[o?s.jsx("div",{className:"w-3 h-3 border-2 border-brand border-t-transparent rounded-full animate-spin"}):s.jsx("svg",{className:"w-4 h-4 text-brand",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),s.jsx("span",{children:o?"Syncing...":"Sync"})]}):s.jsxs("button",{onClick:u,className:"flex items-center gap-2 px-3 py-1.5 bg-blue-600 text-white rounded-lg text-xs font-bold hover:bg-blue-500 shadow-sm transition-all",children:[s.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"})}),s.jsx("span",{children:"Connect"})]})})]}),s.jsxs("button",{onClick:h,className:"w-full p-4 bg-blue-900/10 border border-blue-900/30 rounded-xl text-left hover:bg-blue-900/20 transition-all group flex gap-4 items-center",children:[s.jsx("div",{className:"p-3 bg-blue-500 text-white rounded-lg",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4"})})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-blue-400",children:"Open Data Manager"}),s.jsx("p",{className:"text-sm opacity-60",children:"Import Bibles, Manage Plans, Extract References"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg mb-3",children:"Your Collections"}),m.length===0?s.jsx("div",{className:"text-center py-6 opacity-50 text-sm bg-card border border-border rounded-lg border-dashed",children:"No collections yet. Use Data Manager to create one."}):s.jsx("div",{className:"grid gap-3",children:m.map(C=>s.jsxs("div",{onClick:()=>x(C.name),className:"flex items-center justify-between p-3 bg-card border border-border rounded-lg cursor-pointer hover:border-brand transition-colors group",children:[s.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-bg flex items-center justify-center text-xs font-bold opacity-50 group-hover:bg-brand group-hover:text-white transition-colors",children:C.name.charAt(0).toUpperCase()}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"font-bold text-sm truncate",children:C.name}),s.jsxs("div",{className:"text-xs opacity-50",children:[C.verses.length," verses"]})]})]}),s.jsx("svg",{className:"w-4 h-4 opacity-30 group-hover:opacity-100 group-hover:text-brand",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})]},C.name))})]})]}),$b=({onNavigateSettings:r,onNavigateHelp:o,onNavigateAbout:f})=>s.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[s.jsx("h1",{className:"text-2xl font-bold font-serif border-b border-border pb-4",children:"Menu"}),s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsxs("button",{onClick:r,className:"p-4 bg-card border border-border rounded-xl flex items-center justify-between hover:border-brand transition-colors group",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-2 bg-bg rounded-lg group-hover:bg-brand group-hover:text-white transition-colors",children:s.jsxs("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),s.jsx("span",{className:"font-bold",children:"Settings"})]}),s.jsx("svg",{className:"w-5 h-5 opacity-30",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})]}),s.jsxs("button",{onClick:o,className:"p-4 bg-card border border-border rounded-xl flex items-center justify-between hover:border-brand transition-colors group",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-2 bg-bg rounded-lg group-hover:bg-brand group-hover:text-white transition-colors",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsx("span",{className:"font-bold",children:"Help & Guide"})]}),s.jsx("svg",{className:"w-5 h-5 opacity-30",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})]}),s.jsxs("button",{onClick:f,className:"p-4 bg-card border border-border rounded-xl flex items-center justify-between hover:border-brand transition-colors group",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-2 bg-bg rounded-lg group-hover:bg-brand group-hover:text-white transition-colors",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsx("span",{className:"font-bold",children:"About App"})]}),s.jsx("svg",{className:"w-5 h-5 opacity-30",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})]})]})]}),Wb=Ce.memo(({activeTab:r,setActiveTab:o,translations:f,collections:u,visuals:h,annotations:m,currentBook:x,currentChapter:C,onNavigateRead:j,onNavigateDataManager:g,onNavigateCollection:B,onNavigateToVerse:A,onNavigateAnnotations:k,onNavigateSettings:_,onNavigateHelp:T,onNavigateAbout:E,getVerseText:y,onStartPlanSession:w,isLoggedIn:Z,isSyncing:X,onSync:K,onLogin:J})=>{const[ee,H]=L.useState("Welcome"),[se,re]=L.useState([]);L.useEffect(()=>{const z=new Date().getHours();z<12?H("Good Morning"):z<18?H("Good Afternoon"):H("Good Evening"),Ge()},[]);const Ge=async()=>{const z=await F.getPlans();re(z)},we=L.useMemo(()=>{if(f.length===0)return null;const z=f[0],$=z.verses;if($.length===0)return null;const P=new Date,be=new Date(P.getFullYear(),0,0),he=P.getTime()-be.getTime()+(be.getTimezoneOffset()-P.getTimezoneOffset())*60*1e3,p=1e3*60*60*24,S=(Math.floor(he/p)*31+17)%$.length;return{verse:$[S],translationName:z.displayName}},[f]),Se=L.useMemo(()=>{if(h.length===0)return null;const z=Math.floor(Math.random()*h.length);return h[z]},[h]),Ve=se.length>0?se[0]:null,Re=L.useMemo(()=>[...m].sort((z,$)=>$.updatedAt-z.updatedAt).slice(0,3),[m]),qe=()=>{switch(r){case"today":return s.jsx(Kb,{greeting:ee,verseOfTheDay:we,votdBackground:Se,currentBook:x,currentChapter:C,translations:f,activePlan:Ve,onNavigateRead:j,onStartPlanSession:w,annotations:m,recentAnnotationsPreview:Re,onNavigateToVerse:A,onNavigateAnnotations:k,getVerseText:y,setActiveTab:o});case"library":return s.jsx(Jb,{isLoggedIn:Z,isSyncing:X,onSync:K,onLogin:J,onNavigateDataManager:g,collections:u,onNavigateCollection:B});case"menu":return s.jsx($b,{onNavigateSettings:_,onNavigateHelp:T,onNavigateAbout:E})}};return s.jsxs("div",{className:"min-h-screen bg-bg text-text pt-20 pb-24 font-sans max-w-5xl mx-auto px-4 sm:px-6 relative",children:[qe(),s.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-card border-t border-border z-40 pb-safe",children:s.jsxs("div",{className:"flex justify-around items-center max-w-5xl mx-auto",children:[s.jsxs("button",{onClick:()=>o("today"),className:`flex flex-col items-center justify-center p-3 w-full transition-colors ${r==="today"?"text-brand":"text-text opacity-50 hover:opacity-80"}`,children:[s.jsx("svg",{className:"w-6 h-6 mb-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),s.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider",children:"Today"})]}),s.jsxs("button",{onClick:()=>o("library"),className:`flex flex-col items-center justify-center p-3 w-full transition-colors ${r==="library"?"text-brand":"text-text opacity-50 hover:opacity-80"}`,children:[s.jsx("svg",{className:"w-6 h-6 mb-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),s.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider",children:"Library"})]}),s.jsxs("button",{onClick:()=>o("menu"),className:`flex flex-col items-center justify-center p-3 w-full transition-colors ${r==="menu"?"text-brand":"text-text opacity-50 hover:opacity-80"}`,children:[s.jsx("svg",{className:"w-6 h-6 mb-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})}),s.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider",children:"Menu"})]})]})})]})});function Fb({annotations:r,getVerseText:o,onNavigateToVerse:f,onBack:u}){const[h,m]=L.useState("newest"),[x,C]=L.useState(!0),[j,g]=L.useState(null),B=L.useMemo(()=>{const _=new Set;return r.forEach(T=>{T.color&&_.add(T.color)}),Array.from(_)},[r]),A=L.useMemo(()=>{let _=[...r];j&&(_=_.filter(E=>E.color===j)),_.sort((E,y)=>{const w=E.book.localeCompare(y.book);return w!==0?w:E.chapter!==y.chapter?E.chapter-y.chapter:E.verse-y.verse});const T=[];if(_.length>0){let E=[_[0]];for(let y=1;y<_.length;y++){const w=E[E.length-1],Z=_[y],X=Z.book===w.book&&Z.chapter===w.chapter&&Z.verse===w.verse+1,K=Z.color===w.color;X&&K?E.push(Z):(T.push(k(E)),E=[Z])}T.push(k(E))}return T.sort((E,y)=>{switch(h){case"newest":return y.updatedAt-E.updatedAt;case"oldest":return E.updatedAt-y.updatedAt;case"book":const w=E.book.localeCompare(y.book);return w!==0?w:E.chapter-y.chapter||E.startVerse-y.startVerse;case"color":return(E.color||"").localeCompare(y.color||"");default:return 0}}),T},[r,h,j]);function k(_){const E=_.map(w=>w.note).filter(w=>w&&w.trim().length>0).join(`

`),y=Math.max(..._.map(w=>w.updatedAt));return{id:_[0].id,annotations:_,color:_[0].color,book:_[0].book,chapter:_[0].chapter,startVerse:_[0].verse,endVerse:_[_.length-1].verse,updatedAt:y,mergedNote:E}}return s.jsxs("div",{className:"min-h-screen bg-bg text-text p-2 sm:p-6 max-w-5xl mx-auto font-sans animate-in fade-in duration-300 pt-20",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6 border-b border-border pb-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-serif font-bold text-brand",children:"My Annotations"}),s.jsxs("p",{className:"text-sm opacity-60",children:[A.length," entries found",A.length!==r.length&&` (merged from ${r.length} verses)`]})]}),s.jsx("button",{onClick:u,className:"px-3 py-1.5 sm:px-4 sm:py-2 rounded border border-border hover:bg-card hover:text-brand transition-colors text-xs sm:text-sm font-bold",children:" Back"})]}),s.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row gap-4 justify-between bg-card p-4 rounded-lg border border-border",children:[s.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"text-[10px] uppercase font-bold opacity-50",children:"Sort Order"}),s.jsxs("select",{value:h,onChange:_=>m(_.target.value),className:"bg-bg border border-border rounded p-1.5 text-sm focus:border-brand outline-none",children:[s.jsx("option",{value:"newest",children:"Newest First"}),s.jsx("option",{value:"oldest",children:"Oldest First"}),s.jsx("option",{value:"book",children:"Book (A-Z)"}),s.jsx("option",{value:"color",children:"Color Group"})]})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"text-[10px] uppercase font-bold opacity-50",children:"Content"}),s.jsx("button",{onClick:()=>C(!x),className:`px-3 py-1.5 rounded border text-sm font-bold transition-colors ${x?"bg-brand text-white border-brand":"bg-bg border-border text-text"}`,children:x?"Hide Scripture":"Show Scripture"})]})]}),B.length>0&&s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"text-[10px] uppercase font-bold opacity-50",children:"Filter by Color"}),s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx("button",{onClick:()=>g(null),className:`w-6 h-6 rounded-full border flex items-center justify-center ${j===null?"border-brand ring-1 ring-brand":"border-border bg-bg"}`,title:"All",children:s.jsx("span",{className:"text-xs font-bold opacity-50",children:"All"})}),B.map(_=>s.jsx("button",{onClick:()=>g(_===j?null:_),className:`w-6 h-6 rounded-full border shadow-sm transition-transform ${j===_?"scale-125 border-text":"border-transparent"}`,style:{backgroundColor:_}},_))]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:A.length===0?s.jsx("div",{className:"col-span-full text-center py-12 opacity-50 italic border-2 border-dashed border-border rounded-xl",children:"No annotations match your criteria."}):A.map(_=>{const T=_.startVerse!==_.endVerse,E=`${_.book} ${_.chapter}:${_.startVerse}${T?"-"+_.endVerse:""}`;return s.jsxs("div",{onClick:()=>f(_.book,_.chapter,_.startVerse),className:"bg-card border border-border rounded-lg p-4 hover:border-brand cursor-pointer group transition-all",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[_.color&&s.jsx("div",{className:"w-3 h-3 rounded-full shrink-0",style:{backgroundColor:_.color}}),s.jsx("h3",{className:"font-bold text-brand font-serif",children:E})]}),s.jsx("span",{className:"text-[10px] opacity-40 font-mono",children:new Date(_.updatedAt).toLocaleDateString()})]}),x&&s.jsx("div",{className:"mb-3 p-2 bg-bg/50 rounded border-l-2 border-brand/50 text-sm font-serif italic opacity-80 space-y-2",children:_.annotations.map(y=>s.jsxs("div",{className:"block",children:[s.jsx("sup",{className:"text-[0.6em] mr-1 opacity-60 font-bold",children:y.verse}),o(y.book,y.chapter,y.verse)]},y.verse))}),_.mergedNote?s.jsx("p",{className:"text-sm opacity-90 leading-relaxed whitespace-pre-wrap",children:_.mergedNote}):s.jsx("p",{className:"text-xs opacity-40 italic",children:"No additional note."})]},_.id)})}),s.jsx("div",{className:"mt-8 text-center",children:s.jsx("p",{className:"text-xs opacity-30",children:"End of list"})})]})}function Ib({onBack:r}){return s.jsxs("div",{className:"min-h-screen bg-bg text-text p-4 sm:p-6 max-w-3xl mx-auto font-sans animate-in fade-in duration-300 pt-20",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8 border-b border-border pb-4",children:[s.jsx("h1",{className:"text-3xl font-serif font-bold text-brand",children:"About Divine Words"}),s.jsx("button",{onClick:r,className:"px-4 py-2 rounded border border-border hover:bg-card hover:text-brand transition-colors text-sm font-bold",children:" Back"})]}),s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 shadow-sm",children:[s.jsx("h2",{className:"text-xl font-bold mb-3",children:"The Mission"}),s.jsx("p",{className:"opacity-80 leading-relaxed",children:"Divine Words is an offline-first, privacy-focused Bible study tool. It was designed to help users curate collections of scripture and study them deeply without relying on an internet connection."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-card border border-border rounded-xl p-6",children:[s.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5 text-brand",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})}),"Engineering & Architecture"]}),s.jsx("p",{className:"text-sm opacity-70 mb-2",children:"Designed and conceptualized by:"}),s.jsx("p",{className:"font-bold text-lg",children:"The Developer"}),s.jsx("p",{className:"text-xs opacity-50 mt-4",children:"Built with React, TypeScript, and IndexedDB."})]}),s.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:s.jsx("svg",{className:"w-24 h-24",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"})})}),s.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5 text-brand",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"})}),"AI Collaboration"]}),s.jsx("p",{className:"text-sm opacity-70 mb-2",children:"Code generation and technical assistance provided by:"}),s.jsx("p",{className:"font-bold text-lg bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:"Google Gemini"}),s.jsx("p",{className:"text-xs opacity-50 mt-4",children:"Powered by Google's large language models."})]})]}),s.jsxs("div",{className:"text-center pt-8 opacity-40",children:[s.jsx("p",{className:"font-mono text-xs",children:"Divine Words v1.0.0"}),s.jsxs("p",{className:"text-[10px] mt-1",children:[" ",new Date().getFullYear()," All Rights Reserved."]})]})]})]})}const oi=({id:r,title:o,children:f,isOpen:u,onToggle:h})=>s.jsxs("div",{className:"border border-border rounded-lg bg-card overflow-hidden",children:[s.jsxs("button",{onClick:h,className:"w-full flex justify-between items-center p-4 text-left font-bold hover:bg-bg transition-colors",children:[s.jsx("span",{children:o}),s.jsx("span",{className:`transform transition-transform ${u?"rotate-180":""}`,children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]}),u&&s.jsx("div",{className:"p-4 pt-0 text-sm opacity-80 leading-relaxed border-t border-border/50 mt-2",children:f})]});function Pb({onBack:r}){const[o,f]=L.useState("getting-started"),u=h=>f(o===h?null:h);return s.jsxs("div",{className:"min-h-screen bg-bg text-text p-4 sm:p-6 max-w-3xl mx-auto font-sans animate-in fade-in duration-300 pt-20",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8 border-b border-border pb-4",children:[s.jsx("h1",{className:"text-3xl font-serif font-bold text-brand",children:"Help & Guide"}),s.jsx("button",{onClick:r,className:"px-4 py-2 rounded border border-border hover:bg-card hover:text-brand transition-colors text-sm font-bold",children:" Back"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs(oi,{id:"getting-started",title:"Getting Started",isOpen:o==="getting-started",onToggle:()=>u("getting-started"),children:[s.jsxs("p",{className:"mb-2",children:[s.jsx("strong",{children:"Divine Words"})," does not come with Bibles pre-installed to respect copyright and keep the app lightweight. You have two options:"]}),s.jsxs("ol",{className:"list-decimal list-inside space-y-1 ml-2",children:[s.jsxs("li",{children:["Go to ",s.jsx("strong",{children:"Settings  Data Manager  Bibles"}),"."]}),s.jsxs("li",{children:["Click ",s.jsx("strong",{children:"Download Online"})," to browse the GitHub repository for Zefania XML Bibles (public domain)."]}),s.jsxs("li",{children:["Alternatively, if you have a ",s.jsx("code",{children:".xml"})," Bible file, click ",s.jsx("strong",{children:"Import XML"}),"."]})]})]}),s.jsxs(oi,{id:"reading",title:"Reading & Annotating",isOpen:o==="reading",onToggle:()=>u("reading"),children:[s.jsxs("p",{className:"mb-2",children:[s.jsx("strong",{children:"Navigation:"})," Use the dropdowns in the top bar to select Book and Chapter. Use the arrows at the bottom of the page to change chapters."]}),s.jsxs("p",{className:"mb-2",children:[s.jsx("strong",{children:"Quick Highlight:"})," Tap any verse to bring up the ",s.jsx("strong",{children:"Quick Action Tray"})," at the bottom of the screen. Tap a color dot to highlight immediately."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Notes:"}),' In the Action Tray, click "Add Note" to open a detailed editor where you can write thoughts and change colors.']})]}),s.jsxs(oi,{id:"collections",title:"Collections & Extraction",isOpen:o==="collections",onToggle:()=>u("collections"),children:[s.jsx("p",{className:"mb-2",children:"Collections allow you to group specific verses for study."}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2 mb-2",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Manual:"}),' In Reader mode, switch view to "Collection", then create a new one. (Currently, the best way is via the Extractor).']}),s.jsxs("li",{children:[s.jsx("strong",{children:"Extractor Tool:"})," Go to ",s.jsx("strong",{children:"Data Manager  Tools"}),'. Paste any text (like a sermon manuscript or blog post). The tool will find all Bible references (e.g., "John 3:16") and create a collection for you automatically.']})]})]}),s.jsx(oi,{id:"data-privacy",title:"Data & Privacy",isOpen:o==="data-privacy",onToggle:()=>u("data-privacy"),children:s.jsxs("p",{children:["Divine Words is an ",s.jsx("strong",{children:"Offline-First"})," application. All your Bibles, notes, and collections are stored in your browser's database (IndexedDB). No data is sent to any external server. If you clear your browser data, you may lose your annotations unless you backup via the Data Manager export features."]})})]})]})}const ep=({currentTheme:r,onThemeChange:o,fontSize:f,onFontSizeChange:u,verseLayout:h,onVerseLayoutChange:m,slideshowEnabled:x,onSlideshowToggle:C,slideshowInterval:j,onSlideshowIntervalChange:g,overlayOpacity:B,onOverlayOpacityChange:A})=>s.jsxs("section",{className:"py-4",children:[s.jsx("h2",{className:"text-lg font-bold mb-4 uppercase tracking-wider opacity-80",children:"Appearance"}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"text-sm font-bold mb-2 block",children:"Theme"}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:Object.values(Jt).map(k=>s.jsx("button",{onClick:()=>o(k),className:`px-2 py-2 text-xs rounded border transition-colors capitalize
                                ${r===k?"border-brand text-brand font-bold bg-brand/10":"border-border text-text/70 hover:border-brand/50"}
                            `,children:k.replace("_"," ")},k))})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"text-sm font-bold mb-2 block",children:"Layout"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>m("block"),className:`flex-1 py-2 text-xs border rounded transition-colors ${h==="block"?"border-brand text-brand font-bold bg-brand/10":"border-border text-text/70"}`,children:"Verse-by-Verse"}),s.jsx("button",{onClick:()=>m("paragraph"),className:`flex-1 py-2 text-xs border rounded transition-colors ${h==="paragraph"?"border-brand text-brand font-bold bg-brand/10":"border-border text-text/70"}`,children:"Paragraph"})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("label",{className:"text-sm font-bold mb-2 block",children:["Font Size: ",f,"px"]}),s.jsx("input",{type:"range",min:"12",max:"32",step:"2",value:f,onChange:k=>u(Number(k.target.value)),className:"w-full accent-brand h-1 bg-border rounded-lg appearance-none cursor-pointer"})]}),s.jsxs("div",{className:"pt-4 border-t border-border",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("label",{className:"text-sm font-bold",children:"Slideshow Mode"}),s.jsx("input",{type:"checkbox",checked:x,onChange:k=>C(k.target.checked),className:"accent-brand w-5 h-5"})]}),x&&s.jsxs("div",{className:"space-y-4 pl-2 border-l-2 border-border/50",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"text-xs font-bold block mb-1",children:["Interval: ",j,"s"]}),s.jsx("input",{type:"range",min:"10",max:"600",step:"10",value:j,onChange:k=>g(Number(k.target.value)),className:"w-full accent-brand h-1 bg-border rounded-lg appearance-none cursor-pointer"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-xs font-bold block mb-1",children:["Opacity: ",Math.round(B*100),"%"]}),s.jsx("input",{type:"range",min:"0",max:"1",step:"0.05",value:B,onChange:k=>A(Number(k.target.value)),className:"w-full accent-brand h-1 bg-border rounded-lg appearance-none cursor-pointer"})]})]})]})]}),tp=({audioSettings:r,onAudioSettingsChange:o,bgmAssets:f,sfxAssets:u})=>s.jsxs("section",{className:"py-4",children:[s.jsx("h2",{className:"text-lg font-bold mb-4 uppercase tracking-wider opacity-80",children:"Audio"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("label",{className:"text-sm font-bold",children:"Background Music"}),s.jsx("input",{type:"checkbox",checked:r.bgmEnabled,onChange:h=>o({bgmEnabled:h.target.checked}),className:"accent-brand w-5 h-5"})]}),r.bgmEnabled&&s.jsx("div",{className:"space-y-3 pl-2 border-l-2 border-border/50 mt-2",children:f.length===0?s.jsx("p",{className:"text-xs text-red-400",children:"No tracks. Import via Data Manager."}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx("select",{value:r.activeBgmId||"",onChange:h=>o({activeBgmId:h.target.value}),className:"flex-1 bg-bg border border-border rounded p-1.5 text-xs",children:f.map(h=>s.jsx("option",{value:h.id,children:h.name},h.id))}),s.jsx("button",{onClick:()=>o({bgmMode:r.bgmMode==="repeat"?"shuffle":"repeat"}),className:"px-2 py-1.5 rounded border border-border text-xs uppercase font-bold",children:r.bgmMode})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-xs font-bold block mb-1",children:["Volume: ",Math.round(r.bgmVolume*100),"%"]}),s.jsx("input",{type:"range",min:"0",max:"1",step:"0.05",value:r.bgmVolume,onChange:h=>o({bgmVolume:Number(h.target.value)}),className:"w-full accent-brand h-1 bg-border rounded-lg appearance-none cursor-pointer"})]})]})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("label",{className:"text-sm font-bold",children:"Verse Click SFX"}),s.jsx("input",{type:"checkbox",checked:r.sfxEnabled,onChange:h=>o({sfxEnabled:h.target.checked}),className:"accent-brand w-5 h-5"})]}),r.sfxEnabled&&s.jsx("div",{className:"space-y-3 pl-2 border-l-2 border-border/50 mt-2",children:u.length===0?s.jsx("p",{className:"text-xs text-red-400",children:"No SFX. Import via Data Manager."}):s.jsxs(s.Fragment,{children:[s.jsx("select",{value:r.activeSfxId||"",onChange:h=>o({activeSfxId:h.target.value}),className:"w-full bg-bg border border-border rounded p-1.5 text-xs",children:u.map(h=>s.jsx("option",{value:h.id,children:h.name},h.id))}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-xs font-bold block mb-1",children:["Volume: ",Math.round(r.sfxVolume*100),"%"]}),s.jsx("input",{type:"range",min:"0",max:"1",step:"0.05",value:r.sfxVolume,onChange:h=>o({sfxVolume:Number(h.target.value)}),className:"w-full accent-brand h-1 bg-border rounded-lg appearance-none cursor-pointer"})]})]})})]})]})]}),lp=({googleClientId:r,onClientIdChange:o,isLoggedInToGoogle:f,onGoogleLogin:u,onSync:h,isSyncing:m,syncStatus:x,originUrl:C,lastSyncTime:j,isManagedByEnv:g})=>s.jsxs("section",{className:"py-4",children:[s.jsx("h2",{className:"text-lg font-bold mb-4 uppercase tracking-wider opacity-80",children:"Cloud Sync (Google Drive)"}),s.jsxs("div",{className:"space-y-4",children:[r?s.jsxs("div",{className:"flex items-center justify-between border border-border rounded p-2",children:[s.jsxs("div",{className:"overflow-hidden mr-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"text-[10px] opacity-50 uppercase font-bold",children:"Client ID"}),g&&s.jsxs("span",{className:"text-[10px] bg-brand/10 text-brand px-1.5 py-0.5 rounded font-bold uppercase tracking-wider flex items-center gap-1",children:[s.jsx("svg",{className:"w-2 h-2",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 15h-2v-2h2v2zm0-4h-2V7h2v6z"})}),"Env Managed"]})]}),s.jsx("p",{className:"text-xs truncate font-mono opacity-80",children:g?"":r})]}),!g&&s.jsx("button",{onClick:()=>o(""),className:"text-xs text-red-400 border border-border hover:border-red-400 px-2 py-1 rounded",children:"Unlink"})]}):s.jsxs("div",{className:"p-3 border border-border rounded",children:[s.jsx("label",{className:"text-xs font-bold uppercase opacity-60 mb-2 block",children:"Google Client ID"}),s.jsx("input",{type:"text",placeholder:"Paste Client ID Here",className:"w-full bg-bg border border-border rounded p-2 text-sm mb-3 focus:border-brand focus:outline-none",value:r,onChange:B=>o(B.target.value)}),s.jsxs("div",{className:"text-xs text-text/60",children:[s.jsx("p",{className:"mb-1",children:"Required Origin URL:"}),s.jsx("code",{className:"block bg-black/10 p-1 rounded font-mono select-all break-all",children:C})]})]}),r&&!f&&s.jsx("button",{onClick:u,className:"w-full py-2 bg-white text-gray-800 font-bold text-sm rounded border border-gray-300 hover:bg-gray-100",children:"Sign in with Google"}),f&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-xs text-green-500 font-bold",children:[s.jsx("span",{children:"Connected"}),j&&s.jsxs("span",{children:["Last: ",j]})]}),x&&s.jsx("p",{className:"text-xs font-mono opacity-60",children:x}),s.jsx("button",{onClick:h,disabled:m,className:"w-full py-2 bg-brand text-white font-bold text-sm rounded hover:opacity-90 disabled:opacity-50",children:m?"Syncing...":"Sync Now"})]})]})]}),ap={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_GOOGLE_CLIENT_ID:"767326088498-h5ecfmq7q5vpl5vs17k4jikrucfuc7b5.apps.googleusercontent.com"};var ri={};function np({onBack:r,currentTheme:o,onThemeChange:f,fontSize:u,onFontSizeChange:h,verseLayout:m,onVerseLayoutChange:x,slideshowEnabled:C,onSlideshowToggle:j,slideshowInterval:g,onSlideshowIntervalChange:B,overlayOpacity:A,onOverlayOpacityChange:k,audioSettings:_,onAudioSettingsChange:T,ttsEnabled:E,onTTSToggle:y,googleClientId:w,onClientIdChange:Z,isLoggedInToGoogle:X,onGoogleLogin:K,onSync:J,isSyncing:ee,syncStatus:H,onNavigateDataManager:se,onNavigateHelp:re,onNavigateAbout:Ge}){const[we,Se]=L.useState(""),[Ve,Re]=L.useState([]),[qe,z]=L.useState(null);L.useEffect(()=>{Se(window.location.origin),F.getAudio().then(Re),F.getSetting("lastSyncTime",null).then(z)},[]),L.useEffect(()=>{if(H&&H.includes("successfully")){const p=new Date().toLocaleString();z(p),F.saveSetting("lastSyncTime",p)}},[H]);const $=async()=>{confirm("Are you sure? This will delete all translations, collections, and settings. This action cannot be undone.")&&(await F.deleteDatabase(),window.location.reload())},P=Ve.filter(p=>p.category==="bgm"),be=Ve.filter(p=>p.category==="sfx"),he=(()=>{try{if(typeof import.meta<"u"&&ap)return!0}catch{}try{if(typeof process<"u"&&ri&&(ri.REACT_APP_GOOGLE_CLIENT_ID||ri.GOOGLE_CLIENT_ID||ri.VITE_GOOGLE_CLIENT_ID))return!0}catch{}return!1})();return s.jsxs("div",{className:"min-h-screen bg-bg text-text p-4 sm:p-6 max-w-2xl mx-auto font-sans animate-in fade-in duration-300 pt-20 pb-20 relative z-10",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6 border-b border-border pb-4",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Settings"}),s.jsx("button",{onClick:r,className:"px-3 py-1.5 rounded border border-border hover:bg-white/5 transition-colors text-xs font-bold uppercase tracking-wider",children:"Back"})]}),s.jsxs("div",{className:"divide-y divide-border/50",children:[s.jsx(ep,{currentTheme:o,onThemeChange:f,fontSize:u,onFontSizeChange:h,verseLayout:m,onVerseLayoutChange:x,slideshowEnabled:C,onSlideshowToggle:j,slideshowInterval:g,onSlideshowIntervalChange:B,overlayOpacity:A,onOverlayOpacityChange:k}),s.jsx(tp,{audioSettings:_,onAudioSettingsChange:T,bgmAssets:P,sfxAssets:be}),s.jsx(lp,{googleClientId:w,onClientIdChange:Z,isLoggedInToGoogle:X,onGoogleLogin:K,onSync:J,isSyncing:ee,syncStatus:H,originUrl:we,lastSyncTime:qe,isManagedByEnv:he}),s.jsxs("section",{className:"py-6",children:[s.jsx("h2",{className:"text-lg font-bold mb-4 uppercase tracking-wider opacity-80",children:"Experimental"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-sm",children:"Text-to-Speech (TTS)"}),s.jsx("p",{className:"text-xs opacity-60",children:"Enable audio reading controls."})]}),s.jsx("input",{type:"checkbox",checked:E,onChange:p=>y(p.target.checked),className:"accent-brand w-5 h-5"})]})]}),s.jsxs("section",{className:"py-6 grid grid-cols-1 gap-3",children:[s.jsx("button",{onClick:se,className:"text-left font-bold text-sm hover:text-brand transition-colors",children:"Data Manager "}),s.jsx("button",{onClick:re,className:"text-left font-bold text-sm hover:text-brand transition-colors",children:"Help & Guide "}),s.jsx("button",{onClick:Ge,className:"text-left font-bold text-sm hover:text-brand transition-colors",children:"About Application "})]}),s.jsx("section",{className:"py-8 text-center",children:s.jsx("button",{onClick:$,className:"text-xs text-red-500 opacity-60 hover:opacity-100 uppercase tracking-wider font-bold border-b border-red-500/30 pb-0.5",children:"Factory Reset"})})]})]})}const sp=Ce.memo(({currentPage:r,isReaderActive:o,onNavigateBack:f,onResetToHome:u,viewMode:h,currentBook:m,currentChapter:x,availableBooks:C,availableChapters:j,activeCollectionName:g,collections:B,activePlanTitle:A,onBookChange:k,onChapterChange:_,onCollectionChange:T,onCompletePlanSession:E,onSearchClick:y,onMenuClick:w,ttsEnabled:Z,onToggleTTSPlayer:X})=>{const K=!o&&r==="home";return s.jsxs("header",{className:`fixed top-0 w-full h-14 sm:h-16 z-50 flex items-center justify-between px-2 sm:px-4 lg:px-6 transition-all duration-300 ${K?"bg-bg/80 border-b border-transparent backdrop-blur-[2px]":"bg-bg/95 backdrop-blur-md border-b border-border shadow-sm"}`,children:[s.jsx("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:o?s.jsxs("button",{onClick:f,className:"p-1.5 rounded hover:bg-card text-brand flex items-center gap-1 font-bold text-xs uppercase",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})}),s.jsx("span",{className:"hidden sm:inline",children:"Back"})]}):s.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:u,children:[s.jsx("div",{className:"w-8 h-8 bg-brand rounded-lg flex items-center justify-center text-white font-serif font-bold text-lg shadow-sm",children:"D"}),s.jsx("span",{className:"font-serif font-bold text-lg text-brand hidden md:block",children:"Divine Words"})]})}),o&&s.jsxs("div",{className:"flex items-center justify-center gap-2 flex-[2]",children:[h==="bible"&&s.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 max-w-full",children:[s.jsx("select",{className:"bg-card border border-border text-text text-xs sm:text-sm font-bold rounded-lg p-1.5 focus:border-brand outline-none max-w-[100px] sm:max-w-[140px] truncate",value:m,onChange:J=>k(J.target.value),children:C.map(J=>s.jsx("option",{value:J,children:J},J))}),s.jsx("select",{className:"bg-card border border-border text-text text-xs sm:text-sm font-bold rounded-lg p-1.5 focus:border-brand outline-none",value:x,onChange:J=>_(Number(J.target.value)),children:j.map(J=>s.jsx("option",{value:J,children:J},J))})]}),h==="collection"&&s.jsx("div",{className:"flex items-center max-w-full",children:s.jsxs("select",{className:"bg-card border border-border text-text text-xs sm:text-sm font-bold rounded-lg p-1.5 focus:border-brand outline-none max-w-[150px] sm:max-w-[240px] truncate",value:g||"",onChange:J=>T(J.target.value),children:[s.jsx("option",{value:"",disabled:!0,children:"Select Collection"}),B.length===0&&s.jsx("option",{value:"",disabled:!0,children:"Empty"}),B.map(J=>s.jsx("option",{value:J.name,children:J.name},J.name))]})}),h==="plan"&&A&&s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"text-xs font-bold text-brand uppercase tracking-wider mb-0.5",children:"Reading Plan"}),s.jsx("div",{className:"font-bold text-sm truncate max-w-[200px]",children:A})]})]}),s.jsx("div",{className:"flex items-center gap-1 sm:gap-2 flex-1 justify-end",children:o&&h==="plan"&&E?s.jsxs("button",{onClick:E,className:"flex items-center gap-1 px-3 py-1.5 bg-green-600 text-white rounded-lg text-xs font-bold hover:bg-green-500 shadow-sm",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),s.jsx("span",{className:"hidden sm:inline",children:"Finish"})]}):s.jsxs(s.Fragment,{children:[o&&Z&&s.jsx("button",{onClick:X,className:"p-2 rounded-full hover:bg-card text-text/70 hover:text-brand transition-colors",title:"Text-to-Speech",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"})})}),s.jsx("button",{onClick:y,className:"p-2 rounded-full hover:bg-card text-text/70 hover:text-brand transition-colors",title:"Search",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),s.jsx("button",{onClick:w,className:"p-2 rounded-full hover:bg-card text-text/70 hover:text-brand transition-colors",title:"Menu",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})})]})})]})}),Zn=L.memo(L.forwardRef(({verse:r,layout:o,fontSize:f,annotation:u,isActive:h,isSelected:m,showReference:x=!1,onClick:C},j)=>{const g=(u==null?void 0:u.note)&&u.note.trim().length>0,B=(u==null?void 0:u.color)||"var(--brand-color)",A=!!(u!=null&&u.color)||h;if(o==="paragraph"){const T=A?{backgroundColor:h?"var(--brand-color-rgb, 220, 20, 60)":`${B}40`}:{};return s.jsxs("span",{ref:j,onClick:E=>{E.stopPropagation(),C(r)},className:`
                    relative inline transition-all cursor-pointer rounded px-0.5 box-decoration-clone 
                    ${m?"ring-1 ring-white/20 bg-white/10":"hover:bg-black/5"}
                `,style:{fontSize:`${f}px`,...T},children:[s.jsx("sup",{className:"text-[0.6em] font-sans font-bold text-brand opacity-50 select-none mr-1",children:r._verse}),s.jsx("span",{className:"font-serif leading-relaxed",children:r.text})," ",g&&s.jsx("span",{className:"inline-block align-top text-brand opacity-60 ml-0.5",children:s.jsx("svg",{className:"w-2 h-2",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z"})})})]})}const k=A&&h?"bg-brand/5":void 0,_={fontSize:`${f}px`,backgroundColor:A&&!h?`${B}30`:void 0};return s.jsxs("div",{ref:j,onClick:()=>C(r),className:`
                group relative rounded transition-all duration-500 cursor-pointer flex gap-3
                ${h?"border-l-4 border-brand pl-4 scale-[1.02] origin-left shadow-md py-4 my-2":"border-l-4 border-transparent pl-4 py-1.5 sm:py-2 hover:bg-black/5"}
                ${m?"bg-white/10 ring-1 ring-white/20":""}
                ${k}
            `,style:_,children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("span",{className:`
                    text-[10px] sm:text-xs font-mono select-none mr-2 align-top inline-block w-4 sm:w-6 text-right
                    ${h?"text-brand font-bold opacity-100":"text-brand opacity-30 group-hover:opacity-100"}
                `,children:r._verse}),x&&s.jsx("div",{className:"text-[10px] sm:text-xs font-bold opacity-40 mb-1 ml-6 sm:ml-8",children:r.reference}),s.jsx("p",{className:"font-serif leading-relaxed text-text inline",children:r.text})]}),g&&s.jsx("span",{className:"shrink-0 pt-1 text-brand opacity-60",children:s.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z"})})})]})})),ip=({currentVerse:r,translations:o,annotations:f,fontSize:u,onVerseClick:h,getAnnotationId:m})=>{const x=L.useMemo(()=>{if(!r)return[];const j=o.find(B=>B.verses.includes(r));if(j)return j.verses.filter(B=>B._book===r._book&&B._chapter===r._chapter);const g=o[0];return g?g.verses.filter(B=>B._book===r._book&&B._chapter===r._chapter):[]},[r,o]),C=L.useRef(null);return L.useEffect(()=>{C.current&&C.current.scrollIntoView({behavior:"smooth",block:"center"})},[r]),r?s.jsxs("div",{className:"max-w-3xl mx-auto py-8 animate-in fade-in duration-500",children:[s.jsxs("div",{className:"text-center mb-10 border-b border-border pb-4",children:[s.jsxs("h2",{className:"text-2xl font-bold font-serif text-brand",children:[r._book," ",r._chapter]}),s.jsx("p",{className:"text-xs uppercase tracking-widest opacity-60 mt-1",children:"Context View"})]}),s.jsx("div",{className:"space-y-2",children:x.map((j,g)=>{const B=j._verse===r._verse,A=f[m(j)];return s.jsx(Zn,{ref:B?C:null,verse:j,layout:"block",fontSize:u,annotation:A,isActive:B,onClick:h},g)})}),s.jsx("div",{className:"text-center mt-12 mb-24 opacity-30 text-xs italic",children:"End of Chapter"})]}):null},cp=({viewMode:r,verseLayout:o,displayedVerses:f,translations:u=[],fontSize:h,annotations:m,quickActionVerse:x,timeModeConfig:C,timeIndex:j,onVerseClick:g,getAnnotationId:B,activeVerseIds:A=[]})=>{const k=L.useRef([]);L.useEffect(()=>{k.current=[]},[f]),L.useEffect(()=>{var y;if(!C.enabled||C.variant!=="full")return;let E=-1;A.length>0?E=f.findIndex(w=>A.includes(`${w._book}_${w._chapter}_${w._verse}`)):E=j,E!==-1&&k.current[E]&&((y=k.current[E])==null||y.scrollIntoView({behavior:"smooth",block:"center"}))},[A,j,C.enabled,C.variant,f]);const _=L.useMemo(()=>{const E=o==="paragraph"||C.enabled&&(C.variant==="entry"||C.variant==="multi");if(f.length===0||!E)return[];const y=[];let w=[],Z=0;for(let X=0;X<f.length;X++){const K=f[X],J=w[w.length-1],ee=J&&K._book===J._book&&K._chapter===J._chapter&&K._verse===J._verse+1;w.length===0||ee?w.push(K):(y.push({verses:w,id:`${w[0]._book}-${w[0]._chapter}-${w[0]._verse}`,startIndex:Z}),Z=X,w=[K])}return w.length>0&&y.push({verses:w,id:`${w[0]._book}-${w[0]._chapter}-${w[0]._verse}`,startIndex:Z}),y},[f,o,C.enabled,C.variant]);if(f.length===0)return s.jsx("div",{className:"text-center opacity-50 italic py-10",children:r==="collection"?"Please select a collection from the menu above.":"No verses found."});const T=(E,y)=>{if(!C.enabled)return!1;if(A.length>0){const w=`${E._book}_${E._chapter}_${E._verse}`;return A.includes(w)}return y===j};if(C.enabled&&C.variant==="entry"){const E=_.find(X=>X.verses.some(K=>T(K,-1)))||_[0];if(!E)return null;const y=E.verses.length>1?`${E.verses[0].reference}-${E.verses[E.verses.length-1]._verse}`:E.verses[0].reference,w=m[B(E.verses[0])],Z=w!=null&&w.color?`${w.color}30`:void 0;return s.jsxs("div",{className:"min-h-[60vh] flex flex-col items-center justify-center p-4 animate-in fade-in duration-500 cursor-pointer",onClick:()=>C.selectionEnabled&&g(E.verses[0]),children:[s.jsx("div",{className:"text-brand font-bold uppercase tracking-widest text-sm mb-6 border-b border-brand/30 pb-2",children:y}),s.jsx("div",{className:"max-w-2xl text-center rounded-xl p-6 transition-colors duration-300",style:{backgroundColor:Z},children:s.jsx("p",{className:"font-serif leading-loose text-2xl sm:text-3xl",children:E.verses.map((X,K)=>{const J=m[B(X)],ee=!Z&&(J!=null&&J.color)?`${J.color}40`:void 0;return s.jsxs("span",{style:{backgroundColor:ee},className:"rounded px-1",children:[s.jsx("sup",{className:"text-[0.4em] text-brand opacity-60 mr-1 align-super",children:X._verse}),X.text," "]},K)})})})]})}if(C.enabled&&C.variant==="multi"){const E=_[j];if(!E)return null;const y=E.verses[0],w=C.selectedTranslationIds.length>0?u.filter(X=>C.selectedTranslationIds.includes(X.id)):u.slice(0,3),Z=E.verses.length>1?`${y.reference}-${E.verses[E.verses.length-1]._verse}`:y.reference;return s.jsxs("div",{className:"min-h-[60vh] flex flex-col items-center justify-center p-2 sm:p-4 animate-in slide-in-from-right duration-300",children:[s.jsx("div",{className:"text-center mb-8",children:s.jsx("h2",{className:"text-3xl font-serif font-bold text-brand",children:Z})}),s.jsx("div",{className:"w-full max-w-4xl grid gap-4",children:w.map(X=>s.jsxs("div",{className:"relative bg-card rounded-xl border border-border shadow-sm overflow-hidden group",children:[s.jsx("div",{className:"absolute top-2 right-2 text-[10px] font-bold uppercase tracking-wider opacity-30 border border-border px-1 rounded",children:X.displayName}),s.jsxs("div",{className:"p-4 sm:p-6 flex gap-4",children:[s.jsx("div",{className:"flex flex-col items-center gap-2 pt-1",children:s.jsx("button",{onClick:()=>g(y),className:"p-2 rounded-full hover:bg-bg text-text opacity-30 hover:opacity-100 hover:text-brand transition-all",title:"Highlight / Add Note",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})})}),s.jsx("div",{className:"flex-1 space-y-2",children:E.verses.map((K,J)=>{const H=X.verses.find(re=>re._book===K._book&&re._chapter===K._chapter&&re._verse===K._verse)||{...K,text:"..."},se=m[B(K)];return s.jsx("div",{className:J>0?"mt-2":"",children:s.jsx(Zn,{verse:H,layout:"block",fontSize:h,annotation:se,isSelected:!1,isActive:!1,onClick:()=>C.selectionEnabled&&g(H),showReference:!1})},K._verse)})})]})]},X.id))})]})}if(C.enabled&&C.variant==="context"){const E=A[0],y=f.find(w=>`${w._book}_${w._chapter}_${w._verse}`===E)||f[j];return y?s.jsx(ip,{currentVerse:y,translations:u,annotations:m,fontSize:h,onVerseClick:g,getAnnotationId:B}):null}return o==="paragraph"?s.jsx(s.Fragment,{children:_.map((E,y)=>{const Z=E.verses.some((X,K)=>T(X,E.startIndex+K))?"border-l-4 border-brand pl-4 scale-[1.02] origin-left bg-brand/5 shadow-sm transition-all duration-500":"border-l-4 border-transparent pl-4 transition-all duration-500";return s.jsxs("div",{className:`mb-4 ${Z}`,children:[(r==="collection"||r==="plan")&&(y===0||_[y-1].verses[0]._book!==E.verses[0]._book||_[y-1].verses[0]._chapter!==E.verses[0]._chapter)&&s.jsxs("div",{className:"text-xs font-bold text-brand uppercase tracking-widest mb-2 mt-6 opacity-80 border-b border-border pb-1",children:[E.verses[0]._book," ",E.verses[0]._chapter]}),s.jsx("p",{className:"text-justify",children:E.verses.map((X,K)=>{const J=E.startIndex+K,ee=m[B(X)],H=x===X;return s.jsx(Zn,{ref:se=>{k.current[J]=se},verse:X,layout:"paragraph",fontSize:h,annotation:ee,isSelected:H,isActive:!1,onClick:C.selectionEnabled?g:()=>{}},`${X._verse}`)})})]},E.id)})}):s.jsx("div",{className:"space-y-2",children:f.map((E,y)=>{const w=m[B(E)],Z=x===E,X=T(E,y),K=r==="collection"||r==="plan";return s.jsx(Zn,{ref:J=>{k.current[y]=J},verse:E,layout:"block",fontSize:h,annotation:w,isSelected:Z,isActive:X,showReference:K,onClick:C.selectionEnabled?g:()=>{}},y)})})},op=({quickActionVerse:r,timeModeConfig:o,annotations:f,onClose:u,onApplyColor:h,onOpenModal:m,onCompare:x,onOpenTSK:C,onContext:j,onClear:g,getAnnotationId:B})=>{const[A,k]=L.useState(!1);if(L.useEffect(()=>{let E=!0;return(async()=>{if(!r)return;const w=`${r._book}_${r._chapter}_${r._verse}`,Z=await F.getTSK(w);E&&k(!!Z)})(),()=>{E=!1}},[r]),!r)return null;const _=B(r),T=f[_];return s.jsxs("div",{className:"fixed bottom-4 left-4 right-4 sm:left-1/2 sm:-translate-x-1/2 sm:w-96 bg-card border border-border rounded-xl shadow-2xl z-[80] p-4 flex flex-col gap-3 animate-in slide-in-from-bottom-4 duration-300",children:[s.jsxs("div",{className:"flex justify-between items-center border-b border-border pb-2",children:[s.jsx("span",{className:"font-bold text-sm text-brand",children:r.reference}),s.jsx("button",{onClick:u,className:"text-xs opacity-50 hover:opacity-100 p-1",children:"Close"})]}),s.jsx("div",{className:"flex justify-center gap-3 py-1",children:Object.entries(_b).map(([E,y])=>s.jsx("button",{onClick:()=>h(y),style:{backgroundColor:y},className:`w-8 h-8 rounded-full shadow-sm border border-black/10 transition-transform hover:scale-110 ${(T==null?void 0:T.color)===y?"ring-2 ring-text ring-offset-2 ring-offset-card":""}`,title:E},E))}),s.jsxs("div",{className:"grid grid-cols-5 gap-1 pt-1",children:[s.jsxs("button",{onClick:j,className:"flex items-center justify-center gap-1 px-1 py-2 bg-bg border border-border rounded hover:border-brand transition-colors text-xs font-bold",title:"View in Context (Full Chapter)",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),s.jsx("span",{className:"hidden sm:inline",children:"Context"})]}),s.jsxs("button",{onClick:m,className:"flex items-center justify-center gap-1 px-1 py-2 bg-bg border border-border rounded hover:border-brand transition-colors text-xs font-bold",title:T!=null&&T.note?"Edit Note":"Add Note",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})}),s.jsx("span",{className:"hidden sm:inline",children:T!=null&&T.note?"Edit":"Note"})]}),s.jsxs("button",{onClick:x,className:"flex items-center justify-center gap-1 px-1 py-2 bg-bg border border-border rounded hover:border-brand transition-colors text-xs font-bold",title:"Compare Translations",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})}),s.jsx("span",{className:"hidden sm:inline",children:"Compare"})]}),s.jsxs("button",{onClick:C,disabled:!A,className:`flex items-center justify-center gap-1 px-1 py-2 border rounded transition-colors text-xs font-bold ${A?"bg-bg border-border hover:border-brand":"bg-bg/50 border-transparent opacity-30 cursor-not-allowed"}`,title:"Cross References (TSK)",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),s.jsx("span",{className:"hidden sm:inline",children:"Refs"})]}),s.jsxs("button",{onClick:g,disabled:!T,className:"flex items-center justify-center gap-1 px-1 py-2 bg-bg border border-border rounded hover:border-red-500 hover:text-red-500 transition-colors text-xs font-bold disabled:opacity-30 disabled:hover:border-border disabled:hover:text-text",title:"Clear Highlight & Note",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),s.jsx("span",{className:"hidden sm:inline",children:"Clear"})]})]})]})},rp=({activeComparisonVerse:r,translations:o,onClose:f})=>{if(!r)return null;const u=o.map(h=>{const m=h.verses.find(x=>x._book===r._book&&x._chapter===r._chapter&&x._verse===r._verse);return{name:h.displayName,text:m?m.text:"Verse not available in this translation."}});return s.jsx("div",{className:"fixed inset-0 z-[100] bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 animate-in fade-in duration-200",onClick:f,children:s.jsxs("div",{className:"bg-bg border border-border w-full max-w-2xl rounded-xl shadow-2xl overflow-hidden flex flex-col max-h-[85vh]",onClick:h=>h.stopPropagation(),children:[s.jsxs("div",{className:"p-4 border-b border-border bg-card flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg sm:text-xl text-brand",children:r.reference}),s.jsx("p",{className:"text-xs opacity-50 uppercase tracking-wider",children:"Translation Comparison"})]}),s.jsx("button",{onClick:f,className:"text-xl opacity-50 hover:opacity-100",children:""})]}),s.jsx("div",{className:"overflow-y-auto p-4 space-y-4",children:u.map((h,m)=>s.jsxs("div",{className:"bg-card p-4 rounded border border-border hover:border-brand/50 transition-colors",children:[s.jsx("div",{className:"text-xs font-bold opacity-50 mb-2 uppercase",children:h.name}),s.jsx("p",{className:"font-serif leading-relaxed text-sm sm:text-base",children:h.text})]},m))}),s.jsx("div",{className:"p-3 border-t border-border bg-bg flex justify-end",children:s.jsx("button",{onClick:f,className:"px-4 py-2 bg-brand text-white text-sm font-bold rounded",children:"Close"})})]})})},up=({isOpen:r,onClose:o,currentTheme:f,onThemeChange:u,fontSize:h,onFontSizeChange:m,verseLayout:x,onVerseLayoutChange:C,timeModeConfig:j,onTimeModeChange:g,onNavigateSettings:B,translations:A=[],collections:k=[],viewMode:_,onViewModeChange:T,activeTranslationId:E,onActiveTranslationChange:y,activeCollectionName:w,onCollectionChange:Z})=>{const X=L.useRef(null);L.useEffect(()=>{const H=se=>{X.current&&!X.current.contains(se.target)&&r&&o()};return document.addEventListener("mousedown",H),()=>document.removeEventListener("mousedown",H)},[r,o]);const K=H=>{g({...j,...H})},J=H=>{const se=new Set(j.selectedTranslationIds);se.has(H)?se.delete(H):se.add(H),K({selectedTranslationIds:Array.from(se)})},ee=H=>{switch(H){case"full":return"Auto-Scroll";case"entry":return"Focus";case"multi":return"Multi-Ver";case"context":return"Context";default:return H}};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:`fixed inset-0 bg-black/50 z-[90] transition-opacity duration-200 ${r?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,"aria-hidden":"true"}),s.jsxs("div",{ref:X,className:`fixed top-0 right-0 bottom-0 w-72 bg-bg border-l border-border z-[100] transform transition-transform duration-200 ease-out flex flex-col ${r?"translate-x-0":"translate-x-full"}`,children:[s.jsxs("div",{className:"p-4 border-b border-border flex justify-between items-center",children:[s.jsx("h2",{className:"font-bold text-lg",children:"Options"}),s.jsx("button",{onClick:o,className:"text-2xl leading-none opacity-50 hover:opacity-100",children:""})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:[T&&s.jsxs("section",{children:[s.jsx("h3",{className:"text-xs font-bold uppercase opacity-50 mb-2",children:"Mode"}),s.jsxs("div",{className:"flex gap-2 mb-3",children:[s.jsx("button",{onClick:()=>T("bible"),className:`flex-1 py-1.5 text-xs font-bold border rounded transition-colors ${_==="bible"?"border-brand text-brand":"border-border opacity-60"}`,children:"Bible"}),s.jsx("button",{onClick:()=>T("collection"),className:`flex-1 py-1.5 text-xs font-bold border rounded transition-colors ${_==="collection"?"border-brand text-brand":"border-border opacity-60"}`,children:"Collection"})]}),_==="bible"&&A.length>0&&y&&s.jsx("div",{children:s.jsx("select",{value:E||"",onChange:H=>y(H.target.value),className:"w-full bg-bg border border-border rounded p-1.5 text-xs font-bold",children:A.map(H=>s.jsx("option",{value:H.id,children:H.displayName},H.id))})}),_==="collection"&&k.length>0&&Z&&s.jsx("div",{children:s.jsxs("select",{value:w||"",onChange:H=>Z(H.target.value),className:"w-full bg-bg border border-border rounded p-1.5 text-xs font-bold",children:[s.jsx("option",{value:"",disabled:!0,children:"Select Collection"}),k.map(H=>s.jsx("option",{value:H.name,children:H.name},H.name))]})})]}),s.jsxs("section",{children:[s.jsx("h3",{className:"text-xs font-bold uppercase opacity-50 mb-2",children:"Layout"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>C("block"),className:`flex-1 py-1.5 text-xs font-bold border rounded transition-colors ${x==="block"?"border-brand text-brand":"border-border opacity-60"}`,children:"List"}),s.jsx("button",{onClick:()=>C("paragraph"),className:`flex-1 py-1.5 text-xs font-bold border rounded transition-colors ${x==="paragraph"?"border-brand text-brand":"border-border opacity-60"}`,children:"Text"})]})]}),s.jsxs("section",{className:"border-t border-border pt-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"font-bold text-sm",children:"Time Mode"}),s.jsx("input",{type:"checkbox",checked:j.enabled,onChange:H=>K({enabled:H.target.checked,isPlaying:H.target.checked}),className:"accent-brand w-4 h-4"})]}),j.enabled&&s.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold opacity-60 block mb-1",children:"Seconds per slide"}),s.jsx("input",{type:"number",min:"1",value:j.duration,onChange:H=>K({duration:Number(H.target.value)}),className:"w-full bg-bg border border-border rounded p-1.5 text-xs"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-xs font-bold cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:j.groupingEnabled,onChange:H=>K({groupingEnabled:H.target.checked}),className:"accent-brand"}),s.jsx("span",{children:"Compound Verses"})]}),s.jsxs("label",{className:"flex items-center gap-2 text-xs font-bold cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:j.selectionEnabled,onChange:H=>K({selectionEnabled:H.target.checked}),className:"accent-brand"}),s.jsx("span",{children:"Allow Selection"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold opacity-60 block mb-1",children:"HUD Style"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>K({controlStyle:"standard"}),className:`flex-1 py-1 text-[10px] uppercase border rounded ${j.controlStyle==="standard"?"border-brand text-brand":"border-border opacity-50"}`,children:"Standard"}),s.jsx("button",{onClick:()=>K({controlStyle:"compact"}),className:`flex-1 py-1 text-[10px] uppercase border rounded ${j.controlStyle==="compact"?"border-brand text-brand":"border-border opacity-50"}`,children:"Compact"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold opacity-60 block mb-1",children:"View Style"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:["full","entry","multi","context"].map(H=>s.jsx("button",{onClick:()=>K({variant:H}),className:`py-1 text-[10px] uppercase border rounded ${j.variant===H?"border-brand text-brand":"border-border opacity-50"}`,children:ee(H)},H))})]}),j.variant==="multi"&&s.jsxs("div",{className:"border border-border rounded p-2 max-h-32 overflow-y-auto",children:[s.jsx("label",{className:"text-xs font-bold opacity-60 block mb-1",children:"Versions"}),A.map(H=>s.jsxs("label",{className:"flex items-center gap-2 text-xs py-0.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:j.selectedTranslationIds.includes(H.id),onChange:()=>J(H.id),className:"accent-brand"}),s.jsx("span",{className:"truncate",children:H.displayName})]},H.id))]})]})]})]}),s.jsx("div",{className:"p-4 border-t border-border",children:s.jsx("button",{onClick:()=>{o(),B()},className:"w-full py-2 bg-bg border border-border rounded text-xs font-bold hover:border-text transition-colors",children:"More Settings"})})]})]})},dp=Ce.memo(({config:r,onUpdateConfig:o,currentIndex:f,totalItems:u,onSeek:h,currentLabel:m})=>{if(!r.enabled)return null;const x=u>0?f/(u-1)*100:0,C=()=>h(Math.max(0,f-1)),j=()=>h(Math.min(u-1,f+1)),g=()=>o({isPlaying:!r.isPlaying}),B=()=>s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M6 6h2v12H6zm3.5 6l8.5 6V6z"})}),A=()=>s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"})}),k=()=>s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M8 5v14l11-7z"})}),_=()=>s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"})}),T=()=>s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})});if(r.controlStyle==="standard")return s.jsxs("div",{className:"fixed bottom-0 left-0 right-0 z-[70] bg-card border-t border-border shadow-[0_-4px_20px_rgba(0,0,0,0.2)] pb-safe animate-in slide-in-from-bottom-full duration-300",children:[s.jsxs("div",{className:"relative h-1.5 w-full bg-bg cursor-pointer group",children:[s.jsx("div",{className:"absolute top-0 left-0 bottom-0 bg-brand transition-all duration-300",style:{width:`${x}%`}}),s.jsx("input",{type:"range",min:0,max:u-1,value:f,onChange:E=>h(Number(E.target.value)),className:"absolute inset-0 w-full opacity-0 cursor-pointer"})]}),s.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-3 flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-xs font-bold text-brand uppercase tracking-wider mb-0.5",children:"Auto-Scroll Mode"}),s.jsx("div",{className:"text-sm font-serif font-bold truncate",children:m})]}),s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsx("button",{type:"button",onClick:C,className:"p-2 text-text opacity-70 hover:opacity-100 hover:text-brand transition-colors",children:s.jsx(B,{})}),s.jsx("button",{type:"button",onClick:g,className:"w-12 h-12 rounded-full bg-brand text-white flex items-center justify-center hover:scale-105 transition-transform shadow-lg cursor-pointer z-50",children:r.isPlaying?s.jsx(_,{}):s.jsx(k,{})}),s.jsx("button",{type:"button",onClick:j,className:"p-2 text-text opacity-70 hover:opacity-100 hover:text-brand transition-colors",children:s.jsx(A,{})})]}),s.jsxs("div",{className:"flex-1 flex justify-end items-center gap-4",children:[s.jsxs("div",{className:"hidden sm:block text-xs font-mono opacity-50",children:[f+1," / ",u]}),s.jsx("button",{type:"button",onClick:()=>o({enabled:!1}),className:"p-2 rounded-full hover:bg-bg text-red-400 hover:text-red-500 transition-colors",title:"Exit Time Mode",children:s.jsx(T,{})})]})]})]});if(r.controlStyle==="compact"){const y=2*Math.PI*18;return s.jsxs("div",{className:"fixed bottom-20 left-1/2 -translate-x-1/2 z-[70] animate-in zoom-in-95 duration-200",children:[s.jsx("style",{children:`
                        @keyframes circularCountdown {
                            from { stroke-dashoffset: 0; }
                            to { stroke-dashoffset: ${y}; }
                        }
                    `}),s.jsxs("div",{className:"bg-black/80 backdrop-blur-md text-white rounded-full p-2 pr-6 flex items-center gap-4 shadow-2xl border border-white/10",children:[s.jsxs("div",{className:"relative w-12 h-12 flex items-center justify-center",children:[s.jsxs("svg",{className:"absolute inset-0 w-full h-full -rotate-90",children:[s.jsx("circle",{cx:"24",cy:"24",r:18,stroke:"currentColor",strokeWidth:"3",fill:"transparent",className:"text-white/10"}),r.isPlaying&&!r.isSystemPaused&&s.jsx("circle",{cx:"24",cy:"24",r:18,stroke:"currentColor",strokeWidth:"3",fill:"transparent",strokeDasharray:y,strokeDashoffset:"0",className:"text-brand",style:{animation:`circularCountdown ${r.duration}s linear forwards`}},f)]}),s.jsx("button",{type:"button",onClick:g,className:"relative z-10 p-2 rounded-full hover:scale-110 transition-transform text-white cursor-pointer",children:r.isPlaying?s.jsx(_,{}):s.jsx(k,{})})]}),s.jsxs("div",{className:"flex flex-col min-w-[100px]",children:[s.jsxs("div",{className:"text-[10px] font-bold text-brand uppercase leading-none mb-1 flex justify-between",children:[s.jsx("span",{children:"Reading"}),s.jsxs("span",{className:"opacity-80 font-mono",children:[f+1,"/",u]})]}),s.jsx("div",{className:"text-xs font-bold font-serif truncate w-32",children:m})]}),s.jsxs("div",{className:"flex items-center gap-1 border-l border-white/10 pl-3",children:[s.jsx("button",{type:"button",onClick:C,className:"p-1.5 hover:text-brand transition-colors",children:s.jsx(B,{})}),s.jsx("button",{type:"button",onClick:j,className:"p-1.5 hover:text-brand transition-colors",children:s.jsx(A,{})})]}),s.jsx("button",{type:"button",onClick:()=>o({enabled:!1}),className:"ml-2 w-6 h-6 rounded-full bg-white/10 hover:bg-red-500 flex items-center justify-center transition-colors",children:s.jsx(T,{})})]})]})}return null});function fp(r,o,f=50){if(!r||r.trim().length<2)return[];const u=r.toLowerCase().trim(),h=[];for(const m of o)if(m.text.toLowerCase().includes(u)&&(h.push(m),h.length>=f))break;return h}const hp=({isOpen:r,onClose:o,allVerses:f,onNavigateToVerse:u})=>{const[h,m]=L.useState(""),[x,C]=L.useState([]),[j,g]=L.useTransition(),B=L.useRef(null);L.useEffect(()=>{r&&B.current&&setTimeout(()=>{var k;return(k=B.current)==null?void 0:k.focus()},100)},[r]),L.useEffect(()=>{r||(m(""),C([]))},[r]);const A=k=>{const _=k.target.value;m(_),g(()=>{if(!_.trim())C([]);else{const T=fp(_,f);C(T)}})};return r?s.jsx("div",{className:"fixed inset-0 z-[100] bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 animate-in fade-in duration-200",onClick:o,children:s.jsxs("div",{className:"bg-bg border border-border w-full max-w-2xl rounded-xl shadow-2xl overflow-hidden flex flex-col h-[80vh]",onClick:k=>k.stopPropagation(),children:[s.jsxs("div",{className:"p-4 border-b border-border bg-card",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"font-bold text-lg text-brand",children:"Search Bible"}),s.jsx("button",{onClick:o,className:"text-2xl opacity-50 hover:opacity-100",children:""})]}),s.jsx("div",{className:"flex gap-2",children:s.jsx("input",{ref:B,type:"text",className:"flex-1 bg-bg border border-border rounded-lg px-4 py-2 focus:border-brand focus:outline-none font-serif text-text",placeholder:"Search for words (e.g., 'faith', 'love neighbor')...",value:h,onChange:A})})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 bg-bg/50",children:[j&&s.jsx("div",{className:"text-center py-4 text-brand text-xs font-bold uppercase tracking-widest animate-pulse",children:"Searching..."}),!j&&x.length===0&&h&&s.jsxs("div",{className:"text-center opacity-50 py-10",children:['No results found for "',h,'".']}),!h&&s.jsxs("div",{className:"text-center opacity-50 py-10 flex flex-col items-center gap-2",children:[s.jsx("svg",{className:"w-12 h-12 opacity-20",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),s.jsx("p",{children:"Type keywords to search the active translation."})]}),s.jsx("div",{className:`space-y-2 transition-opacity ${j?"opacity-50":"opacity-100"}`,children:x.map((k,_)=>s.jsx(Zn,{verse:k,layout:"block",fontSize:16,showReference:!0,onClick:T=>{u(T._book,T._chapter,T._verse),o()}},_))}),!j&&x.length>=50&&s.jsx("div",{className:"text-center py-4 opacity-50 text-xs italic",children:"Showing first 50 results. Refine your query for more specific results."})]})]})}):null},mp=Ce.memo(({verse:r,initialNote:o,onSave:f,onCancel:u})=>{const[h,m]=L.useState(o);return s.jsx("div",{className:"fixed inset-0 z-[100] bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 animate-in fade-in duration-200",children:s.jsxs("div",{className:"bg-bg border border-border w-full max-w-lg rounded-xl shadow-2xl overflow-hidden flex flex-col relative z-[101]",children:[s.jsxs("div",{className:"p-4 border-b border-border bg-card flex justify-between items-center",children:[s.jsxs("h3",{className:"font-bold",children:["Note for ",r.reference]}),s.jsx("button",{onClick:u,className:"text-xl opacity-50",children:""})]}),s.jsx("textarea",{className:"w-full h-40 bg-bg p-4 focus:outline-none resize-none font-serif",placeholder:"Write your thoughts here...",value:h,onChange:x=>m(x.target.value),autoFocus:!0}),s.jsxs("div",{className:"p-3 border-t border-border bg-card flex justify-end gap-2",children:[s.jsx("button",{onClick:u,className:"px-4 py-2 text-sm font-bold opacity-60 hover:opacity-100",children:"Cancel"}),s.jsx("button",{onClick:()=>f(h),className:"px-4 py-2 bg-brand text-white text-sm font-bold rounded",children:"Save Note"})]})]})})}),bp=r=>({loading:!0,data:null,displayRef:r.reference,displayText:r.text});function pp(r,o){switch(o.type){case"LOAD_SUCCESS":return{...r,loading:!1,data:o.payload};case"SET_VIEW":return{...r,displayRef:o.payload.ref,displayText:o.payload.text};default:return r}}const xp=({verse:r,translationIndex:o,onClose:f})=>{const[u,h]=L.useReducer(pp,r,bp);L.useEffect(()=>{let x=!0;return(async()=>{const j=`${r._book}_${r._chapter}_${r._verse}`,g=await F.getTSK(j);x&&h({type:"LOAD_SUCCESS",payload:g||null})})(),()=>{x=!1}},[r]);const m=L.useCallback(x=>{const C=hi(x);if(!C){h({type:"SET_VIEW",payload:{ref:x,text:"Could not parse reference."}});return}const j=fi(C.book),g=o.get(j);if(g){const B=g.get(C.chapter);if(B){const A=B.filter(k=>k._verse>=C.startVerse&&k._verse<=C.endVerse);if(A.length>0){const k=A.map(_=>_.text).join(" ");h({type:"SET_VIEW",payload:{ref:x,text:k}});return}}}h({type:"SET_VIEW",payload:{ref:x,text:"Text not found in current translation."}})},[o]);return r?s.jsx("div",{className:"fixed inset-0 z-[100] bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 animate-in fade-in duration-200",onClick:f,children:s.jsxs("div",{className:"bg-bg border border-border w-full max-w-lg rounded-xl shadow-2xl overflow-hidden flex flex-col max-h-[85vh]",onClick:x=>x.stopPropagation(),children:[s.jsxs("div",{className:"flex justify-between items-center p-3 border-b border-border bg-bg shrink-0",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[10px] font-bold uppercase tracking-widest text-brand opacity-60",children:"Cross References"}),s.jsxs("div",{className:"font-bold text-sm",children:["Source: ",r.reference]})]}),s.jsx("button",{onClick:f,className:"p-2 hover:bg-card rounded-full opacity-50 hover:opacity-100 transition-colors",children:s.jsx("span",{className:"text-xl leading-none",children:""})})]}),s.jsxs("div",{className:"bg-card border-b-4 border-border p-4 shadow-sm shrink-0 transition-colors duration-300",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-brand font-bold text-base border-b-2 border-brand/20 pb-0.5",children:u.displayRef}),u.displayRef!==r.reference&&s.jsx("button",{onClick:()=>m(r.reference),className:"text-[10px] uppercase font-bold text-text opacity-40 hover:opacity-100 border border-border px-2 py-1 rounded hover:bg-bg",children:"Reset to Source"})]}),s.jsx("div",{className:"max-h-[150px] overflow-y-auto pr-1 custom-scrollbar",children:s.jsx("p",{className:"font-serif text-lg leading-relaxed text-text",children:u.displayText})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto bg-bg/50 p-0",children:u.loading?s.jsx("div",{className:"text-center py-10 opacity-50 text-sm",children:"Loading commentary..."}):u.data?s.jsx("div",{className:"divide-y divide-border/50",children:u.data.entries.map((x,C)=>{const[j,...g]=x;return s.jsx("div",{className:"p-3 hover:bg-black/5 transition-colors",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-20 shrink-0 pt-1.5",children:s.jsx("div",{className:"text-xs font-bold text-brand uppercase text-right leading-tight",children:j})}),s.jsx("div",{className:"flex-1 flex flex-wrap gap-1.5",children:g.map((B,A)=>{const k=u.displayRef===B;return s.jsx("button",{onClick:()=>m(B),className:`
                                                                px-2 py-1 text-xs rounded border transition-all duration-200 font-medium
                                                                ${k?"bg-brand text-white border-brand shadow-sm scale-105":"bg-card border-border hover:border-brand hover:text-brand text-text/80"}
                                                            `,children:B},A)})})]})},C)})}):s.jsx("div",{className:"text-center py-10 opacity-50 italic text-sm",children:"No cross-references found for this verse."})}),s.jsx("div",{className:"h-4 bg-gradient-to-t from-bg to-transparent pointer-events-none shrink-0"})]})}):null},gp=({verses:r,onClose:o})=>{const[f,u]=L.useState(!1),[h,m]=L.useState(!1),[x,C]=L.useState(0),j=Ce.useMemo(()=>r.map(T=>T.text).join(". "),[r]),g=L.useRef(null);L.useEffect(()=>{if(!j)return;const T=new SpeechSynthesisUtterance(j);return T.rate=1,T.pitch=1,T.onend=()=>{u(!1),C(100),h&&setTimeout(()=>A(),500)},T.onboundary=E=>{if(E.name==="word"||E.name==="sentence"){const y=E.charIndex/j.length*100;C(y)}},T.onerror=E=>{console.error("TTS Error",E),u(!1)},g.current=T,A(),()=>{window.speechSynthesis.cancel()}},[j]),L.useEffect(()=>{},[h]);const B=L.useRef(h);L.useEffect(()=>{B.current=h},[h]),L.useEffect(()=>{g.current&&(g.current.onend=()=>{u(!1),C(100),B.current&&(window.speechSynthesis.cancel(),setTimeout(()=>{const T=new SpeechSynthesisUtterance(j);T.onend=g.current.onend,T.onboundary=g.current.onboundary,g.current=T,window.speechSynthesis.speak(T),u(!0),C(0)},200))})},[j]);const A=()=>{window.speechSynthesis.paused?(window.speechSynthesis.resume(),u(!0)):window.speechSynthesis.speaking||g.current&&(window.speechSynthesis.speak(g.current),u(!0))},k=()=>{window.speechSynthesis.pause(),u(!1)},_=()=>{window.speechSynthesis.cancel(),u(!1),C(0),o()};return s.jsx("div",{className:"fixed bottom-20 right-4 z-[70] animate-in slide-in-from-right duration-300",children:s.jsxs("div",{className:"bg-card border border-border shadow-xl rounded-lg p-3 w-64 flex flex-col gap-3",children:[s.jsxs("div",{className:"flex justify-between items-center border-b border-border pb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs font-bold uppercase text-brand",children:"TTS Reader"}),h&&s.jsx("span",{className:"text-[10px] bg-brand/20 text-brand px-1 rounded",children:"Loop"})]}),s.jsx("button",{onClick:_,className:"text-red-400 hover:text-red-500",children:s.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("div",{className:"flex items-center justify-center gap-4",children:[s.jsx("button",{onClick:()=>m(!h),className:`p-2 rounded-full transition-colors ${h?"bg-brand text-white":"hover:bg-bg text-text/60"}`,title:"Toggle Loop",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),s.jsx("button",{onClick:f?k:A,className:"w-10 h-10 bg-brand text-white rounded-full flex items-center justify-center shadow-lg hover:scale-105 transition-transform",children:f?s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"})}):s.jsx("svg",{className:"w-5 h-5 ml-0.5",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M8 5v14l11-7z"})})})]}),s.jsx("div",{className:"h-1 bg-bg rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-brand transition-all duration-300 ease-linear",style:{width:`${x}%`}})})]})})},vp={translations:[],collections:[],annotations:{},visuals:[],audioAssets:[],activeTranslationId:null,loading:!0};function yp(r,o){switch(o.type){case"INIT_DATA":return{...r,...o.payload,loading:!1};case"SET_ACTIVE_TRANSLATION":return{...r,activeTranslationId:o.id};case"UPDATE_ANNOTATION":return{...r,annotations:{...r.annotations,[o.annotation.id]:o.annotation}};case"REMOVE_ANNOTATION":const f={...r.annotations};return delete f[o.id],{...r,annotations:f};default:return r}}function Sp(){const[r,o]=L.useReducer(yp,vp),f=L.useMemo(()=>r.translations.find(g=>g.id===r.activeTranslationId)||r.translations[0],[r.translations,r.activeTranslationId]),u=L.useMemo(()=>{const g=new Map;if(!f)return g;for(const B of f.verses){g.has(B._book)||g.set(B._book,new Map);const A=g.get(B._book);A.has(B._chapter)||A.set(B._chapter,[]),A.get(B._chapter).push(B)}return g},[f]),h=L.useCallback(async()=>{const[g,B,A,k,_]=await Promise.all([F.getTranslations(),F.getCollections(),F.getAnnotations(),F.getVisuals(),F.getAudio()]);let T=r.activeTranslationId;g.length>0&&!T&&(T=await F.getSetting("activeTranslationId",g[0].id));const E={};A.forEach(y=>E[y.id]=y),o({type:"INIT_DATA",payload:{translations:g,collections:B,annotations:E,visuals:k,audioAssets:_,activeTranslationId:T}})},[r.activeTranslationId]),m=L.useCallback(async()=>{await F.init(),await h()},[h]),x=L.useCallback(g=>{o({type:"SET_ACTIVE_TRANSLATION",id:g}),F.saveSetting("activeTranslationId",g)},[]),C=L.useCallback(async g=>{o({type:"UPDATE_ANNOTATION",annotation:g}),await F.saveAnnotation(g)},[]),j=L.useCallback(async g=>{o({type:"REMOVE_ANNOTATION",id:g}),await F.deleteAnnotation(g)},[]);return{...r,setActiveTranslationId:x,activeTranslation:f,activeTranslationIndex:u,refreshData:h,initData:m,updateAnnotation:C,removeAnnotation:j}}const Wf="divine_words_backup.json",jp="https://www.googleapis.com/auth/drive.file";class Np{constructor(){this.accessToken=null}init(o,f){if(window.google)try{this.tokenClient=window.google.accounts.oauth2.initTokenClient({client_id:o,scope:jp,callback:u=>{u&&u.access_token&&(this.accessToken=u.access_token,f())}})}catch(u){console.error("Failed to init Google Token Client",u)}}login(){this.tokenClient?this.tokenClient.requestAccessToken():alert("Sync service not initialized. Please check Client ID settings.")}isLoggedIn(){return!!this.accessToken}async syncNow(){if(!this.accessToken)throw new Error("Not logged in");try{const o=await F.getFullSyncData(),u=(await F.getTranslations()).filter(_=>_.sourceUrl).map(_=>({id:_.id,displayName:_.displayName,sourceUrl:_.sourceUrl})),h=await this.findBackupFile();let m={annotations:[],collections:[],plans:[],translations:[],timestamp:0};if(h){const _=await this.downloadFile(h);m={annotations:_.annotations||[],collections:_.collections||[],plans:_.plans||[],translations:_.translations||[],timestamp:_.timestamp||0}}const x=this.smartMerge(o.annotations,m.annotations,"id"),C=this.smartMerge(o.collections,m.collections,"name"),j=this.smartMerge(o.plans,m.plans,"id"),g=this.mergeRegistries(u,m.translations),B={annotations:x,collections:C,plans:j,translations:g,timestamp:Date.now()};await this.uploadFile(B,h),await F.importSyncData({annotations:x,collections:C,plans:j});let A=0;m.translations&&m.translations.length>0&&(A=await this.restoreMissingTranslations(m.translations));const k=A>0?`, Restored ${A} Bibles`:"";return`Synced successfully! (${new Date().toLocaleTimeString()}${k})`}catch(o){throw console.error("Sync Error",o),o.message.includes("401")||o.message.includes("403")?new Error("Session expired. Please sign in again."):new Error(o.message||"Sync failed")}}async restoreMissingTranslations(o){let f=0;for(const u of o)if(!await F.getTranslation(u.id)&&u.sourceUrl)try{console.log(`Restoring missing bible: ${u.displayName} from ${u.sourceUrl}`);const m=await fetch(u.sourceUrl);if(m.ok){const x=await m.text(),C=th(x,u.id);if(C){const j={id:C.translationId,displayName:C.displayName,verses:C.verses,sourceUrl:u.sourceUrl};await F.saveTranslation(j),f++}}}catch(m){console.warn(`Failed to restore bible ${u.displayName}`,m)}return f}mergeRegistries(o,f){const u=new Map;return[...f,...o].forEach(h=>{u.set(h.id,h)}),Array.from(u.values())}smartMerge(o,f,u){const h=new Map;return f.forEach(m=>{const x=String(m[u]);h.set(x,m)}),o.forEach(m=>{const x=String(m[u]),C=h.get(x);if(C){const j=m.updatedAt||m.createdAt||0,g=C.updatedAt||C.createdAt||0;j>=g&&h.set(x,m)}else h.set(x,m)}),Array.from(h.values())}async findBackupFile(){const o=`name = '${Wf}' and trashed = false`,f=`https://www.googleapis.com/drive/v3/files?q=${encodeURIComponent(o)}&fields=files(id, name)`,u=await fetch(f,{headers:{Authorization:`Bearer ${this.accessToken}`}});if(!u.ok)throw new Error("Failed to search Drive");const h=await u.json();return h.files&&h.files.length>0?h.files[0].id:null}async downloadFile(o){const f=`https://www.googleapis.com/drive/v3/files/${o}?alt=media`,u=await fetch(f,{headers:{Authorization:`Bearer ${this.accessToken}`}});if(!u.ok)throw new Error("Failed to download backup");return await u.json()}async uploadFile(o,f){const u={name:Wf,mimeType:"application/json"},h=JSON.stringify(o),m=new FormData;m.append("metadata",new Blob([JSON.stringify(u)],{type:"application/json"})),m.append("file",new Blob([h],{type:"application/json"}));let x="https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart",C="POST";f&&(x=`https://www.googleapis.com/upload/drive/v3/files/${f}?uploadType=multipart`,C="PATCH");const j=await fetch(x,{method:C,headers:{Authorization:`Bearer ${this.accessToken}`},body:m});if(!j.ok){const g=await j.text();throw new Error("Failed to upload: "+g)}}}const ui=new Np,Ep={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_GOOGLE_CLIENT_ID:"767326088498-h5ecfmq7q5vpl5vs17k4jikrucfuc7b5.apps.googleusercontent.com"};var di={};const Tp={currentTheme:Jt.Dark,fontSize:18,verseLayout:"block",slideshowEnabled:!1,slideshowInterval:60,overlayOpacity:.8,audioSettings:{bgmEnabled:!1,bgmVolume:.3,bgmMode:"shuffle",activeBgmId:null,sfxEnabled:!0,sfxVolume:.5,activeSfxId:null},ttsEnabled:!1,googleClientId:"",isLoggedInToGoogle:!1,isSyncing:!1,syncStatus:null};function Ap(r,o){switch(o.type){case"SET_THEME":return{...r,currentTheme:o.payload};case"SET_FONT_SIZE":return{...r,fontSize:o.payload};case"SET_LAYOUT":return{...r,verseLayout:o.payload};case"SET_SLIDESHOW":return{...r,...o.payload};case"SET_AUDIO":return{...r,audioSettings:{...r.audioSettings,...o.payload}};case"SET_TTS_ENABLED":return{...r,ttsEnabled:o.payload};case"SET_CLIENT_ID":return{...r,googleClientId:o.payload};case"SET_LOGGED_IN":return{...r,isLoggedInToGoogle:o.payload};case"SET_SYNCING":return{...r,isSyncing:o.payload};case"SET_SYNC_STATUS":return{...r,syncStatus:o.payload};case"INIT_SETTINGS":return{...r,...o.payload};default:return r}}const Ff=()=>{try{if(typeof import.meta<"u"&&Ep)return"767326088498-h5ecfmq7q5vpl5vs17k4jikrucfuc7b5.apps.googleusercontent.com"}catch{}try{if(typeof process<"u"&&di)return di.REACT_APP_GOOGLE_CLIENT_ID||di.GOOGLE_CLIENT_ID||di.VITE_GOOGLE_CLIENT_ID}catch{}return""};function _p(r){const[o,f]=L.useReducer(Ap,Tp),u=L.useRef(null),h=L.useRef(!1);L.useEffect(()=>{(async()=>{const Z=Ff(),X=await F.getSetting("googleClientId",""),K=Z||X,[J,ee,H,se,re,Ge,we,Se,Ve,Re,qe,z,$,P]=await Promise.all([F.getSetting("theme",Jt.Dark),F.getSetting("fontSize",18),F.getSetting("verseLayout","block"),F.getSetting("slideshowEnabled",!1),F.getSetting("slideshowInterval",60),F.getSetting("overlayOpacity",.8),F.getSetting("bgmEnabled",!1),F.getSetting("bgmVolume",.3),F.getSetting("bgmMode","shuffle"),F.getSetting("activeBgmId",null),F.getSetting("sfxEnabled",!0),F.getSetting("sfxVolume",.5),F.getSetting("activeSfxId",null),F.getSetting("ttsEnabled",!1)]);if(f({type:"INIT_SETTINGS",payload:{currentTheme:J,fontSize:ee,verseLayout:H,slideshowEnabled:se,slideshowInterval:re,overlayOpacity:Ge,audioSettings:{bgmEnabled:we,bgmVolume:Se,bgmMode:Ve,activeBgmId:Re,sfxEnabled:qe,sfxVolume:z,activeSfxId:$},ttsEnabled:P,googleClientId:K}}),K){const he=setInterval(()=>{window.google&&window.google.accounts&&(ui.init(K,()=>f({type:"SET_LOGGED_IN",payload:!0})),clearInterval(he))},100);setTimeout(()=>clearInterval(he),1e4)}})()},[]),L.useEffect(()=>{const w=Cb[o.currentTheme];for(const[X,K]of Object.entries(w))document.documentElement.style.setProperty(X,K);const Z=document.querySelector("meta[name=theme-color]");Z&&Z.setAttribute("content",w["--bg-color"])},[o.currentTheme]),L.useEffect(()=>{h.current=o.isSyncing},[o.isSyncing]);const m=L.useCallback(w=>{f({type:"SET_THEME",payload:w}),F.saveSetting("theme",w)},[]),x=L.useCallback(w=>{f({type:"SET_FONT_SIZE",payload:w}),F.saveSetting("fontSize",w)},[]),C=L.useCallback(w=>{f({type:"SET_LAYOUT",payload:w}),F.saveSetting("verseLayout",w)},[]),j=L.useCallback(w=>{f({type:"SET_SLIDESHOW",payload:{slideshowEnabled:w}}),F.saveSetting("slideshowEnabled",w)},[]),g=L.useCallback(w=>{f({type:"SET_SLIDESHOW",payload:{slideshowInterval:w}}),F.saveSetting("slideshowInterval",w)},[]),B=L.useCallback(w=>{f({type:"SET_SLIDESHOW",payload:{overlayOpacity:w}}),F.saveSetting("overlayOpacity",w)},[]),A=L.useCallback(w=>{f({type:"SET_AUDIO",payload:w}),Object.entries(w).forEach(([Z,X])=>{F.saveSetting(Z,X)})},[]),k=L.useCallback(w=>{f({type:"SET_TTS_ENABLED",payload:w}),F.saveSetting("ttsEnabled",w)},[]),_=L.useCallback(w=>{Ff()||(f({type:"SET_CLIENT_ID",payload:w}),F.saveSetting("googleClientId",w),w&&window.google&&ui.init(w,()=>f({type:"SET_LOGGED_IN",payload:!0})))},[]),T=L.useCallback(async(w=!1)=>{if(!(!o.isLoggedInToGoogle||h.current)){f({type:"SET_SYNCING",payload:!0}),w||f({type:"SET_SYNC_STATUS",payload:"Syncing..."});try{const Z=await ui.syncNow();w||f({type:"SET_SYNC_STATUS",payload:Z}),await F.saveSetting("lastSyncTimestamp",Date.now()),await r()}catch(Z){w||f({type:"SET_SYNC_STATUS",payload:"Error: "+Z.message}),console.error("Sync failed",Z)}finally{f({type:"SET_SYNCING",payload:!1}),w||setTimeout(()=>f({type:"SET_SYNC_STATUS",payload:null}),5e3)}}},[o.isLoggedInToGoogle,r]),E=()=>T(!1),y=L.useCallback(()=>{o.isLoggedInToGoogle&&(u.current&&clearTimeout(u.current),u.current=window.setTimeout(()=>T(!0),6e4))},[o.isLoggedInToGoogle,T]);return L.useEffect(()=>{const w=async()=>{if(document.visibilityState==="visible"&&o.isLoggedInToGoogle){const Z=await F.getSetting("lastSyncTimestamp",0);Date.now()-Z>36e5&&T(!0)}};return document.addEventListener("visibilitychange",w),()=>document.removeEventListener("visibilitychange",w)},[o.isLoggedInToGoogle,T]),{...o,updateTheme:m,updateFontSize:x,updateVerseLayout:C,updateSlideshowEnabled:j,updateSlideshowInterval:g,updateOverlayOpacity:B,updateAudioSettings:A,updateTTSEnabled:k,updateClientId:_,handleSync:E,triggerDelayedSync:y,loginToGoogle:()=>ui.login()}}const Cp={config:{enabled:!1,variant:"full",controlStyle:"standard",duration:5,isPlaying:!1,isSystemPaused:!1,showProgressBar:!0,selectedTranslationIds:[],groupingEnabled:!1,selectionEnabled:!0,savedIndex:0},isLoaded:!1};function wp(r,o){switch(o.type){case"UPDATE_CONFIG":return{...r,config:{...r.config,...o.payload}};case"SET_INDEX":return{...r,config:{...r.config,savedIndex:Math.max(0,o.index)}};case"TICK":const f=r.config.savedIndex+1;return f>=o.totalItems?r.config.variant==="full"?{...r,config:{...r.config,isPlaying:!1}}:{...r,config:{...r.config,savedIndex:0}}:{...r,config:{...r.config,savedIndex:f}};case"INTERRUPT":return r.config.isSystemPaused===o.isPaused?r:{...r,config:{...r.config,isSystemPaused:o.isPaused}};case"LOAD_CONFIG":return{...r,config:{...r.config,...o.payload,isPlaying:!1,enabled:!1},isLoaded:!0};case"CLAMP_INDEX":return r.config.savedIndex>=o.totalItems&&o.totalItems>0?{...r,config:{...r.config,savedIndex:0}}:r;default:return r}}function Op(r){const[o,f]=L.useReducer(wp,Cp),u=L.useRef(null),h=o.config.groupingEnabled?r.grouped:r.simple;L.useEffect(()=>{(async()=>{const j=await F.getSetting("timeModeConfig",null);j&&f({type:"LOAD_CONFIG",payload:j})})()},[]),L.useEffect(()=>{o.isLoaded&&F.saveSetting("timeModeConfig",o.config)},[o.config,o.isLoaded]),L.useEffect(()=>{o.isLoaded&&f({type:"CLAMP_INDEX",totalItems:h})},[h,o.isLoaded]);const m=L.useCallback(C=>{if(typeof C=="function"){console.warn("Functional updates not fully supported in this refactor, pass object");return}f({type:"UPDATE_CONFIG",payload:C})},[]),x=L.useCallback(C=>{f({type:"SET_INDEX",index:C})},[]);return L.useEffect(()=>{if(!o.config.enabled)return;const C=j=>{if(!(j.target.tagName==="INPUT"||j.target.tagName==="TEXTAREA"))switch(j.key){case" ":case"k":j.preventDefault(),f({type:"UPDATE_CONFIG",payload:{isPlaying:!o.config.isPlaying}});break;case"ArrowRight":case"l":j.preventDefault(),f({type:"SET_INDEX",index:Math.min(h-1,o.config.savedIndex+1)});break;case"ArrowLeft":case"j":j.preventDefault(),f({type:"SET_INDEX",index:Math.max(0,o.config.savedIndex-1)});break;case"Escape":j.preventDefault(),f({type:"UPDATE_CONFIG",payload:{enabled:!1}});break}};return window.addEventListener("keydown",C),()=>window.removeEventListener("keydown",C)},[o.config.enabled,o.config.isPlaying,o.config.savedIndex,h]),L.useEffect(()=>(o.config.enabled&&o.config.isPlaying&&!o.config.isSystemPaused&&!document.hidden?u.current=window.setInterval(()=>{f({type:"TICK",totalItems:h})},o.config.duration*1e3):u.current&&clearInterval(u.current),()=>{u.current&&clearInterval(u.current)}),[o.config.enabled,o.config.isPlaying,o.config.isSystemPaused,o.config.duration,h]),{timeModeConfig:o.config,setTimeModeConfig:m,timeIndex:o.config.savedIndex,setTimeIndex:x}}function Mp(r,o){const f=L.useRef(null),u=L.useRef(null),[h,m]=L.useState(!1),x=r.filter(k=>k.category==="bgm"),C=r.filter(k=>k.category==="sfx"),j=x.find(k=>k.id===o.activeBgmId)||x[0],g=C.find(k=>k.id===o.activeSfxId)||C[0],B=L.useCallback(()=>{h||(f.current||(f.current=new Audio),u.current||(u.current=new Audio),f.current.play().then(()=>{var k;(k=f.current)==null||k.pause(),m(!0)}).catch(()=>{}))},[h]);L.useEffect(()=>{f.current||(f.current=new Audio);const k=f.current;if(k.volume=o.bgmVolume,k.loop=o.bgmMode==="repeat",o.bgmEnabled&&j&&h){k.src!==j.data&&(k.src=j.data);const T=k.play();T!==void 0&&T.catch(()=>{})}else k.pause();const _=()=>{if(o.bgmMode==="shuffle"&&x.length>1){const T=Math.floor(Math.random()*x.length);x[T]&&(k.currentTime=0,k.play())}};return k.addEventListener("ended",_),()=>{k.removeEventListener("ended",_)}},[o.bgmEnabled,o.bgmVolume,o.bgmMode,j,h,x]);const A=L.useCallback(()=>{if(!o.sfxEnabled||!g||!h)return;const k=new Audio(g.data);k.volume=o.sfxVolume,k.play().catch(_=>console.log("SFX Blocked",_))},[o.sfxEnabled,o.sfxVolume,g,h]);return{unlockAudio:B,playSfx:A,isAudioUnlocked:h}}function Dp(){const{translations:r,collections:o,annotations:f,visuals:u,audioAssets:h,activeTranslation:m,activeTranslationIndex:x,refreshData:C,initData:j,updateAnnotation:g,removeAnnotation:B,activeTranslationId:A,setActiveTranslationId:k}=Sp(),{currentTheme:_,updateTheme:T,fontSize:E,updateFontSize:y,verseLayout:w,updateVerseLayout:Z,slideshowEnabled:X,updateSlideshowEnabled:K,slideshowInterval:J,updateSlideshowInterval:ee,overlayOpacity:H,updateOverlayOpacity:se,audioSettings:re,updateAudioSettings:Ge,ttsEnabled:we,updateTTSEnabled:Se,googleClientId:Ve,updateClientId:Re,isLoggedInToGoogle:qe,isSyncing:z,syncStatus:$,handleSync:P,loginToGoogle:be,triggerDelayedSync:he}=_p(C),{unlockAudio:p,playSfx:G}=Mp(h,re),[S,q]=L.useReducer(Rb,zb),[Q,I]=Ce.useState(0),[ie,me]=Ce.useState(!1),[oe,Qe]=Ce.useState(!1);L.useEffect(()=>{(async()=>{const ae=await F.getSetting("lastBook",""),Te=await F.getSetting("lastChapter",1),ct=await F.getSetting("lastViewMode","bible"),ft=await F.getSetting("lastCollection","");ae&&Te&&q({type:"SET_BOOK_CHAPTER",book:ae,chapter:Te}),ct==="collection"&&ft?q({type:"SET_VIEW_MODE",mode:"collection",collectionName:ft}):ct&&q({type:"SET_VIEW_MODE",mode:ct})})()},[]),L.useEffect(()=>{S.currentBook&&F.saveSetting("lastBook",S.currentBook),S.currentChapter&&F.saveSetting("lastChapter",S.currentChapter),S.viewMode&&F.saveSetting("lastViewMode",S.viewMode),S.activeCollectionName&&F.saveSetting("lastCollection",S.activeCollectionName)},[S.currentBook,S.currentChapter,S.viewMode,S.activeCollectionName]),L.useEffect(()=>{if(!X||u.length===0)return;const W=setInterval(()=>{I(ae=>(ae+1)%u.length)},J*1e3);return()=>clearInterval(W)},[X,u.length,J]),L.useEffect(()=>{const W=()=>{me(document.hidden)};return document.addEventListener("visibilitychange",W),()=>document.removeEventListener("visibilitychange",W)},[]);const ze=L.useMemo(()=>{if(!m)return[];if(S.viewMode==="bible"){const W=x.get(S.currentBook);return W?W.get(S.currentChapter)||[]:[]}if(S.viewMode==="collection"){const W=o.find(Te=>Te.name===S.activeCollectionName);if(!W)return[];const ae=[];return W.verses.forEach(Te=>{const ct=m.verses.filter(ft=>ft._book===Te._book&&ft._chapter===Te._chapter&&ft._verse>=Te._startVerse&&ft._verse<=Te._endVerse);ae.push(...ct)}),ae}return S.viewMode==="plan"?S.currentPlanVerses:[]},[m,x,S.viewMode,S.currentBook,S.currentChapter,S.activeCollectionName,o,S.currentPlanVerses]),rt=L.useMemo(()=>Mb(ze),[ze]),{timeModeConfig:Be,setTimeModeConfig:St,timeIndex:jt,setTimeIndex:Qa}=Op({simple:ze.length,grouped:rt.length}),mi=L.useMemo(()=>{if(!Be.enabled)return[];if(Be.groupingEnabled){const W=rt[jt];return W?W.map(ae=>`${ae._book}_${ae._chapter}_${ae._verse}`):[]}else{const W=ze[jt];return W?[`${W._book}_${W._chapter}_${W._verse}`]:[]}},[Be.enabled,Be.groupingEnabled,jt,rt,ze]),Kn=L.useMemo(()=>{var W;if(!Be.enabled)return"";if(Be.groupingEnabled){const ae=rt[jt];return!ae||ae.length===0?"":ae.length>1?`${ae[0].reference}-${ae[ae.length-1]._verse}`:ae[0].reference}else return((W=ze[jt])==null?void 0:W.reference)||""},[Be,jt,rt,ze]);L.useEffect(()=>{Be.enabled&&Be.isPlaying&&!Be.isSystemPaused&&G()},[jt,Be.enabled,Be.isPlaying,Be.isSystemPaused,G]);const Za=L.useCallback(W=>{St(ae=>({...ae,...W}))},[St]);L.useEffect(()=>{const W=ie||!!S.quickActionVerse||S.isOptionsOpen||S.isSearchModalOpen||S.isNoteModalOpen||S.isComparisonModalOpen||S.isTSKModalOpen;Be.isSystemPaused!==W&&St(ae=>({...ae,isSystemPaused:W}))},[ie,S.quickActionVerse,S.isOptionsOpen,S.isSearchModalOpen,S.isNoteModalOpen,S.isComparisonModalOpen,S.isTSKModalOpen,Be.isSystemPaused,St]),L.useEffect(()=>{j()},[j]),L.useEffect(()=>{!S.currentBook&&r.length>0&&q({type:"SET_BOOK_CHAPTER",book:r[0].verses[0]._book,chapter:1})},[r,S.currentBook]);const Ka=L.useCallback(()=>{if(r.length===0){alert("Please install a Bible translation first via Data Manager.");return}q({type:"SET_READER_ACTIVE",active:!0}),S.viewMode||q({type:"SET_VIEW_MODE",mode:"bible",collectionName:null}),p()},[r.length,p,S.viewMode]),Ja=L.useCallback(W=>{q({type:"SET_READER_ACTIVE",active:!0}),q({type:"SET_VIEW_MODE",mode:"collection",collectionName:W}),p()},[p]),bi=L.useCallback(W=>{if(!m){alert("Please install a Bible translation first.");return}const ae=W.days[W.currentDayIndex];if(!ae)return;const Te=[],ct=ae.references.join("; ");eh(ct).parsedReferences.forEach(Pa=>{const Gl=kb(Pa,m.verses);Te.push(...Gl)}),q({type:"START_PLAN",plan:W,verses:Te}),p()},[m,p]),pi=L.useCallback(async()=>{if(!S.activePlan)return;const W={...S.activePlan};W.days[W.currentDayIndex]&&(W.days[W.currentDayIndex].completed=!0),W.currentDayIndex=Math.min(W.days.length,W.currentDayIndex+1),await F.savePlan(W),q({type:"UPDATE_PLAN",plan:W}),he(),W.currentDayIndex>=W.days.length?alert("Plan Completed! Congratulations!"):alert("Session Completed!"),q({type:"RESET_HOME"})},[S.activePlan,he]),ut=L.useCallback(W=>{q({type:"SET_BOOK_CHAPTER",book:W,chapter:1})},[]),$a=L.useCallback(W=>{q({type:"SET_BOOK_CHAPTER",book:S.currentBook,chapter:W}),window.scrollTo({top:0,behavior:"smooth"})},[S.currentBook]),Wa=L.useCallback(W=>{q({type:"SET_VIEW_MODE",mode:"collection",collectionName:W})},[]),na=L.useCallback(W=>`${W._book}_${W._chapter}_${W._verse}`,[]),sa=L.useCallback(W=>{var ct;if(S.quickActionVerse&&S.quickActionVerse._book===W._book&&S.quickActionVerse._chapter===W._chapter&&S.quickActionVerse._verse===W._verse){q({type:"SET_QUICK_VERSE",verse:null});return}const ae=`${W._book}_${W._chapter}_${W._verse}`,Te=((ct=f[ae])==null?void 0:ct.note)||"";q({type:"SET_QUICK_VERSE",verse:W,note:Te})},[f,S.quickActionVerse]),Fa=async W=>{if(!S.quickActionVerse)return;const ae=na(S.quickActionVerse),Te={id:ae,book:S.quickActionVerse._book,chapter:S.quickActionVerse._chapter,verse:S.quickActionVerse._verse,updatedAt:Date.now(),...f[ae],...W};!Te.color&&(!Te.note||!Te.note.trim())?await B(ae):await g(Te),he()},Jn=L.useCallback(()=>{S.isImmersive?document.fullscreenElement&&document.exitFullscreen().catch(()=>{}):document.documentElement.requestFullscreen().catch(()=>{}),q({type:"TOGGLE_IMMERSIVE"})},[S.isImmersive]),xi=L.useCallback(()=>q({type:"SET_READER_ACTIVE",active:!1}),[]),ia=L.useCallback(()=>q({type:"RESET_HOME"}),[]),hl=L.useCallback(()=>q({type:"NAVIGATE",page:"data-manager"}),[]),dt=L.useCallback(()=>q({type:"NAVIGATE",page:"annotations"}),[]),Yt=L.useCallback(()=>q({type:"NAVIGATE",page:"settings"}),[]),it=L.useCallback(()=>q({type:"NAVIGATE",page:"help"}),[]),$n=L.useCallback(()=>q({type:"NAVIGATE",page:"about"}),[]),gi=L.useCallback(()=>{q({type:"NAVIGATE",page:"settings"})},[]),vi=L.useCallback(()=>{q({type:"NAVIGATE",page:"home"})},[]),ml=L.useCallback((W,ae,Te)=>{q({type:"SET_BOOK_CHAPTER",book:W,chapter:ae}),q({type:"SET_READER_ACTIVE",active:!0}),p()},[p]),Hl=L.useCallback((W,ae,Te)=>{var ct;return((ct=m==null?void 0:m.verses.find(ft=>ft._book===W&&ft._chapter===ae&&ft._verse===Te))==null?void 0:ct.text)||""},[m]);return(()=>{var W;return S.currentPage==="data-manager"?s.jsx(Zb,{activeTranslationId:A,onBack:async()=>{await C(),q({type:"RESET_HOME"})}}):S.currentPage==="annotations"?s.jsx(Fb,{annotations:Object.values(f),getVerseText:Hl,onNavigateToVerse:(ae,Te,ct)=>{q({type:"SET_BOOK_CHAPTER",book:ae,chapter:Te}),q({type:"SET_READER_ACTIVE",active:!0}),q({type:"NAVIGATE",page:"home"}),p()},onBack:ia}):S.currentPage==="settings"?s.jsx(np,{onBack:vi,currentTheme:_,onThemeChange:T,fontSize:E,onFontSizeChange:y,verseLayout:w,onVerseLayoutChange:Z,slideshowEnabled:X,onSlideshowToggle:K,slideshowInterval:J,onSlideshowIntervalChange:ee,overlayOpacity:H,onOverlayOpacityChange:se,audioSettings:re,onAudioSettingsChange:Ge,ttsEnabled:we,onTTSToggle:Se,googleClientId:Ve,onClientIdChange:Re,isLoggedInToGoogle:qe,onGoogleLogin:be,onSync:P,isSyncing:z,syncStatus:$,onNavigateDataManager:hl,onNavigateHelp:it,onNavigateAbout:$n}):S.currentPage==="about"?s.jsx(Ib,{onBack:ia}):S.currentPage==="help"?s.jsx(Pb,{onBack:ia}):s.jsxs(s.Fragment,{children:[!S.isImmersive&&s.jsx(sp,{currentPage:S.currentPage,isReaderActive:S.isReaderActive,onNavigateBack:xi,onResetToHome:ia,viewMode:S.viewMode,currentBook:S.currentBook,currentChapter:S.currentChapter,availableBooks:m?Array.from(new Set(m.verses.map(ae=>ae._book))):[],availableChapters:m?Array.from(new Set(m.verses.filter(ae=>ae._book===S.currentBook).map(ae=>ae._chapter))):[],activeCollectionName:S.activeCollectionName,collections:o,activePlanTitle:(W=S.activePlan)==null?void 0:W.title,onBookChange:ut,onChapterChange:$a,onCollectionChange:Wa,onCompletePlanSession:pi,onSearchClick:()=>q({type:"TOGGLE_SEARCH_MODAL",isOpen:!0}),onMenuClick:()=>{S.isReaderActive?q({type:"TOGGLE_OPTIONS",isOpen:!0}):q({type:"NAVIGATE",page:"settings"})},ttsEnabled:we,onToggleTTSPlayer:()=>Qe(!oe)}),S.isReaderActive&&s.jsx("button",{onClick:Jn,className:"fixed top-20 right-4 z-[60] p-2 bg-black/30 backdrop-blur-sm rounded-full text-white/50 hover:text-white hover:bg-brand/80 transition-all shadow-lg",title:S.isImmersive?"Exit Immersive Mode":"Enter Immersive Mode",children:S.isImmersive?s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}):s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})})}),s.jsx("main",{className:`${S.isImmersive?"":"pt-16"} min-h-screen bg-bg text-text ${S.isReaderActive&&!S.isImmersive?"":"px-4 sm:px-6"}`,children:S.isReaderActive?s.jsxs("div",{className:`max-w-4xl mx-auto px-4 sm:px-8 ${S.isImmersive?"py-8":"py-6 sm:py-8"}`,children:[!S.isImmersive&&s.jsx(dp,{config:Be,onUpdateConfig:Za,currentIndex:jt,totalItems:Be.groupingEnabled?rt.length:ze.length,onSeek:Qa,currentLabel:Kn}),s.jsx("div",{className:`transition-all duration-300 ${!S.isImmersive&&Be.enabled&&Be.controlStyle==="standard"?"mb-24":""}`,children:s.jsx(cp,{viewMode:S.viewMode,verseLayout:w,displayedVerses:ze,translations:r,fontSize:E,annotations:f,quickActionVerse:S.quickActionVerse,timeModeConfig:Be,timeIndex:jt,onVerseClick:sa,getAnnotationId:na,activeVerseIds:mi})}),!S.isImmersive&&S.viewMode==="bible"&&ze.length>0&&s.jsxs("div",{className:"flex justify-between items-center mt-12 py-8 border-t border-border/50",children:[s.jsx("button",{onClick:()=>$a(S.currentChapter-1),disabled:S.currentChapter<=1,className:"px-4 py-2 rounded hover:bg-card disabled:opacity-20 flex items-center gap-2 font-bold text-sm",children:" Prev Chapter"}),s.jsxs("span",{className:"text-xs opacity-30 font-mono",children:[S.currentBook," ",S.currentChapter]}),s.jsx("button",{onClick:()=>$a(S.currentChapter+1),className:"px-4 py-2 rounded hover:bg-card flex items-center gap-2 font-bold text-sm",children:"Next Chapter "})]})]}):s.jsx(Wb,{activeTab:S.activeHomeTab,setActiveTab:ae=>q({type:"SET_HOME_TAB",tab:ae}),translations:r,collections:o,visuals:u,annotations:Object.values(f),currentBook:S.currentBook,currentChapter:S.currentChapter,onNavigateRead:Ka,onNavigateDataManager:hl,onNavigateCollection:Ja,onNavigateToVerse:ml,onNavigateAnnotations:dt,onNavigateSettings:Yt,onNavigateHelp:it,onNavigateAbout:$n,getVerseText:Hl,onStartPlanSession:bi,isLoggedIn:qe,isSyncing:z,onSync:P,onLogin:be})}),s.jsx(up,{isOpen:S.isOptionsOpen,onClose:()=>q({type:"TOGGLE_OPTIONS",isOpen:!1}),currentTheme:_,onThemeChange:T,fontSize:E,onFontSizeChange:y,verseLayout:w,onVerseLayoutChange:Z,timeModeConfig:Be,onTimeModeChange:St,onNavigateSettings:gi,translations:r,collections:o,viewMode:S.viewMode,onViewModeChange:ae=>q({type:"SET_VIEW_MODE",mode:ae}),activeTranslationId:A,onActiveTranslationChange:k,activeCollectionName:S.activeCollectionName,onCollectionChange:Wa}),s.jsx(op,{quickActionVerse:S.quickActionVerse,timeModeConfig:Be,annotations:f,onClose:()=>q({type:"SET_QUICK_VERSE",verse:null}),onApplyColor:ae=>{Fa({color:ae}),q({type:"SET_QUICK_VERSE",verse:null})},onOpenModal:()=>q({type:"SET_NOTE_MODAL",isOpen:!0}),onCompare:()=>q({type:"SET_COMPARE_MODAL",isOpen:!0}),onOpenTSK:()=>q({type:"SET_TSK_MODAL",isOpen:!0}),onContext:()=>{S.quickActionVerse&&(ml(S.quickActionVerse._book,S.quickActionVerse._chapter,S.quickActionVerse._verse),q({type:"SET_VIEW_MODE",mode:"bible"}),q({type:"SET_QUICK_VERSE",verse:null}))},onClear:()=>{Fa({color:void 0,note:void 0}),q({type:"SET_QUICK_VERSE",verse:null})},getAnnotationId:na}),s.jsx(hp,{isOpen:S.isSearchModalOpen,onClose:()=>q({type:"TOGGLE_SEARCH_MODAL",isOpen:!1}),allVerses:(m==null?void 0:m.verses)||[],onNavigateToVerse:ml}),oe&&S.isReaderActive&&s.jsx(gp,{verses:ze,onClose:()=>Qe(!1)}),S.isComparisonModalOpen&&s.jsx(rp,{activeComparisonVerse:S.quickActionVerse,translations:r,onClose:()=>q({type:"SET_COMPARE_MODAL",isOpen:!1})}),S.isTSKModalOpen&&S.quickActionVerse&&s.jsx(xp,{verse:S.quickActionVerse,translationIndex:x,onClose:()=>q({type:"SET_TSK_MODAL",isOpen:!1})}),S.isNoteModalOpen&&S.quickActionVerse&&s.jsx(mp,{verse:S.quickActionVerse,initialNote:S.currentNote,onCancel:()=>q({type:"SET_NOTE_MODAL",isOpen:!1}),onSave:ae=>{Fa({note:ae}),q({type:"UPDATE_NOTE_TEXT",text:ae}),q({type:"SET_NOTE_MODAL",isOpen:!1}),q({type:"SET_QUICK_VERSE",verse:null})}})]})})()}const lh=document.getElementById("root");if(!lh)throw new Error("Could not find root element to mount to");const kp=Tb.createRoot(lh);kp.render(s.jsx(Ce.StrictMode,{children:s.jsx(Dp,{})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js").then(r=>{console.log("SW registered: ",r)}).catch(r=>{console.log("SW registration failed: ",r)})});
