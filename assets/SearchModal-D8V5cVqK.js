import{r as c,j as e,V as m}from"./index-Cen6tLtI.js";function b(s,d,x=50){if(!s||s.trim().length<2)return[];const r=s.toLowerCase().trim(),n=[];for(const o of d)if(o.text.toLowerCase().includes(r)&&(n.push(o),n.length>=x))break;return n}const y=({onClose:s,allVerses:d,onNavigateToVerse:x})=>{const[r,n]=c.useState(""),[o,u]=c.useState([]),[l,f]=c.useTransition(),h=c.useRef(null);c.useEffect(()=>{const a=setTimeout(()=>{var t;return(t=h.current)==null?void 0:t.focus()},50);return()=>clearTimeout(a)},[]);const p=a=>{const t=a.target.value;n(t),f(()=>{if(!t.trim())u([]);else{const i=b(t,d);u(i)}})};return e.jsxs("div",{className:"bg-bg border border-border w-full max-w-2xl rounded-xl shadow-2xl overflow-hidden flex flex-col h-[80vh] animate-in zoom-in-95 duration-200",children:[e.jsxs("div",{className:"p-4 border-b border-border bg-card",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"font-bold text-lg text-brand",children:"Search Bible"}),e.jsx("button",{onClick:s,className:"text-2xl opacity-50 hover:opacity-100",children:"Ã—"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsx("input",{ref:h,type:"text",className:"flex-1 bg-bg border border-border rounded-lg px-4 py-2 focus:border-brand focus:outline-none font-serif text-text",placeholder:"Search for words (e.g., 'faith', 'love neighbor')...",value:r,onChange:p})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 bg-bg/50",children:[l&&e.jsx("div",{className:"text-center py-4 text-brand text-xs font-bold uppercase tracking-widest animate-pulse",children:"Searching..."}),!l&&o.length===0&&r&&e.jsxs("div",{className:"text-center opacity-50 py-10",children:['No results found for "',r,'".']}),!r&&e.jsxs("div",{className:"text-center opacity-50 py-10 flex flex-col items-center gap-2",children:[e.jsx("svg",{className:"w-12 h-12 opacity-20",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e.jsx("p",{children:"Type keywords to search the active translation."})]}),e.jsx("div",{className:`space-y-2 transition-opacity ${l?"opacity-50":"opacity-100"}`,children:o.map((a,t)=>e.jsx(m,{verse:a,layout:"block",fontSize:16,showReference:!0,onClick:i=>{x(i._book,i._chapter,i._verse),s()}},t))}),!l&&o.length>=50&&e.jsx("div",{className:"text-center py-4 opacity-50 text-xs italic",children:"Showing first 50 results. Refine your query for more specific results."})]})]})};export{y as SearchModal};
